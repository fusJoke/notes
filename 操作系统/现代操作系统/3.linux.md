1.unix被设计成能够处理多用户和多进程的交互式系统。
2.到linux的接口
<img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200919005239142.png" alt="image-20200919005239142" style="zoom:50%;" />

linux具有三种不同的接口：①真正的系统调用接口，②库函数接口，③标准应用程序接口
3.shell也只是一个普通的用户程序。它仅仅需要从键盘读取数据，向显示器输出数据和运行其他程序的能力。
	1)shell支持通配符
	2)常常第一个程序的输出作为第二个程序的输入，通过管道符`|`
	3)后台运行一个程序使用 & 

4.linux应用程序
	1) 文件和目录操作命令
	2)过滤器。grep,head,tail
	3)程序设计工具，如编辑器和编译器
	4)文档处理
	5)系统管理
	6)其他

5.内核结构
	<img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200919011659503.png" alt="image-20200919011659503" style="zoom:50%;" />

​	内核坐落在硬件之上，负责实现与I/O设备和存储管理单元的交互，并控制CPU对前述设备的访问。

6.linux中的进程

​			1)每个进程执行一段独立的程序并且在进程初始化的时候拥有一个独立的控制线程。每个进程都拥有一个独立的程序计数器。
​	程序计数器用于存放下一条指令所在单元的地址的地方。
​			2)守护进程，即时用户已经退出登录仍然在后台运行。计划任务(cron daemon)是一个典型的守护进程。
​			3)系统调用fork将会创建一个与原始进程完全相同的进程副本。调用fork函数的进程称为父进程，新的进程称为子进程。
​					①父进程和子进程都拥有自己自由的内存映像。
​					②父进程和子进程可以共享已经打开的文件
​					③父、子进程内存映像、变量、寄存器以及其他的东西都是相同。
​					④通过进程标识符PID区分父、子进程。fork系统调用给子进程返回一个零值，给父进程一个非零值。这个就是子进程标识符。			

​			4)进程树和消息传递
​				    ①进程的子进程可以生成子进程，那么原始进程可以生成一个进程树。
​				    ②进程间的消息传递。
​						1.管道。两个进程建立一个通道，一个向通道写入字节流，一个读取。管道是同步的。一个进程试图从一个空的管道读取数据，这个进程会被挂起知道管道中有数据。shell中的管线（`|`）就是管道。
​						2.软中断。一个进程可以给另外一个进程发送信号。一个进程只可以给它所在进程组中的其他进程发送信号。
​						<img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200921101958639.png" alt="image-20200921101958639" style="zoom:50%;" />

7. linux中进程管理相关的系统调用

   ​	<img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200921144349561.png" alt="image-20200921144349561" style="zoom:50%;" />

8.linux中的进程和线程的实现。

​		每个进程都有一个运行用户程序的用户模式。但是当它的某一个线程调用系统调用之后，进程会陷入内核模式并且运行在内核上下文中，它将使用不同内存映射并且拥有对所有机器资源的访问权。它还是同一个进程，但是拥有更高的权限，同时拥有自己的内核堆栈以及内核程序计数器。
​		在linux系统内核中，进程通过数据结构task_struct被表示为任务。linux系统用任务的数据结构来表示所有执行的上下文。一个单线程的进程只有一个任务数据结构，而一个多线程的进程将为每一个用户级线程分配一个任务数据结构。
​		对于每一个进程，一个类型为task_struct的**进程描述符**始终存在于内存当中。它包含了内核管理全部进程是所需的重要信息。进程标识符PID来区分进程。内核将所有进程的任务数据结构组成一个双向链表，PID可以直接被映射成进程的任务数据结构所在的地址，从而立即访问进程的信息。
​		进程描述符的信息：
​		①调度参数。进程的优先级，消耗时间，睡眠时间
​		②内存映射。指向代码、数据、堆栈段或页表的指针。
​		③信号。
​		④机器寄存器。当内核陷阱发生的时候，机器寄存器的内容会被保存。
​		⑤系统调用状态。关于当前系统调用的信息，
​		⑥文件描述表。
​		⑦统计数据
​		⑧内核堆栈
​		⑨其他

​		<img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200922093256033.png" alt="image-20200922093256033" style="zoom:50%;" />



9.linux中的线程
		从历史观点来说，进程是资源容器，而线程是执行单元。一个进程包含一个或多个线程，线程之间共享地址空间，已打开的文件，信号处理函数，警报信号和其他。
		clone特性
<img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200922104451672.png" alt="image-20200922104451672" style="zoom:50%;" />

​		线程调度
​		1）实时先入先出
​		2）实时轮
​		3）分时



10. linux内存管理
    	每个linux进程都有一个地址空间，逻辑上有三段组成：代码、数据和堆栈段。
    	①代码段包含了形成程序可执行的机器指令。
    	②数据段程序变量，字符串，数字和其他数据的存储。初始化数据和未初始化数据
    	③堆栈	

    ​	

    <img src="/Users/wangfusheng/Library/Application Support/typora-user-images/image-20200922134941594.png" alt="image-20200922134941594" style="zoom:50%;" />















