⼤量的程序使⽤动态链接机制会导致系统 ⾥⾯存在数量极为庞⼤的共享对象。很多库的开发者都以共享对象的形式让程序来使⽤

##### 8.1.1 共享库的兼容性

+ 兼容更新。更新后，原有的接⼜都保持不变
+ 不兼容更新。共享库更新改变了原有的接口。

接口是⼆进制接⼜，即ABI（Application Binary Interface）。ABI对于不同的语⾔来说，主要包括⼀些诸如函数 

调⽤的堆栈结构、符号命名、参数规则、数据结构的内存分布等⽅⾯的规则。

C语⾔的共享库ABI改变的⾏为主要有如下4个：

+ 导出函数的⾏为发⽣改变。
+ 导出函数被删除
+ 导出数据的结构发⽣变化
+ 导出函数的接⼜发⽣变化

##### 8.1.2 共享库版本命令

Linux有⼀套规则来命名系统中的每⼀个共享库，它规定共享库 的⽂件名规则必须如下： 

libname.so.x.y.z 

最前⾯使⽤前缀“lib”、中间是库的名字和后缀“.so”，最后⾯跟着的是三个数字组成的版本号。“x”表⽰主版本号（Major Version Number），“y”表⽰ 次版本号（Minor Version Number），“z”表⽰发布版本号（Release Version Number）

主版本号表⽰库的重⼤升级，不同主版本号的库之间是不兼容的，依赖于旧的主版本号的程序需要改动相应的部分，并且重新编译，才可以在新版的共享库中运⾏；或者，系统必须保留旧版的共享库，使得那些依赖于旧版共享库的程序能够正常运⾏

次版本号表⽰库的增量升级，即增加⼀些新的接⼜符号，且保持原来的符号不变

发布版本号表⽰库的⼀些错误的修正、性能的改进

##### 8.1.3 so-name

Solaris和Linux，普遍采⽤⼀种叫做SO-NAME的命名机制来记录共享库的依赖关系。每个共享库都有⼀个对应的“SO- NAME”，这个SO-NAME即共享库的⽂件名去掉次版本号和发布版本号保留主版本号。
	例：做libfoo.so.2.6.1，那么它的SO-NAME即 libfoo.so.2。 

在Linux系统中，系统会 为每个共享库在它所在的⽬录创建⼀个跟“SO-NAME”相同的并且指向它的软链接（Symbol Link）

###### 链接名

编译器⾥⾯使⽤共享库的时，编译器命令⾏⾥⾯指定-lXXX即可



##### 8.2 符号版本

##### 8.3 共享库系统路径