优化的方式无非两个方面：一个是正确建立索引、正确使用索引以及避免索引失效而进行的全表扫描，优化的思路则是减少回表其中包括索引覆盖，索引下推，所以要在select常查询的字段，where条件使用字段以及order by以及多利用主键索引；另外一种优化方式则是表设计以及架构方面的，比如冗余字段(减少join)、垂直拆分表、水平拆分表、主从等。



### 1.如何建立索引？联合索引的顺序？

在经常被查询到的字段，where条件以及order可能用到；

字段的值重复度高不适合建立索引，不重复度越高越值得建立；性别、标记等不适合建立

最左原则是什么？因为mysql的innodb索引实现是b+树，非叶子节点的



## 一、冗余字段

冗余字段减少join表的数量；缺点是更新或者新增数据要维护更多表；解决方式的，只要更新主要的表；其他的表通过队列或者是定时任务跑；



## 二、索引优化

1.避免类型转换

2.垂直拆表，动静分离

3.避免全表扫描

4.小表驱动大表

5.延迟关联





