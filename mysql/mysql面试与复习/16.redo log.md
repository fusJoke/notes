## redo log

为了保证持久性，需要将修改的数据刷新到磁盘。修改Page之前需要先将修改的内容记录到REDO中，并保证REDO LOG早于对应的Page落盘，也就是常说的WAL，Write Ahead Log。当故障发生导致内存数据丢失后，InnoDB会在重启时，通过重放REDO，将Page恢复到崩溃前的状态
但是有两个问题，

+ 一个是刷新一个完整的数据页非常浪费；
+ 另外一个就是随机io刷新起来非常慢

如果在事务提交时将所有修改过的内存中的页面刷新到磁盘中相比，只将该事务执行过程中产生的redo日志刷新到磁盘：

+ redo日志占用的空间非常小
+ redo日志是顺序写入磁盘的



## redo log格式

![image-20211216204908836](image-20211216204908836-9658950.png)

+ type：日志类型
+ space： 表空间id
+ page number： 页号
+ data： 具体内容

#### redo日志的类型

