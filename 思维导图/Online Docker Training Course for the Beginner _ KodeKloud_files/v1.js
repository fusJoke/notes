"use strict";(function(){if(typeof window.Userback==='undefined'){window.Userback={};}/*!
     * Bowser - a browser detector
     * https://github.com/ded/bowser
     * MIT License | (c) Dustin Diaz 2015
     */!function(e,t){e.bowser=t();}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports;}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n});},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t];}.bind(null,i));return n;},r.n=function(e){var t=e&&e.__esModule?function(){return e.default;}:function(){return e;};return r.d(t,"a",t),t;},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t);},r.p="",r(r.s=90);}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||"";},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||"";},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r;},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return;}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0;});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return;}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0;});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0;},e.getVersionPrecision=function(e){return e.split(".").length;},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),function(e){return new Array(20-e.length).join("0")+e;}).reverse();});for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1;}else if(u[0][a]<u[1][a])return-1;}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n;},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i;}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){n[t]=e[t];});};for(t=0,r=s.length;t<r;t+=1)o();return e;},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e];},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||"";},e;}();t.default=i,e.exports=t.default;},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n);}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t);},e.parse=function(e){return new i.default(e).getResult();},t=e,n=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP;}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP;}},{key:"OS_MAP",get:function(){return s.OS_MAP;}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP;}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e;}();t.default=o,e.exports=t.default;},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e};}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse();}var t=e.prototype;return t.getUA=function(){return this._ua;},t.test=function(e){return e.test(this._ua);},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser's test function is not valid");});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser;},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser();},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||"";},t.getBrowserVersion=function(){return this.getBrowser().version;},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS();},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser's test function is not valid");});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os;},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||"";},t.getOSVersion=function(){return this.getOS().version;},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform();},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||"";},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser's test function is not valid");});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform;},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine();},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||"";},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t);});throw new Error("Browser's test function is not valid");});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine;},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this;},t.getResult=function(){return o.default.assign({},this.parsedResult);},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(i[t]=a,s+=1):"object"==typeof a&&(r[t]=a,n+=1);}),n>0){var a=Object.keys(r),u=o.default.find(a,function(e){return t.isOS(e);});if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d;}var c=o.default.find(a,function(e){return t.isPlatform(e);});if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f;}}if(s>0){var l=Object.keys(i),h=o.default.find(l,function(e){return t.isBrowser(e,!0);});if(void 0!==h)return this.compareVersion(i[h]);}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r;},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1;},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase();},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase();},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase();},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e);},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e);});},e;}();t.default=d,e.exports=t.default;},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t;}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r;},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t;}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)};}}];t.default=a,e.exports=t.default;},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t};}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t};}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r};}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t;}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n;}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t};}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r;},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n;}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r;}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t};}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t};}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t};}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux};}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS};}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t};}}];t.default=a,e.exports=t.default;},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"};}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r;}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"};}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"};}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"};}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"};}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"};}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet};}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r;},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t};}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"};}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile};}},{test:function(e){return"blackberry"===e.getBrowserName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"};}},{test:function(e){return"bada"===e.getBrowserName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.mobile};}},{test:function(e){return"windows phone"===e.getBrowserName();},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"};}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3;},describe:function(){return{type:s.PLATFORMS_MAP.tablet};}},{test:function(e){return"android"===e.getOSName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.mobile};}},{test:function(e){return"macos"===e.getOSName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"};}},{test:function(e){return"windows"===e.getOSName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.desktop};}},{test:function(e){return"linux"===e.getOSName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.desktop};}},{test:function(e){return"playstation 4"===e.getOSName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.tv};}},{test:function(e){return"roku"===e.getOSName(!0);},describe:function(){return{type:s.PLATFORMS_MAP.tv};}}];t.default=a,e.exports=t.default;},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0);},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t};}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:function(e){return e.test(/presto/i);},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r;},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink};}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t;}}];t.default=a,e.exports=t.default;}});});// Preserve jquery if already loaded
var _temp_$=typeof window.$!=="undefined"?window.$:false;var _temp_jQuery=typeof window.jQuery!=="undefined"?window.jQuery:false;/*! jQuery v1.12.2 | (c) jQuery Foundation | jquery.org/license */!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a);}:b(a);}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="1.12.2",n=function(a,b){return new n.fn.init(a,b);},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase();};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this);},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this);},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b;},each:function(a){return n.each(this,a);},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b);}));},slice:function(){return this.pushStack(e.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[]);},end:function(){return this.prevObject||this.constructor();},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g;},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a);},noop:function(){},isFunction:function(a){return"function"===n.type(a);},isArray:Array.isArray||function(a){return"array"===n.type(a);},isWindow:function(a){return null!=a&&a==a.window;},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0;},isEmptyObject:function(a){var b;for(b in a)return!1;return!0;},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype,"isPrototypeOf"))return!1;}catch(c){return!1;}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b);},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a;},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b);})(b);},camelCase:function(a){return a.replace(p,"ms-").replace(q,r);},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase();},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break;}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a;},trim:function(a){return null==a?"":(a+"").replace(o,"");},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c;},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c;}return-1;},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a;},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e;},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h);},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)));},d.guid=a.guid=a.guid||n.guid++,d):void 0;},now:function(){return+new Date();},support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase();});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a;}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date(),v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0;},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1;},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320);},da=function(){m();};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType;}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b));}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1;}};}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d;}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d;}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d;}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b;}if(s)try{return H.apply(d,w.querySelectorAll(s)),d;}catch(y){}finally{k===u&&b.removeAttribute("id");}}}return i(a.replace(Q,"$1"),b,d,e);}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e;}return b;}function ha(a){return a[u]=!0,a;}function ia(a){var b=n.createElement("div");try{return!!a(b);}catch(c){return!1;}finally{b.parentNode&&b.parentNode.removeChild(b),b=null;}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b;}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1;}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a;};}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a;};}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]));});});}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a;}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1;},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className");}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length;}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length;}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[];}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b;};}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b;};}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0;}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d;}return f;},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0;},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]");}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:");})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O);}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)));}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1;},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1);}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0;},n):n;},fa.matches=function(a,b){return fa(a,null,null,b);},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d;}catch(e){}return fa(b,n,null,[a]).length>0;},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b);},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null;},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a);},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1);}return k=null,a;},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a);}else if(3===f||4===f)return a.nodeValue;}else while(b=a[d++])c+=e(b);return c;},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4);},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a;},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3));}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0;}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b;};},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"");});},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0;};},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode;}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling";}return!0;}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break;}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0;}};},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g]);}):function(a){return e(a,0,c);}):e;}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f));}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop();};}),has:ha(function(a){return function(b){return fa(a,b).length>0;};}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1;};}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1;};}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id;},root:function(a){return a===o;},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex);},enabled:function(a){return a.disabled===!1;},disabled:function(a){return a.disabled===!0;},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected;},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0;},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0;},parent:function(a){return!d.pseudos.empty(a);},header:function(a){return Y.test(a.nodeName);},input:function(a){return X.test(a.nodeName);},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b;},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase());},first:na(function(){return[0];}),last:na(function(a,b){return[b-1];}),eq:na(function(a,b,c){return[0>c?c+b:c];}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a;}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a;}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a;}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a;})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa(),g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break;}return b?h.length:h?fa.error(a):z(a,i).slice(0);};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d;}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f);}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0;}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0;}};}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0;}:a[0];}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c;}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g;}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i);}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l));}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r);});}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b;},h,!0),l=ra(function(a){return J(b,a)>-1;},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e;}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a));}m.push(c);}return sa(m);}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break;}k&&(w=y);}c&&((l=!q&&l)&&r--,f&&t.push(l));}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u);}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i);}return k&&(w=y,j=v),t;};return c?ha(f):f;}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a;}return f;},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length);}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break;}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e;},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"));}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href");})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2);}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value");})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue;}),ia(function(a){return null==a.getAttribute("disabled");})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null;}),fa;}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a);}return d;},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c;},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c;});if(b.nodeType)return n.grep(a,function(a){return a===b!==c;});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a);}return n.grep(a,function(a){return n.inArray(a,b)>-1!==c;});}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType;}));},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0;}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c;},filter:function(a){return this.pushStack(z(this,a||[],!1));},not:function(a){return this.pushStack(z(this,a||[],!0));},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length;}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this;}if(f=d.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f;}return this.context=d,this.selector=a,this;}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this));};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0;});},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break;}return this.pushStack(f.length>1?n.uniqueSort(f):f);},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))));},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a));}});function F(a,b){do a=a[b];while(a&&1!==a.nodeType);return a;}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null;},parents:function(a){return u(a,"parentNode");},parentsUntil:function(a,b,c){return u(a,"parentNode",c);},next:function(a){return F(a,"nextSibling");},prev:function(a){return F(a,"previousSibling");},nextAll:function(a){return u(a,"nextSibling");},prevAll:function(a){return u(a,"previousSibling");},nextUntil:function(a,b,c){return u(a,"nextSibling",c);},prevUntil:function(a,b,c){return u(a,"previousSibling",c);},siblings:function(a){return v((a.parentNode||{}).firstChild,a);},children:function(a){return v(a.firstChild);},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes);}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||(e=n.uniqueSort(e)),D.test(a)&&(e=e.reverse())),this.pushStack(e);};});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0;}),b;}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1);}a.memory||(c=!1),b=!1,e&&(f=c?[]:"");},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c);});}(arguments),c&&!b&&i()),this;},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--;}),this;},has:function(a){return a?n.inArray(a,f)>-1:f.length>0;},empty:function(){return f&&(f=[]),this;},disable:function(){return e=g=[],f=c="",this;},disabled:function(){return!f;},lock:function(){return e=!0,c||j.disable(),this;},locked:function(){return!!e;},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this;},fire:function(){return j.fireWith(this,arguments),this;},fired:function(){return!!d;}};return j;},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c;},always:function(){return e.done(arguments).fail(arguments),this;},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments);});}),a=null;}).promise();},promise:function(a){return null!=a?n.extend(a,d):d;}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h;},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this;},e[f[0]+"With"]=g.fireWith;}),d.promise(e),a&&a.call(e,e),e;},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c);};},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise();}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this;},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0);},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))));}});function J(){d.addEventListener?(d.removeEventListener("DOMContentLoaded",K),a.removeEventListener("load",K)):(d.detachEvent("onreadystatechange",K),a.detachEvent("onload",K));}function K(){(d.addEventListener||"load"===a.event.type||"complete"===d.readyState)&&(J(),n.ready());}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",K),a.addEventListener("load",K);else{d.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&d.documentElement;}catch(e){}c&&c.doScroll&&!function f(){if(!n.isReady){try{c.doScroll("left");}catch(b){return a.setTimeout(f,50);}J(),n.ready();}}();}return I.promise(b);},n.ready.promise();var L;for(L in n(l))break;l.ownFirst="0"===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName("body")[0],c&&c.style&&(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(e));}),function(){var a=d.createElement("div");l.deleteExpando=!0;try{delete a.test;}catch(b){l.deleteExpando=!1;}a=null;}();var M=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b;},N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c;}catch(e){}n.data(a,b,c);}else c=void 0;}return c;}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0;}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f;}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return;}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0);}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a);},data:function(a,b,c){return R(a,b,c);},removeData:function(a,b){return S(a,b);},_data:function(a,b,c){return R(a,b,c,!0);},_removeData:function(a,b){return S(a,b,!0);}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,"parsedAttrs",!0);}return e;}return"object"==typeof a?this.each(function(){n.data(this,a);}):arguments.length>1?this.each(function(){n.data(this,a,b);}):f?P(f,a,n.data(f,a)):void 0;},removeData:function(a){return this.each(function(){n.removeData(this,a);});}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0;},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b);};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire();},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c);})});}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a);});},dequeue:function(a){return this.each(function(){n.dequeue(this,a);});},clearQueue:function(a){return this.queue(a||"fx",[]);},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f]);};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b);}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName("body")[0],c&&c.style?(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(d.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(e),a):void 0;};}();var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a);};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur();}:function(){return n.css(a,b,"");},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&U.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g);}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e;}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g);}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c);})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f;},Z=/^(?:checkbox|radio)$/i,$=/<([\w:-]+)/,_=/^$|\/(?:java|ecma)script/i,aa=/^\s+/,ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ca(a){var b=ba.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c;}!function(){var a=d.createElement("div"),b=d.createDocumentFragment(),c=d.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName("tbody").length,l.htmlSerialize=!!a.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==d.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando);}();var da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f;}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"));}var ga=/<|&#?\w+;/,ha=/<tbody/i;function ia(a){Z.test(a.type)&&(a.defaultChecked=a.checked);}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o>r;r++)if(g=a[r],g||0===g)if("object"===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement("div")),j=($.exec(g)||["",""])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&&aa.test(g)&&q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g="table"!==j||ha.test(g)?"<table>"!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k);}n.merge(q,i.childNodes),i.textContent="";while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild;}else q.push(b.createTextNode(g));i&&p.removeChild(i),l.appendChecked||n.grep(ea(q,"input"),ia),r=0;while(g=q[r++])if(d&&n.inArray(g,d)>-1)e&&e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),"script"),h&&fa(i),c){f=0;while(g=i[f++])_.test(g.type||"")&&c.push(g);}return i=null,p;}!function(){var b,c,e=d.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b]=c in a)||(e.setAttribute(c,"t"),l[b]=e.attributes[c].expando===!1);e=null;}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\.(.+)|)/;function pa(){return!0;}function qa(){return!1;}function ra(){try{return d.activeElement;}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a;}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments);},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c);});}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return"undefined"==typeof n||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments);},k.elem=a),b=(b||"").match(G)||[""],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null;}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o]);}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"));}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(i=m=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!na.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),h=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&&!l.noBubble&&!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&&p.push(m.defaultView||m.parentWindow||a);}o=0;while((i=p[o++])&&!b.isPropagationStopped())b.type=o>1?j:l.bindType||q,g=(n._data(i,"events")||{})[b.type]&&n._data(i,"handle"),g&&g.apply(i,c),g=h&&i[h],g&&g.apply&&M(i)&&(b.result=g.apply(i,c),b.result===!1&&b.preventDefault());if(b.type=q,!f&&!b.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),c)===!1)&&M(e)&&h&&e[q]&&!n.isWindow(e)){m=e[h],m&&(e[h]=null),n.event.triggered=q;try{e[q]();}catch(s){}n.event.triggered=void 0,m&&(e[h]=m);}return b.result;}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));}return k.postDispatch&&k.postDispatch.call(this,a),a.result;}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d});}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g;},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a;},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a;}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&&this.focus)try{return this.focus(),!1;}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ra()&&this.blur?(this.blur(),!1):void 0;},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0;},_default:function(a){return n.nodeName(a.target,"a");}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result);}}},simulate:function(a,b,c){var d=n.extend(new n.Event(),c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault();}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c);}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c));},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?pa:qa):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b);},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1);},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0);},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation();}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c;}};}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?n.prop(b,"form"):void 0;c&&!n._data(c,"submit")&&(n.event.add(c,"submit._submit",function(a){a._submitBubble=!0;}),n._data(c,"submit",!0));});},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a));},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit");}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0);}),n.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),n.event.simulate("change",this,a);})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;ka.test(b.nodeName)&&!n._data(b,"change")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a);}),n._data(b,"change",!0));});},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0;},teardown:function(){return n.event.remove(this,"._change"),!ka.test(this.nodeName);}}),l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a));};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1);},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b));}};}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d);},one:function(a,b,c,d){return sa(this,a,b,c,d,1);},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this;}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=qa),this.each(function(){n.event.remove(this,a,c,b);});},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this);});},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0;}});var ta=/ jQuery\d+="(?:null|\d+)"/g,ua=new RegExp("<(?:"+ba+")[\\s/>]","i"),va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wa=/<script|<style|<link/i,xa=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^true\/(.*)/,za=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement("div"));function Ca(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a;}function Da(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a;}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a;}function Fa(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d]);}g.data&&(g.data=n.extend({},g.data));}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando);}"script"===c&&b.text!==a.text?(Da(b).text=a.text,Ea(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue);}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&xa.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d);});if(o&&(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&&(k=e),e||d)){for(i=n.map(ea(k,"script"),Da),h=i.length;o>m;m++)g=k,m!==p&&(g=n.clone(g,!0,!0),h&&n.merge(i,ea(g,"script"))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h>m;m++)g=i[m],_.test(g.type||"")&&!n._data(g,"globalEval")&&n.contains(j,g)&&(g.src?n._evalUrl&&n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||"").replace(za,"")));k=e=null;}return a;}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&fa(ea(d,"script")),d.parentNode.removeChild(d));return a;}n.extend({htmlPrefilter:function(a){return a.replace(va,"<$1></$2>");},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&&Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,"script"),d.length>0&&fa(d,!i&&ea(a,"script")),d=h=e=null,f;},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k||"undefined"==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f));}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0);},remove:function(a){return Ia(this,a);},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||d).createTextNode(a));},null,a,arguments.length);},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a);}});},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild);}});},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this);});},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling);});},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0);}return this;},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b);});},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,""):void 0;if("string"==typeof a&&!wa.test(a)&&(l.htmlSerialize||!ua.test(a))&&(l.leadingWhitespace||!aa.test(a))&&!da[($.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0;}catch(e){}}b&&this.empty().append(a);},null,a,arguments.length);},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(ea(this)),c&&c.replaceChild(b,this));},a);}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e);};});var Ja,Ka={HTML:"block",BODY:"block"};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d;}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),"none"!==c&&c||(Ja=(Ja||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c;}var Na=/^margin/,Oa=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e;},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement("div"),j=d.createElement("div");if(j.style){j.style.cssText="float:left;opacity:.5",l.opacity="0.5"===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===j.style.backgroundClip,i=d.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),l.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&&k(),f;},boxSizingReliable:function(){return null==b&&k(),e;},pixelMarginRight:function(){return null==b&&k(),c;},pixelPosition:function(){return null==b&&k(),b;},reliableMarginRight:function(){return null==b&&k(),g;},reliableMarginLeft:function(){return null==b&&k(),h;}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",b=e=h=!1,c=g=!0,a.getComputedStyle&&(l=a.getComputedStyle(j),b="1%"!==(l||{}).top,h="2px"===(l||{}).marginLeft,e="4px"===(l||{width:"4px"}).width,j.style.marginRight="50%",c="4px"===(l||{marginRight:"4px"}).marginRight,k=j.appendChild(d.createElement("div")),k.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",k=j.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight)),m.removeChild(i);}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b);},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Oa.test(g)&&Na.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+"";}):Qa.currentStyle&&(Ra=function(a){return a.currentStyle;},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Oa.test(g)&&!Ta.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto";});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments);}};}var Va=/alpha\([^)]*\)/i,Wa=/opacity\s*=\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp("^("+T+")(.*)$","i"),Za={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},_a=["Webkit","O","Moz","ms"],ab=d.createElement("div").style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a;}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&W(d)&&(f[g]=n._data(d,"olddisplay",Ma(d.nodeName)))):(e=W(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a;}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b;}function eb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+V[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+V[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+V[f]+"Width",!0,e))):(g+=n.css(a,"padding"+V[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+V[f]+"Width",!0,e)));return g;}function fb(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ra(b),i=l.boxSizing&&"border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Sa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Oa.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0;}return g+eb(b,c,e||(i?"border":"content"),f,h)+"px";}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,"opacity");return""===c?"1":c;}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=U.exec(c))&&e[1]&&(c=X(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c;}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Sa(a,b,d)),"normal"===f&&b in $a&&(f=$a[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f;}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,"display"))&&0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d);}):fb(a,b,d):void 0;},set:function(a,c,d){var e=d&&Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0);}};}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":"";},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+" "+e);}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:"inline-block"},Sa,[a,"marginRight"]):void 0;}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,"marginLeft"))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left;}):0))+"px":void 0;}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e;}},Na.test(a)||(n.cssHooks[a+b].set=db);}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f;}return void 0!==c?n.style(a,b,c):n.css(a,b);},a,b,arguments.length>1);},show:function(){return cb(this,!0);},hide:function(){return cb(this);},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide();});}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e);}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px");},cur:function(){var a=gb.propHooks[this.prop];return a&&a.get?a.get(this):gb.propHooks._default.get(this);},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):gb.propHooks._default.set(this),this;}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0);},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit);}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now);}},n.easing={linear:function(a){return a;},swing:function(a){return .5-Math.cos(a*Math.PI)/2;},_default:"swing"},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0;}),hb=n.now();}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=V[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d;}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d;}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&W(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i();}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire();});})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k="none"===j?n._data(a,"olddisplay")||Ma(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Ma(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2];}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0;}o[d]=r&&r[d]||n.style(a,d);}else j=void 0;if(n.isEmptyObject(o))"inline"===("none"===j?Ma(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide();}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b]);});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0));}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e);}else b[d]=e;}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem;}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1);},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d;},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this;}}),k=j.props;for(pb(k,j.opts.specialEasing);g>f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always);}n.Animation=n.extend(qb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c;}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b);},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a);}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue);},d;},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,d);},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0);};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g);},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c);};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&kb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a);});},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish;});}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e);};}),n.each({slideDown:mb("show"),slideUp:mb("hide"),slideToggle:mb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d);};}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0;},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop();},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval));},n.fx.stop=function(){a.clearInterval(ib),ib=null;},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e);};});},function(){var a,b=d.createElement("input"),c=d.createElement("div"),e=d.createElement("select"),f=e.appendChild(d.createElement("option"));c=d.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==c.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement("form").enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value;}();var rb=/\r/g,sb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+"";})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e));});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c);}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(sb," ");}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b);}return g;},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>-1)try{d.selected=c=!0;}catch(h){d.scrollHeight;}else d.selected=!1;return c||(a.selectedIndex=-1),e;}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0;}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value;});});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length>1);},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a);});}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d));},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b;}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&&xb||!wb.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(xb?c:d);}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&&xb||!wb.test(c)?a.setAttribute(!xb&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c;}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&&xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e;}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null;};}),yb&&xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):tb&&tb.set(a,b,c);}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0;}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null;},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0;},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,""===b?!1:b,c);}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0;}};})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0;},set:function(a,b){return a.style.cssText=b+"";}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length>1);},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a];}catch(b){}});}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b];},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:-1;}}},propFix:{"for":"htmlFor","class":"className"}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4);}};}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null;},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this;}),l.enctype||(n.propFix.enctype="encoding");var Bb=/[\t\r\n\f]/g;function Cb(a){return n.attr(a,"class")||"";}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)));});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&n.attr(c,"class",h);}}return this;},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)));});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&n.attr(c,"class",h);}}return this;},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b);}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b);}else void 0!==a&&"boolean"!==c||(b=Cb(this),b&&n._data(this,"__className__",b),n.attr(this,"class",b||a===!1?"":n._data(this,"__className__")||""));});},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+Cb(c)+" ").replace(Bb," ").indexOf(b)>-1)return!0;return!1;}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b);};}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a);}});var Db=a.location,Eb=n.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"");}))?Function("return "+e)():n.error("Invalid JSON: "+b);},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser(),c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b));}catch(e){c=void 0;}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c;};var Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ob={},Pb={},Qb="*/".concat("*"),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c);};}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1);}),i;}return g(b.dataTypes[0])||!e["*"]&&g("*");}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a;}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break;}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break;}d||(d=g);}f=f||d;}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0;}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break;}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b);}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f};}}return{state:"success",data:b};}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:"GET",isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a);},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&&(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),r=l.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2];}b=k[a.toLowerCase()];}return null==b?null:b;},getAllResponseHeaders:function(){return 2===u?g:null;},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this;},overrideMimeType:function(a){return u||(l.mimeType=a),this;},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this;},abort:function(a){var b=a||v;return j&&j.abort(b),y(0,b),this;}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+"").replace(Hb,"").replace(Mb,Sb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||"*").toLowerCase().match(G)||[""],null==l.crossDomain&&(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&&d[2]===Sb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Sb[3]||("http:"===Sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&&l.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ib.test(f)?f.replace(Ib,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(n.lastModified[f]&&w.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&w.setRequestHeader("If-None-Match",n.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Qb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v="abort";for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&&o.trigger("ajaxSend",[w,l]),2===u)return w;l.async&&l.timeout>0&&(h=a.setTimeout(function(){w.abort("timeout");},l.timeout));try{u=1,j.send(s,y);}catch(x){if(!(2>u))throw x;y(-1,x);}}else y(-1,"No Transport");function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&&(u=2,h&&a.clearTimeout(h),j=void 0,g=e||"",w.readyState=b>0?4:0,k=b>=200&&300>b||304===b,d&&(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(n.lastModified[f]=x),x=w.getResponseHeader("etag"),x&&(n.etag[f]=x)),204===b||"HEAD"===l.type?y="nocontent":304===b?y="notmodified":(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),w.status=b,w.statusText=(c||y)+"",k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&&o.trigger(k?"ajaxSuccess":"ajaxError",[w,l,k?s:t]),q.fireWith(m,[w,y]),i&&(o.trigger("ajaxComplete",[w,l]),--n.active||n.event.trigger("ajaxStop")));}return w;},getJSON:function(a,b,c){return n.get(a,b,c,"json");},getScript:function(a,b){return n.get(a,void 0,b,"script");}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a));};}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0});},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b));});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a;}).append(this);}return this;},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b));}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a);});},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a);});},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes);}).end();}});function Yb(a){return a.style&&a.style.display||n.css(a,"display");}function Zb(a){while(a&&1===a.nodeType){if("none"===Yb(a)||"hidden"===a.type)return!0;a=a.parentNode;}return!1;}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Zb(a);},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a);};var $b=/%20/g,_b=/\[\]$/,ac=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d);});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)dc(a+"["+e+"]",b[e],c,d);}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b);};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value);});else for(c in a)dc(c,a[c],b,e);return d.join("&").replace($b,"+");},n.fn.extend({serialize:function(){return n.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this;}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!Z.test(a));}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,"\r\n")};}):{name:b.name,value:c.replace(ac,"\r\n")};}).get();}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode>8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hc()||ic();}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in fc)fc[a](void 0,!0);}),l.cors=!!gc&&"withCredentials"in gc,gc=l.ajax=!!gc,gc&&n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText;}catch(k){i="";}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404;}j&&e(f,i,j,g.getAllResponseHeaders());},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c();},abort:function(){c&&c(void 0,!0);}};}});function hc(){try{return new a.XMLHttpRequest();}catch(b){}}function ic(){try{return new a.ActiveXObject("Microsoft.XMLHTTP");}catch(b){}}n.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1);}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a;}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1);}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=d.head||n("head")[0]||d.documentElement;return{send:function(e,f){b=d.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"));},c.insertBefore(b,c.firstChild);},abort:function(){b&&b.onload(void 0,!0);}};}});var jc=[],kc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jc.pop()||n.expando+"_"+Eb++;return this[a]=!0,a;}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(kc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&kc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0];},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments;},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0;}),"script"):void 0;}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes));};var lc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a);}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a]);});}),this;},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a);};}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem;}).length;};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1;}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m);}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b);});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d;},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)};}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Qa;});}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e);},a,d,arguments.length,null);};}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+"px":c):void 0;});}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g);},b,f?d:void 0,f,null);};});}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c);},unbind:function(a,b){return this.off(a,null,b);},delegate:function(a,b,c,d){return this.on(b,a,c,d);},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c);}}),n.fn.size=function(){return this.length;},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n;});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=oc),b&&a.jQuery===n&&(a.jQuery=nc),n;},b||(a.jQuery=a.$=n),n;});// Snap.svg 0.4.1
//
// Copyright (c) 2013  2015 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// build: 2015-04-13
(function(J){var k=/[\.\/]/,K=/\s*,\s*/,I=function(e,d){return e-d;},h,e,H={n:{}},A=function(){for(var e=0,d=this.length;e<d;e++)if("undefined"!=typeof this[e])return this[e];},D=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e];},u=function(k,d){k=String(k);var c=e,l=Array.prototype.slice.call(arguments,2),C=u.listeners(k),t=0,a,v=[],p={},r=[],n=h;r.firstDefined=A;r.lastDefined=D;h=k;for(var z=e=0,x=C.length;z<x;z++)"zIndex"in C[z]&&(v.push(C[z].zIndex),0>C[z].zIndex&&(p[C[z].zIndex]=C[z]));for(v.sort(I);0>v[t];)if(a=p[v[t++]],r.push(a.apply(d,l)),e)return e=c,r;for(z=0;z<x;z++)if(a=C[z],"zIndex"in a){if(a.zIndex==v[t]){r.push(a.apply(d,l));if(e)break;do if(t++,(a=p[v[t]])&&r.push(a.apply(d,l)),e)break;while(a);}else p[a.zIndex]=a;}else if(r.push(a.apply(d,l)),e)break;e=c;h=n;return r;};u._events=H;u.listeners=function(e){e=e.split(k);var d=H,c,l,h,t,a,v,p,r=[d],n=[];h=0;for(t=e.length;h<t;h++){p=[];a=0;for(v=r.length;a<v;a++)for(d=r[a].n,c=[d[e[h]],d["*"]],l=2;l--;)if(d=c[l])p.push(d),n=n.concat(d.f||[]);r=p;}return n;};u.on=function(e,d){e=String(e);if("function"!=typeof d)return function(){};for(var c=e.split(K),l=0,h=c.length;l<h;l++)(function(c){c=c.split(k);for(var a=H,e,l=0,r=c.length;l<r;l++)a=a.n,a=a.hasOwnProperty(c[l])&&a[c[l]]||(a[c[l]]={n:{}});a.f=a.f||[];l=0;for(r=a.f.length;l<r;l++)if(a.f[l]==d){e=!0;break;}!e&&a.f.push(d);})(c[l]);return function(c){+c==+c&&(d.zIndex=+c);};};u.f=function(e){var d=[].slice.call(arguments,1);return function(){u.apply(null,[e,null].concat(d).concat([].slice.call(arguments,0)));};};u.stop=function(){e=1;};u.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(h):h;};u.nts=function(){return h.split(k);};u.off=u.unbind=function(e,d){if(e){var c=e.split(K);if(1<c.length)for(var l=0,h=c.length;l<h;l++)u.off(c[l],d);else{for(var c=e.split(k),t,a,v,p,r=[H],l=0,h=c.length;l<h;l++)for(p=0;p<r.length;p+=v.length-2){v=[p,1];t=r[p].n;if("*"!=c[l])t[c[l]]&&v.push(t[c[l]]);else for(a in t)t.hasOwnProperty(a)&&v.push(t[a]);r.splice.apply(r,v);}l=0;for(h=r.length;l<h;l++)for(t=r[l];t.n;){if(d){if(t.f){p=0;for(c=t.f.length;p<c;p++)if(t.f[p]==d){t.f.splice(p,1);break;}!t.f.length&&delete t.f;}for(a in t.n)if(t.n.hasOwnProperty(a)&&t.n[a].f){v=t.n[a].f;p=0;for(c=v.length;p<c;p++)if(v[p]==d){v.splice(p,1);break;}!v.length&&delete t.n[a].f;}}else for(a in delete t.f,t.n)t.n.hasOwnProperty(a)&&t.n[a].f&&delete t.n[a].f;t=t.n;}}}else u._events=H={n:{}};};u.once=function(e,d){var c=function(){u.unbind(e,c);return d.apply(this,arguments);};return u.on(e,c);};u.version="0.4.2";u.toString=function(){return"You are running Eve 0.4.2";};J.eve=u;})(this);(function(J,k){k(J,J.eve);})(window||this,function(J,k){var K=function(h){var e={},k=J.requestAnimationFrame||J.webkitRequestAnimationFrame||J.mozRequestAnimationFrame||J.oRequestAnimationFrame||J.msRequestAnimationFrame||function(a){setTimeout(a,16);},A=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a);},D=0,u="M"+(+new Date()).toString(36),y=function(a){if(null==a)return this.s;var r=this.s-a;this.b+=this.dur*r;this.B+=this.dur*r;this.s=a;},d=function(a){if(null==a)return this.spd;this.spd=a;},c=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a;},l=function(){delete e[this.id];this.update();h("mina.stop."+this.id,this);},C=function(){this.pdif||(delete e[this.id],this.update(),this.pdif=this.get()-this.b);},t=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,e[this.id]=this);},a=function(){var a;if(A(this.start)){a=[];for(var c=0,e=this.start.length;c<e;c++)a[c]=+this.start[c]+(this.end[c]-this.start[c])*this.easing(this.s);}else a=+this.start+(this.end-this.start)*this.easing(this.s);this.set(a);},v=function(){var a=0,c;for(c in e)if(e.hasOwnProperty(c)){var d=e[c],l=d.get();a++;d.s=(l-d.b)/(d.dur/d.spd);1<=d.s&&(delete e[c],d.s=1,a--,function(b){setTimeout(function(){h("mina.finish."+b.id,b);});}(d));d.update();}a&&k(v);},p=function(r,h,z,x,b,q,E){r={id:u+(D++).toString(36),start:r,end:h,b:z,s:0,dur:x-z,spd:1,get:b,set:q,easing:E||p.linear,status:y,speed:d,duration:c,stop:l,pause:C,resume:t,update:a};e[r.id]=r;h=0;for(var n in e)if(e.hasOwnProperty(n)&&(h++,2==h))break;1==h&&k(v);return r;};p.time=Date.now||function(){return+new Date();};p.getById=function(a){return e[a]||null;};p.linear=function(a){return a;};p.easeout=function(a){return Math.pow(a,1.7);};p.easein=function(a){return Math.pow(a,.48);};p.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var c=.48-a/1.04,e=Math.sqrt(.1734+c*c);a=e-c;c=-e-c;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1)+Math.pow(Math.abs(c),1/3)*(0>c?-1:1)+.5;return 3*(1-a)*a*a+a*a*a;};p.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158);};p.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1;};p.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1;};p.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a;};return J.mina=p;}("undefined"==typeof k?function(){}:k),I=function(h){function e(f,b){if(f){if(f.nodeType)return p(f);if(A(f,"array")&&e.set)return e.set.apply(e,f);if(f instanceof C)return f;if(null==b)return f=n.doc.querySelector(String(f)),p(f);}return new v(null==f?"100%":f,null==b?"100%":b);}function H(f,b){if(b){"#text"==f&&(f=n.doc.createTextNode(b.text||b["#text"]||""));"#comment"==f&&(f=n.doc.createComment(b.text||b["#text"]||""));"string"==typeof f&&(f=H(f));if("string"==typeof b)return 1==f.nodeType?"xlink:"==b.substring(0,6)?f.getAttributeNS(I,b.substring(6)):"xml:"==b.substring(0,4)?f.getAttributeNS(K,b.substring(4)):f.getAttribute(b):"text"==b?f.nodeValue:null;if(1==f.nodeType)for(var a in b){if(b[z](a)){var B=x(b[a]);B?"xlink:"==a.substring(0,6)?f.setAttributeNS(I,a.substring(6),B):"xml:"==a.substring(0,4)?f.setAttributeNS(K,a.substring(4),B):f.setAttribute(a,B):f.removeAttribute(a);}}else"text"in b&&(f.nodeValue=b.text);}else f=n.doc.createElementNS(K,f);return f;}function A(f,b){b=x.prototype.toLowerCase.call(b);return"finite"==b?isFinite(f):"array"==b&&(f instanceof Array||Array.isArray&&Array.isArray(f))?!0:"null"==b&&null===f||b==typeof f&&null!==f||"object"==b&&f===Object(f)||Z.call(f).slice(8,-1).toLowerCase()==b;}function D(f){if("function"==typeof f||Object(f)!==f)return f;var b=new f.constructor(),a;for(a in f)f[z](a)&&(b[a]=D(f[a]));return b;}function u(f,b,a){function B(){var w=Array.prototype.slice.call(arguments,0),m=w.join("\u2400"),c=B.cache=B.cache||{},q=B.count=B.count||[];if(c[z](m)){a:for(var w=q,q=m,ha=0,e=w.length;ha<e;ha++)if(w[ha]===q){w.push(w.splice(ha,1)[0]);break a;}return a?a(c[m]):c[m];}1E3<=q.length&&delete c[q.shift()];q.push(m);c[m]=f.apply(b,w);return a?a(c[m]):c[m];}return B;}function y(f,b,a,m,c,q){return null==c?(f-=a,b-=m,f||b?(180*E.atan2(-b,-f)/Y+540)%360:0):y(f,b,c,q)-y(a,m,c,q);}function d(f){return f%360*Y/180;}function c(f){return f.node.ownerSVGElement&&p(f.node.ownerSVGElement)||e.select("svg");}function l(f){A(f,"array")||(f=Array.prototype.slice.call(arguments,0));for(var b=0,a=0,m=this.node;this[b];)delete this[b++];for(b=0;b<f.length;b++)"set"==f[b].type?f[b].forEach(function(f){m.appendChild(f.node);}):m.appendChild(f[b].node);for(var c=m.childNodes,b=0;b<c.length;b++)this[a++]=p(c[b]);return this;}function C(f){if(f.snap in L)return L[f.snap];var b;try{b=f.ownerSVGElement;}catch(ha){}this.node=f;b&&(this.paper=new v(b));this.type=f.tagName||f.nodeName;b=this.id=W(this);this.anims={};this._={transform:[]};f.snap=b;L[b]=this;"g"==this.type&&(this.add=l);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var a in v.prototype)v.prototype[z](a)&&(this[a]=v.prototype[a]);}function t(f){this.node=f;}function a(f,b){var a=H(f);b.appendChild(a);return p(a);}function v(f,b){var w,B,m,c=v.prototype;if(f&&"svg"==f.tagName){if(f.snap in L)return L[f.snap];var q=f.ownerDocument;w=new C(f);B=f.getElementsByTagName("desc")[0];m=f.getElementsByTagName("defs")[0];B||(B=H("desc"),B.appendChild(q.createTextNode("Created with Snap")),w.node.appendChild(B));m||(m=H("defs"),w.node.appendChild(m));w.defs=m;for(var e in c)c[z](e)&&(w[e]=c[e]);w.paper=w.root=w;}else w=a("svg",n.doc.body),H(w.node,{height:b,version:1.1,width:f,xmlns:K});return w;}function p(f){return!f||f instanceof C||f instanceof t?f:f.tagName&&"svg"==f.tagName.toLowerCase()?new v(f):f.tagName&&"object"==f.tagName.toLowerCase()&&"image/svg+xml"==f.type?new v(f.contentDocument.getElementsByTagName("svg")[0]):new C(f);}function r(f,b){for(var a=0,B=f.length;a<B;a++){var m={type:f[a].type,attr:f[a].attr()},c=f[a].children();b.push(m);c.length&&r(c,m.childNodes=[]);}}e.version="0.4.0";e.toString=function(){return"Snap v"+this.version;};e._={};var n={win:h.window,doc:h.window.document};e._.glob=n;var z="hasOwnProperty",x=String,b=parseFloat,q=parseInt,E=Math,S=E.max,Q=E.min,X=E.abs,Y=E.PI,Z=Object.prototype.toString,aa=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;e._.separator=/[,\s]+/;var ka=/[\s]*,[\s]*/,ra={hs:1,rg:1},F=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,N=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,T=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,R=0,J="S"+(+new Date()).toString(36),W=function(f){return(f&&f.type?f.type:"")+J+(R++).toString(36);},I="http://www.w3.org/1999/xlink",K="http://www.w3.org/2000/svg",L={};e.url=function(f){return"url('#"+f+"')";};e._.$=H;e._.id=W;e.format=function(){var f=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,a=function(f,a,w){var B=w;a.replace(b,function(f,b,a,w,m){b=b||w;B&&(b in B&&(B=B[b]),"function"==typeof B&&m&&(B=B()));});return B=(null==B||B==w?f:B)+"";};return function(b,B){return x(b).replace(f,function(f,b){return a(f,b,B);});};}();e._.clone=D;e._.cacher=u;e.rad=d;e.deg=function(f){return 180*f/Y%360;};e.sin=function(f){return E.sin(e.rad(f));};e.tan=function(f){return E.tan(e.rad(f));};e.cos=function(f){return E.cos(e.rad(f));};e.asin=function(f){return e.deg(E.asin(f));};e.acos=function(f){return e.deg(E.acos(f));};e.atan=function(f){return e.deg(E.atan(f));};e.atan2=function(f){return e.deg(E.atan2(f));};e.angle=y;e.len=function(f,b,a,m){return Math.sqrt(e.len2(f,b,a,m));};e.len2=function(f,b,a,m){return(f-a)*(f-a)+(b-m)*(b-m);};e.closestPoint=function(f,b,a){function B(f){var B=f.x-b;f=f.y-a;return B*B+f*f;}f=f.node;for(var m=f.getTotalLength(),w=m/f.pathSegList.numberOfItems*.125,c,q,e=Infinity,d,l=0,h;l<=m;l+=w)(h=B(d=f.getPointAtLength(l)))<e&&(c=d,q=l,e=h);for(w*=.5;.5<w;){var r,n,O,E,t,v;0<=(O=q-w)&&(t=B(r=f.getPointAtLength(O)))<e?(c=r,q=O,e=t):(E=q+w)<=m&&(v=B(n=f.getPointAtLength(E)))<e?(c=n,q=E,e=v):w*=.5;}return c={x:c.x,y:c.y,length:q,distance:Math.sqrt(e)};};e.is=A;e.snapTo=function(f,b,a){a=A(a,"finite")?a:10;if(A(f,"array"))for(var B=f.length;B--;){if(X(f[B]-b)<=a)return f[B];}else{f=+f;B=b%f;if(B<a)return b-B;if(B>f-a)return b-B+f;}return b;};e.getRGB=u(function(f){if(!f||(f=x(f)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O};if("none"==f)return{r:-1,g:-1,b:-1,hex:"none",toString:O};!ra[z](f.toLowerCase().substring(0,2))&&"#"!=f.charAt()&&(f=m(f));if(!f)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O};var a,w,c,d,G;if(f=f.match(aa)){f[2]&&(c=q(f[2].substring(5),16),w=q(f[2].substring(3,5),16),a=q(f[2].substring(1,3),16));f[3]&&(c=q((G=f[3].charAt(3))+G,16),w=q((G=f[3].charAt(2))+G,16),a=q((G=f[3].charAt(1))+G,16));f[4]&&(G=f[4].split(ka),a=b(G[0]),"%"==G[0].slice(-1)&&(a*=2.55),w=b(G[1]),"%"==G[1].slice(-1)&&(w*=2.55),c=b(G[2]),"%"==G[2].slice(-1)&&(c*=2.55),"rgba"==f[1].toLowerCase().slice(0,4)&&(d=b(G[3])),G[3]&&"%"==G[3].slice(-1)&&(d/=100));if(f[5])return G=f[5].split(ka),a=b(G[0]),"%"==G[0].slice(-1)&&(a/=100),w=b(G[1]),"%"==G[1].slice(-1)&&(w/=100),c=b(G[2]),"%"==G[2].slice(-1)&&(c/=100),"deg"!=G[0].slice(-3)&&"\u00b0"!=G[0].slice(-1)||(a/=360),"hsba"==f[1].toLowerCase().slice(0,4)&&(d=b(G[3])),G[3]&&"%"==G[3].slice(-1)&&(d/=100),e.hsb2rgb(a,w,c,d);if(f[6])return G=f[6].split(ka),a=b(G[0]),"%"==G[0].slice(-1)&&(a/=100),w=b(G[1]),"%"==G[1].slice(-1)&&(w/=100),c=b(G[2]),"%"==G[2].slice(-1)&&(c/=100),"deg"!=G[0].slice(-3)&&"\u00b0"!=G[0].slice(-1)||(a/=360),"hsla"==f[1].toLowerCase().slice(0,4)&&(d=b(G[3])),G[3]&&"%"==G[3].slice(-1)&&(d/=100),e.hsl2rgb(a,w,c,d);a=Q(E.round(a),255);w=Q(E.round(w),255);c=Q(E.round(c),255);d=Q(S(d,0),1);f={r:a,g:w,b:c,toString:O};f.hex="#"+(16777216|c|w<<8|a<<16).toString(16).slice(1);f.opacity=A(d,"finite")?d:1;return f;}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O};},e);e.hsb=u(function(f,b,a){return e.hsb2rgb(f,b,a).hex;});e.hsl=u(function(f,b,a){return e.hsl2rgb(f,b,a).hex;});e.rgb=u(function(f,b,a,m){if(A(m,"finite")){var c=E.round;return"rgba("+[c(f),c(b),c(a),+m.toFixed(2)]+")";}return"#"+(16777216|a|b<<8|f<<16).toString(16).slice(1);});var m=function(f){var b=n.doc.getElementsByTagName("head")[0]||n.doc.getElementsByTagName("svg")[0];m=u(function(f){if("red"==f.toLowerCase())return"rgb(255, 0, 0)";b.style.color="rgb(255, 0, 0)";b.style.color=f;f=n.doc.defaultView.getComputedStyle(b,"").getPropertyValue("color");return"rgb(255, 0, 0)"==f?null:f;});return m(f);},la=function(){return"hsb("+[this.h,this.s,this.b]+")";},ma=function(){return"hsl("+[this.h,this.s,this.l]+")";},O=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")";},M=function(f,b,a){null==b&&A(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(a=f.b,b=f.g,f=f.r);null==b&&A(f,string)&&(a=e.getRGB(f),f=a.r,b=a.g,a=a.b);if(1<f||1<b||1<a)f/=255,b/=255,a/=255;return[f,b,a];},pa=function(f,b,a,m){f=E.round(255*f);b=E.round(255*b);a=E.round(255*a);f={r:f,g:b,b:a,opacity:A(m,"finite")?m:1,hex:e.rgb(f,b,a),toString:O};A(m,"finite")&&(f.opacity=m);return f;};e.color=function(f){var b;A(f,"object")&&"h"in f&&"s"in f&&"b"in f?(b=e.hsb2rgb(f),f.r=b.r,f.g=b.g,f.b=b.b,f.opacity=1,f.hex=b.hex):A(f,"object")&&"h"in f&&"s"in f&&"l"in f?(b=e.hsl2rgb(f),f.r=b.r,f.g=b.g,f.b=b.b,f.opacity=1,f.hex=b.hex):(A(f,"string")&&(f=e.getRGB(f)),A(f,"object")&&"r"in f&&"g"in f&&"b"in f&&!("error"in f)?(b=e.rgb2hsl(f),f.h=b.h,f.s=b.s,f.l=b.l,b=e.rgb2hsb(f),f.v=b.b):(f={hex:"none"},f.r=f.g=f.b=f.h=f.s=f.v=f.l=-1,f.error=1));f.toString=O;return f;};e.hsb2rgb=function(f,b,a,m){A(f,"object")&&"h"in f&&"s"in f&&"b"in f&&(a=f.b,b=f.s,m=f.o,f=f.h);var c,q,w;f=360*f%360/60;w=a*b;b=w*(1-X(f%2-1));a=c=q=a-w;f=~~f;a+=[w,b,0,0,b,w][f];c+=[b,w,w,b,0,0][f];q+=[0,0,b,w,w,b][f];return pa(a,c,q,m);};e.hsl2rgb=function(f,b,a,m){A(f,"object")&&"h"in f&&"s"in f&&"l"in f&&(a=f.l,b=f.s,f=f.h);if(1<f||1<b||1<a)f/=360,b/=100,a/=100;var c,q,w;f=360*f%360/60;w=2*b*(.5>a?a:1-a);b=w*(1-X(f%2-1));a=c=q=a-w/2;f=~~f;a+=[w,b,0,0,b,w][f];c+=[b,w,w,b,0,0][f];q+=[0,0,b,w,w,b][f];return pa(a,c,q,m);};e.rgb2hsb=function(f,b,a){a=M(f,b,a);f=a[0];b=a[1];a=a[2];var m,c;m=S(f,b,a);c=m-Q(f,b,a);return{h:((0==c?null:m==f?(b-a)/c:m==b?(a-f)/c+2:(f-b)/c+4)+360)%6*60/360,s:0==c?0:c/m,b:m,toString:la};};e.rgb2hsl=function(f,b,a){a=M(f,b,a);f=a[0];b=a[1];a=a[2];var m,c,q;c=S(f,b,a);m=Q(f,b,a);q=c-m;m=(c+m)/2;return{h:((0==q?null:c==f?(b-a)/q:c==b?(a-f)/q+2:(f-b)/q+4)+360)%6*60/360,s:0==q?0:.5>m?q/(2*m):q/(2-2*m),l:m,toString:ma};};e.parsePathString=function(b){if(!b)return null;var f=e.path(b);if(f.arr)return e.path.clone(f.arr);var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},m=[];A(b,"array")&&A(b[0],"array")&&(m=e.path.clone(b));m.length||x(b).replace(F,function(b,f,c){var q=[];b=f.toLowerCase();c.replace(T,function(b,f){f&&q.push(+f);});"m"==b&&2<q.length&&(m.push([f].concat(q.splice(0,2))),b="l",f="m"==f?"l":"L");"o"==b&&1==q.length&&m.push([f,q[0]]);if("r"==b)m.push([f].concat(q));else for(;q.length>=a[b]&&(m.push([f].concat(q.splice(0,a[b]))),a[b]););});m.toString=e.path.toString;f.arr=e.path.clone(m);return m;};var ta=e.parseTransformString=function(b){if(!b)return null;var f=[];A(b,"array")&&A(b[0],"array")&&(f=e.path.clone(b));f.length||x(b).replace(N,function(b,a,m){var c=[];a.toLowerCase();m.replace(T,function(b,f){f&&c.push(+f);});f.push([a].concat(c));});f.toString=e.path.toString;return f;};e._.svgTransform2string=function(b){var f=[];b=b.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(b,a,m){m=m.split(/\s*,\s*|\s+/);"rotate"==a&&1==m.length&&m.push(0,0);"scale"==a&&(2<m.length?m=m.slice(0,2):2==m.length&&m.push(0,0),1==m.length&&m.push(m[0],0,0));"skewX"==a?f.push(["m",1,0,E.tan(d(m[0])),1,0,0]):"skewY"==a?f.push(["m",1,E.tan(d(m[0])),0,1,0,0]):f.push([a.charAt(0)].concat(m));return b;});return f;};e._.rgTransform=/^[a-z][\s]*-?\.?\d/i;e._.transform2matrix=function(b,a){var f=ta(b),m=new e.Matrix();if(f)for(var c=0,q=f.length;c<q;c++){var d=f[c],l=d.length,h=x(d[0]).toLowerCase(),B=d[0]!=h,r=B?m.invert():0,n;"t"==h&&2==l?m.translate(d[1],0):"t"==h&&3==l?B?(l=r.x(0,0),h=r.y(0,0),B=r.x(d[1],d[2]),r=r.y(d[1],d[2]),m.translate(B-l,r-h)):m.translate(d[1],d[2]):"r"==h?2==l?(n=n||a,m.rotate(d[1],n.x+n.width/2,n.y+n.height/2)):4==l&&(B?(B=r.x(d[2],d[3]),r=r.y(d[2],d[3]),m.rotate(d[1],B,r)):m.rotate(d[1],d[2],d[3])):"s"==h?2==l||3==l?(n=n||a,m.scale(d[1],d[l-1],n.x+n.width/2,n.y+n.height/2)):4==l?B?(B=r.x(d[2],d[3]),r=r.y(d[2],d[3]),m.scale(d[1],d[1],B,r)):m.scale(d[1],d[1],d[2],d[3]):5==l&&(B?(B=r.x(d[3],d[4]),r=r.y(d[3],d[4]),m.scale(d[1],d[2],B,r)):m.scale(d[1],d[2],d[3],d[4])):"m"==h&&7==l&&m.add(d[1],d[2],d[3],d[4],d[5],d[6]);}return m;};e._unit2px=function(b,a,m){function f(b){if(null==b)return"";if(b==+b)return b;H(l,{width:b});try{return l.getBBox().width;}catch(sa){return 0;}}function q(b){if(null==b)return"";if(b==+b)return b;H(l,{height:b});try{return l.getBBox().height;}catch(sa){return 0;}}function d(f,c){null==a?w[f]=c(b.attr(f)||0):f==a&&(w=c(null==m?b.attr(f)||0:m));}var e=c(b).node,w={},l=e.querySelector(".svg---mgr");l||(l=H("rect"),H(l,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),e.appendChild(l));switch(b.type){case"rect":d("rx",f),d("ry",q);case"image":d("width",f),d("height",q);case"text":d("x",f);d("y",q);break;case"circle":d("cx",f);d("cy",q);d("r",f);break;case"ellipse":d("cx",f);d("cy",q);d("rx",f);d("ry",q);break;case"line":d("x1",f);d("x2",f);d("y1",q);d("y2",q);break;case"marker":d("refX",f);d("markerWidth",f);d("refY",q);d("markerHeight",q);break;case"radialGradient":d("fx",f);d("fy",q);break;case"tspan":d("dx",f);d("dy",q);break;default:d(a,f);}e.removeChild(l);return w;};e._.getSomeDefs=function(b){b=b.node.ownerSVGElement&&p(b.node.ownerSVGElement)||b.node.parentNode&&p(b.node.parentNode)||e.select("svg")||e(0,0);var f=b.select("defs"),f=null==f?!1:f.node;f||(f=a("defs",b.node).node);return f;};e._.getSomeSVG=c;e.select=function(b){b=x(b).replace(/([^\\]):/g,"$1\\:");return p(n.doc.querySelector(b));};e.selectAll=function(b){b=n.doc.querySelectorAll(b);for(var f=(e.set||Array)(),a=0;a<b.length;a++)f.push(p(b[a]));return f;};setInterval(function(){for(var b in L)if(L[z](b)){var a=L[b],m=a.node;("svg"!=a.type&&!m.ownerSVGElement||"svg"==a.type&&(!m.parentNode||"ownerSVGElement"in m.parentNode&&!m.ownerSVGElement))&&delete L[b];}},1E4);C.prototype.attr=function(b,a){var f=this.node;if(!b){if(1!=f.nodeType)return{text:f.nodeValue};for(var m=f.attributes,f={},c=0,q=m.length;c<q;c++)f[m[c].nodeName]=m[c].nodeValue;return f;}if(A(b,"string"))if(1<arguments.length)f={},f[b]=a,b=f;else return k("snap.util.getattr."+b,this).firstDefined();for(m in b)b[z](m)&&k("snap.util.attr."+m,this,b[m]);return this;};e.parse=function(b){var f=n.doc.createDocumentFragment(),a=!0,m=n.doc.createElement("div");b=x(b);b.match(/^\s*<\s*svg(?:\s|>)/)||(b="<svg>"+b+"</svg>",a=!1);m.innerHTML=b;if(b=m.getElementsByTagName("svg")[0])if(a)f=b;else for(;b.firstChild;)f.appendChild(b.firstChild);return new t(f);};e.fragment=function(){for(var b=Array.prototype.slice.call(arguments,0),a=n.doc.createDocumentFragment(),m=0,c=b.length;m<c;m++){var q=b[m];q.node&&q.node.nodeType&&a.appendChild(q.node);q.nodeType&&a.appendChild(q);"string"==typeof q&&a.appendChild(e.parse(q).node);}return new t(a);};e._.make=a;e._.wrap=p;v.prototype.el=function(b,m){var f=a(b,this.node);m&&f.attr(m);return f;};C.prototype.children=function(){for(var b=[],a=this.node.childNodes,m=0,c=a.length;m<c;m++)b[m]=e(a[m]);return b;};C.prototype.toJSON=function(){var b=[];r([this],b);return b[0];};k.on("snap.util.getattr",function(){var b=k.nt(),b=b.substring(b.lastIndexOf(".")+1),a=b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase();});return qa[z](a)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(a):H(this.node,b);});var qa={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};k.on("snap.util.attr",function(b){var f=k.nt(),a={},f=f.substring(f.lastIndexOf(".")+1);a[f]=b;var m=f.replace(/-(\w)/gi,function(b,f){return f.toUpperCase();}),f=f.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase();});qa[z](f)?this.node.style[m]=null==b?"":b:H(this.node,a);});e.ajax=function(b,a,m,c){var f=new XMLHttpRequest(),q=W();if(f){if(A(a,"function"))c=m,m=a,a=null;else if(A(a,"object")){var d=[],e;for(e in a)a.hasOwnProperty(e)&&d.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));a=d.join("&");}f.open(a?"POST":"GET",b,!0);a&&(f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"));m&&(k.once("snap.ajax."+q+".0",m),k.once("snap.ajax."+q+".200",m),k.once("snap.ajax."+q+".304",m));f.onreadystatechange=function(){4==f.readyState&&k("snap.ajax."+q+"."+f.status,c,f);};if(4==f.readyState)return f;f.send(a);return f;}};e.load=function(b,a,m){e.ajax(b,function(b){b=e.parse(b.responseText);m?a.call(m,b):a(b);});};e.getElementByPoint=function(b,a){var f,m,c=n.doc.elementFromPoint(b,a);if(n.win.opera&&"svg"==c.tagName){f=c;m=f.getBoundingClientRect();f=f.ownerDocument;var q=f.body,d=f.documentElement;f=m.top+(g.win.pageYOffset||d.scrollTop||q.scrollTop)-(d.clientTop||q.clientTop||0);m=m.left+(g.win.pageXOffset||d.scrollLeft||q.scrollLeft)-(d.clientLeft||q.clientLeft||0);q=c.createSVGRect();q.x=b-m;q.y=a-f;q.width=q.height=1;f=c.getIntersectionList(q,null);f.length&&(c=f[f.length-1]);}return c?p(c):null;};e.plugin=function(b){b(e,C,v,n,t);};return n.win.Snap=e;}(J||this);I.plugin(function(h,e,H,A,D){function u(b,a){if(null==a){var c=!0;a="linearGradient"==b.type||"radialGradient"==b.type?b.node.getAttribute("gradientTransform"):"pattern"==b.type?b.node.getAttribute("patternTransform"):b.node.getAttribute("transform");if(!a)return new h.Matrix();a=h._.svgTransform2string(a);}else a=h._.rgTransform.test(a)?C(a).replace(/\.{3}|\u2026/g,b._.transform||""):h._.svgTransform2string(a),l(a,"array")&&(a=h.path?h.path.toString.call(a):C(a)),b._.transform=a;var q=h._.transform2matrix(a,b.getBBox(1));if(c)return q;b.matrix=q;}function y(b){function c(b,c){var d=a(b.node,c);(d=(d=d&&d.match(h))&&d[2])&&"#"==d.charAt()&&(d=d.substring(1))&&(r[d]=(r[d]||[]).concat(function(d){var q={};q[c]=URL(d);a(b.node,q);}));}function d(b){var c=a(b.node,"xlink:href");c&&"#"==c.charAt()&&(c=c.substring(1))&&(r[c]=(r[c]||[]).concat(function(a){b.attr("xlink:href","#"+a);}));}var e=b.selectAll("*"),l,h=/^\s*url\(("|'|)(.*)\1\)\s*$/;b=[];for(var r={},n=0,t=e.length;n<t;n++){l=e[n];c(l,"fill");c(l,"stroke");c(l,"filter");c(l,"mask");c(l,"clip-path");d(l);var v=a(l.node,"id");v&&(a(l.node,{id:l.id}),b.push({old:v,id:l.id}));}n=0;for(t=b.length;n<t;n++)if(e=r[b[n].old])for(l=0,v=e.length;l<v;l++)e[l](b[n].id);}function d(b,a,c){return function(d){d=d.slice(b,a);1==d.length&&(d=d[0]);return c?c(d):d;};}function c(b){return function(){var a=b?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(b)for(var e=0,l=c.length;e<l;e++)a+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){b&&(a+=">");e=0;for(l=d.length;e<l;e++)3==d[e].nodeType?a+=d[e].nodeValue:1==d[e].nodeType&&(a+=r(d[e]).toString());b&&(a+="</"+this.type+">");}else b&&(a+="/>");return a;};}e=e.prototype;var l=h.is,C=String,t=h._unit2px,a=h._.$,v=h._.make,p=h._.getSomeDefs,r=h._.wrap;e.getBBox=function(b){if(!h.Matrix||!h.path)return this.node.getBBox();var a=this,c=new h.Matrix();if(a.removed)return h._.box();for(;"use"==a.type;)if(b||(c=c.add(a.transform().localMatrix.translate(a.attr("x")||0,a.attr("y")||0))),a.original)a=a.original;else var d=a.attr("xlink:href"),a=a.original=a.node.ownerDocument.getElementById(d.substring(d.indexOf("#")+1));var d=a._,e=h.path.get[a.type]||h.path.get.deflt;try{if(b)return d.bboxwt=e?h.path.getBBox(a.realPath=e(a)):h._.box(a.node.getBBox()),h._.box(d.bboxwt);a.realPath=e(a);a.matrix=a.transform().localMatrix;d.bbox=h.path.getBBox(h.path.map(a.realPath,c.add(a.matrix)));return h._.box(d.bbox);}catch(X){return h._.box();}};var n=function(){return this.string;};e.transform=function(b){var c=this._;if(null==b){var d=this;b=new h.Matrix(this.node.getCTM());for(var e=u(this),l=[e],r=new h.Matrix(),v=e.toTransformString(),c=C(e)==C(this.matrix)?C(c.transform):v;"svg"!=d.type&&(d=d.parent());)l.push(u(d));for(d=l.length;d--;)r.add(l[d]);return{string:c,globalMatrix:b,totalMatrix:r,localMatrix:e,diffMatrix:b.clone().add(e.invert()),global:b.toTransformString(),total:r.toTransformString(),local:v,toString:n};}b instanceof h.Matrix?(this.matrix=b,this._.transform=b.toTransformString()):u(this,b);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?a(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?a(this.node,{patternTransform:this.matrix}):a(this.node,{transform:this.matrix}));return this;};e.parent=function(){return r(this.node.parentNode);};e.append=e.add=function(b){if(b){if("set"==b.type){var a=this;b.forEach(function(b){a.add(b);});return this;}b=r(b);this.node.appendChild(b.node);b.paper=this.paper;}return this;};e.appendTo=function(b){b&&(b=r(b),b.append(this));return this;};e.prepend=function(b){if(b){if("set"==b.type){var a=this,c;b.forEach(function(b){c?c.after(b):a.prepend(b);c=b;});return this;}b=r(b);var d=b.parent();this.node.insertBefore(b.node,this.node.firstChild);this.add&&this.add();b.paper=this.paper;this.parent()&&this.parent().add();d&&d.add();}return this;};e.prependTo=function(b){b=r(b);b.prepend(this);return this;};e.before=function(b){if("set"==b.type){var a=this;b.forEach(function(b){var c=b.parent();a.node.parentNode.insertBefore(b.node,a.node);c&&c.add();});this.parent().add();return this;}b=r(b);var c=b.parent();this.node.parentNode.insertBefore(b.node,this.node);this.parent()&&this.parent().add();c&&c.add();b.paper=this.paper;return this;};e.after=function(b){b=r(b);var a=b.parent();this.node.nextSibling?this.node.parentNode.insertBefore(b.node,this.node.nextSibling):this.node.parentNode.appendChild(b.node);this.parent()&&this.parent().add();a&&a.add();b.paper=this.paper;return this;};e.insertBefore=function(b){b=r(b);var a=this.parent();b.node.parentNode.insertBefore(this.node,b.node);this.paper=b.paper;a&&a.add();b.parent()&&b.parent().add();return this;};e.insertAfter=function(b){b=r(b);var a=this.parent();b.node.parentNode.insertBefore(this.node,b.node.nextSibling);this.paper=b.paper;a&&a.add();b.parent()&&b.parent().add();return this;};e.remove=function(){var b=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;b&&b.add();return this;};e.select=function(b){return r(this.node.querySelector(b));};e.selectAll=function(b){b=this.node.querySelectorAll(b);for(var a=(h.set||Array)(),c=0;c<b.length;c++)a.push(r(b[c]));return a;};e.asPX=function(b,a){null==a&&(a=this.attr(b));return+t(this,b,a);};e.use=function(){var b,c=this.node.id;c||(c=this.id,a(this.node,{id:c}));b="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?v(this.type,this.node.parentNode):v("use",this.node.parentNode);a(b.node,{"xlink:href":"#"+c});b.original=this;return b;};e.clone=function(){var b=r(this.node.cloneNode(!0));a(b.node,"id")&&a(b.node,{id:b.id});y(b);b.insertAfter(this);return b;};e.toDefs=function(){p(this).appendChild(this.node);return this;};e.pattern=e.toPattern=function(b,c,d,e){var q=v("pattern",p(this));null==b&&(b=this.getBBox());l(b,"object")&&"x"in b&&(c=b.y,d=b.width,e=b.height,b=b.x);a(q.node,{x:b,y:c,width:d,height:e,patternUnits:"userSpaceOnUse",id:q.id,viewBox:[b,c,d,e].join(" ")});q.node.appendChild(this.node);return q;};e.marker=function(b,c,d,e,r,h){var q=v("marker",p(this));null==b&&(b=this.getBBox());l(b,"object")&&"x"in b&&(c=b.y,d=b.width,e=b.height,r=b.refX||b.cx,h=b.refY||b.cy,b=b.x);a(q.node,{viewBox:[b,c,d,e].join(" "),markerWidth:d,markerHeight:e,orient:"auto",refX:r||0,refY:h||0,id:q.id});q.node.appendChild(this.node);return q;};var z=function(b,a,c,d){"function"!=typeof c||c.length||(d=c,c=K.linear);this.attr=b;this.dur=a;c&&(this.easing=c);d&&(this.callback=d);};h._.Animation=z;h.animation=function(b,a,c,d){return new z(b,a,c,d);};e.inAnim=function(){var b=[],a;for(a in this.anims)this.anims.hasOwnProperty(a)&&function(a){b.push({anim:new z(a._attrs,a.dur,a.easing,a._callback),mina:a,curStatus:a.status(),status:function(b){return a.status(b);},stop:function(){a.stop();}});}(this.anims[a]);return b;};h.animate=function(b,a,c,d,e,l){"function"!=typeof e||e.length||(l=e,e=K.linear);var q=K.time();b=K(b,a,q,q+d,K.time,c,e);l&&k.once("mina.finish."+b.id,l);return b;};e.stop=function(){for(var b=this.inAnim(),a=0,c=b.length;a<c;a++)b[a].stop();return this;};e.animate=function(b,a,c,e){"function"!=typeof c||c.length||(e=c,c=K.linear);b instanceof z&&(e=b.callback,c=b.easing,a=b.dur,b=b.attr);var q=[],r=[],h={},n,v,t,p=this,x;for(x in b)if(b.hasOwnProperty(x)){p.equal?(t=p.equal(x,C(b[x])),n=t.from,v=t.to,t=t.f):(n=+p.attr(x),v=+b[x]);var E=l(n,"array")?n.length:1;h[x]=d(q.length,q.length+E,t);q=q.concat(n);r=r.concat(v);}n=K.time();var u=K(q,r,n,n+a,K.time,function(b){var a={},c;for(c in h)h.hasOwnProperty(c)&&(a[c]=h[c](b));p.attr(a);},c);p.anims[u.id]=u;u._attrs=b;u._callback=e;k("snap.animcreated."+p.id,u);k.once("mina.finish."+u.id,function(){delete p.anims[u.id];e&&e.call(p);});k.once("mina.stop."+u.id,function(){delete p.anims[u.id];});return p;};var x={};e.data=function(b,a){var c=x[this.id]=x[this.id]||{};if(0==arguments.length)return k("snap.data.get."+this.id,this,c,null),c;if(1==arguments.length){if(h.is(b,"object")){for(var d in b)b.hasOwnProperty(d)&&this.data(d,b[d]);return this;}k("snap.data.get."+this.id,this,c[b],b);return c[b];}c[b]=a;k("snap.data.set."+this.id,this,a,b);return this;};e.removeData=function(b){null==b?x[this.id]={}:x[this.id]&&delete x[this.id][b];return this;};e.outerSVG=e.toString=c(1);e.innerSVG=c();e.toDataURL=function(){if(J&&J.btoa){var b=this.getBBox(),b=h.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+b.x.toFixed(3),y:+b.y.toFixed(3),width:+b.width.toFixed(3),height:+b.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b)));}};D.prototype.select=e.select;D.prototype.selectAll=e.selectAll;});I.plugin(function(h,e,k,A,D){function u(c,d,e,a,h,p){null==d&&"[object SVGMatrix]"==y.call(c)?(this.a=c.a,this.b=c.b,this.c=c.c,this.d=c.d,this.e=c.e,this.f=c.f):null!=c?(this.a=+c,this.b=+d,this.c=+e,this.d=+a,this.e=+h,this.f=+p):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0);}var y=Object.prototype.toString,d=String,c=Math;(function(e){function l(a){return a[0]*a[0]+a[1]*a[1];}function t(a){var d=c.sqrt(l(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d);}e.add=function(a,c,d,e,l,h){var r=[[],[],[]],b=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];c=[[a,d,l],[c,e,h],[0,0,1]];a&&a instanceof u&&(c=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(d=0;3>d;d++){for(e=l=0;3>e;e++)l+=b[a][e]*c[e][d];r[a][d]=l;}this.a=r[0][0];this.b=r[1][0];this.c=r[0][1];this.d=r[1][1];this.e=r[0][2];this.f=r[1][2];return this;};e.invert=function(){var a=this.a*this.d-this.b*this.c;return new u(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a);};e.clone=function(){return new u(this.a,this.b,this.c,this.d,this.e,this.f);};e.translate=function(a,c){return this.add(1,0,0,1,a,c);};e.scale=function(a,c,d,e){null==c&&(c=a);(d||e)&&this.add(1,0,0,1,d,e);this.add(a,0,0,c,0,0);(d||e)&&this.add(1,0,0,1,-d,-e);return this;};e.rotate=function(a,d,e){a=h.rad(a);d=d||0;e=e||0;var l=+c.cos(a).toFixed(9);a=+c.sin(a).toFixed(9);this.add(l,a,-a,l,d,e);return this.add(1,0,0,1,-d,-e);};e.x=function(a,c){return a*this.a+c*this.c+this.e;};e.y=function(a,c){return a*this.b+c*this.d+this.f;};e.get=function(a){return+this[d.fromCharCode(97+a)].toFixed(4);};e.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")";};e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)];};e.determinant=function(){return this.a*this.d-this.b*this.c;};e.split=function(){var a={};a.dx=this.e;a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=c.sqrt(l(d[0]));t(d[0]);a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1];d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear];a.scaley=c.sqrt(l(d[1]));t(d[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var e=-d[0][1],d=d[1][1];0>d?(a.rotate=h.deg(c.acos(d)),0>e&&(a.rotate=360-a.rotate)):a.rotate=h.deg(c.asin(e));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a;};e.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"");};})(u.prototype);h.Matrix=u;h.matrix=function(c,d,e,a,h,p){return new u(c,d,e,a,h,p);};});I.plugin(function(h,e,H,A,D){function u(b){return function(c){k.stop();c instanceof D&&1==c.node.childNodes.length&&("radialGradient"==c.node.firstChild.tagName||"linearGradient"==c.node.firstChild.tagName||"pattern"==c.node.firstChild.tagName)&&(c=c.node.firstChild,a(this).appendChild(c),c=C(c));if(c instanceof e){if("radialGradient"==c.type||"linearGradient"==c.type||"pattern"==c.type){c.node.id||p(c.node,{id:c.id});var d=r(c.node.id);}else d=c.attr(b);}else d=h.color(c),d.error?(d=h(a(this).ownerSVGElement).gradient(c))?(d.node.id||p(d.node,{id:d.id}),d=r(d.node.id)):d=c:d=n(d);c={};c[b]=d;p(this.node,c);this.node.style[b]="";};}function y(b){k.stop();b==+b&&(b+="px");this.node.style.fontSize=b;}function d(b){var a=[];b=b.childNodes;for(var c=0,e=b.length;c<e;c++){var l=b[c];3==l.nodeType&&a.push(l.nodeValue);"tspan"==l.tagName&&(1==l.childNodes.length&&3==l.firstChild.nodeType?a.push(l.firstChild.nodeValue):a.push(d(l)));}return a;}function c(){k.stop();return this.node.style.fontSize;}var l=h._.make,C=h._.wrap,t=h.is,a=h._.getSomeDefs,v=/^url\(#?([^)]+)\)$/,p=h._.$,r=h.url,n=String,z=h._.separator;k.on("snap.util.attr.mask",function(b){if(b instanceof e||b instanceof D){k.stop();b instanceof D&&1==b.node.childNodes.length&&(b=b.node.firstChild,a(this).appendChild(b),b=C(b));if("mask"==b.type)var c=b;else c=l("mask",a(this)),c.node.appendChild(b.node);!c.node.id&&p(c.node,{id:c.id});p(this.node,{mask:r(c.id)});}});(function(b){k.on("snap.util.attr.clip",b);k.on("snap.util.attr.clip-path",b);k.on("snap.util.attr.clipPath",b);})(function(b){if(b instanceof e||b instanceof D){k.stop();if("clipPath"==b.type)var c=b;else c=l("clipPath",a(this)),c.node.appendChild(b.node),!c.node.id&&p(c.node,{id:c.id});p(this.node,{"clip-path":r(c.node.id||c.id)});}});k.on("snap.util.attr.fill",u("fill"));k.on("snap.util.attr.stroke",u("stroke"));var x=/^([lr])(?:\(([^)]*)\))?(.*)$/i;k.on("snap.util.grad.parse",function(b){b=n(b);var a=b.match(x);if(!a)return null;b=a[1];var c=a[2],a=a[3],c=c.split(/\s*,\s*/).map(function(b){return+b==b?+b:b;});1==c.length&&0==c[0]&&(c=[]);a=a.split("-");a=a.map(function(b){b=b.split(":");var a={color:b[0]};b[1]&&(a.offset=parseFloat(b[1]));return a;});return{type:b,params:c,stops:a};});k.on("snap.util.attr.d",function(b){k.stop();t(b,"array")&&t(b[0],"array")&&(b=h.path.toString.call(b));b=n(b);b.match(/[ruo]/i)&&(b=h.path.toAbsolute(b));p(this.node,{d:b});})(-1);k.on("snap.util.attr.#text",function(b){k.stop();b=n(b);for(b=A.doc.createTextNode(b);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(b);})(-1);k.on("snap.util.attr.path",function(b){k.stop();this.attr({d:b});})(-1);k.on("snap.util.attr.class",function(b){k.stop();this.node.className.baseVal=b;})(-1);k.on("snap.util.attr.viewBox",function(b){b=t(b,"object")&&"x"in b?[b.x,b.y,b.width,b.height].join(" "):t(b,"array")?b.join(" "):b;p(this.node,{viewBox:b});k.stop();})(-1);k.on("snap.util.attr.transform",function(b){this.transform(b);k.stop();})(-1);k.on("snap.util.attr.r",function(b){"rect"==this.type&&(k.stop(),p(this.node,{rx:b,ry:b}));})(-1);k.on("snap.util.attr.textpath",function(b){k.stop();if("text"==this.type){var c,d;if(!b&&this.textPath){for(b=this.textPath;b.node.firstChild;)this.node.appendChild(b.node.firstChild);b.remove();delete this.textPath;}else if(t(b,"string")?(c=a(this),b=C(c.parentNode).path(b),c.appendChild(b.node),c=b.id,b.attr({id:c})):(b=C(b),b instanceof e&&(c=b.attr("id"),c||(c=b.id,b.attr({id:c})))),c)if(b=this.textPath,d=this.node,b)b.attr({"xlink:href":"#"+c});else{for(b=p("textPath",{"xlink:href":"#"+c});d.firstChild;)b.appendChild(d.firstChild);d.appendChild(b);this.textPath=C(b);}}})(-1);k.on("snap.util.attr.text",function(b){if("text"==this.type){for(var a=this.node,c=function(b){var a=p("tspan");if(t(b,"array"))for(var d=0;d<b.length;d++)a.appendChild(c(b[d]));else a.appendChild(A.doc.createTextNode(b));a.normalize&&a.normalize();return a;};a.firstChild;)a.removeChild(a.firstChild);for(b=c(b);b.firstChild;)a.appendChild(b.firstChild);}k.stop();})(-1);k.on("snap.util.attr.fontSize",y)(-1);k.on("snap.util.attr.font-size",y)(-1);k.on("snap.util.getattr.transform",function(){k.stop();return this.transform();})(-1);k.on("snap.util.getattr.textpath",function(){k.stop();return this.textPath;})(-1);(function(){function b(b){return function(){k.stop();var a=A.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+b);return"none"==a?a:h(A.doc.getElementById(a.match(v)[1]));};}function a(b){return function(a){k.stop();var c="marker"+b.charAt(0).toUpperCase()+b.substring(1);if(""==a||!a)this.node.style[c]="none";else if("marker"==a.type){var d=a.node.id;d||p(a.node,{id:a.id});this.node.style[c]=r(d);}};}k.on("snap.util.getattr.marker-end",b("end"))(-1);k.on("snap.util.getattr.markerEnd",b("end"))(-1);k.on("snap.util.getattr.marker-start",b("start"))(-1);k.on("snap.util.getattr.markerStart",b("start"))(-1);k.on("snap.util.getattr.marker-mid",b("mid"))(-1);k.on("snap.util.getattr.markerMid",b("mid"))(-1);k.on("snap.util.attr.marker-end",a("end"))(-1);k.on("snap.util.attr.markerEnd",a("end"))(-1);k.on("snap.util.attr.marker-start",a("start"))(-1);k.on("snap.util.attr.markerStart",a("start"))(-1);k.on("snap.util.attr.marker-mid",a("mid"))(-1);k.on("snap.util.attr.markerMid",a("mid"))(-1);})();k.on("snap.util.getattr.r",function(){if("rect"==this.type&&p(this.node,"rx")==p(this.node,"ry"))return k.stop(),p(this.node,"rx");})(-1);k.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){k.stop();var b=d(this.node);return 1==b.length?b[0]:b;}})(-1);k.on("snap.util.getattr.#text",function(){return this.node.textContent;})(-1);k.on("snap.util.getattr.viewBox",function(){k.stop();var b=p(this.node,"viewBox");if(b)return b=b.split(z),h._.box(+b[0],+b[1],+b[2],+b[3]);})(-1);k.on("snap.util.getattr.points",function(){var b=p(this.node,"points");k.stop();if(b)return b.split(z);})(-1);k.on("snap.util.getattr.path",function(){var b=p(this.node,"d");k.stop();return b;})(-1);k.on("snap.util.getattr.class",function(){return this.node.className.baseVal;})(-1);k.on("snap.util.getattr.fontSize",c)(-1);k.on("snap.util.getattr.font-size",c)(-1);});I.plugin(function(h,e,k,A,D){var u=/\S+/g,y=String;h=e.prototype;h.addClass=function(d){var c=y(d||"").match(u)||[];d=this.node;var e=d.className.baseVal,h=e.match(u)||[],t,a,v;if(c.length){for(t=0;v=c[t++];)a=h.indexOf(v),~a||h.push(v);c=h.join(" ");e!=c&&(d.className.baseVal=c);}return this;};h.removeClass=function(d){var c=y(d||"").match(u)||[];d=this.node;var e=d.className.baseVal,h=e.match(u)||[],t,a;if(h.length){for(t=0;a=c[t++];)a=h.indexOf(a),~a&&h.splice(a,1);c=h.join(" ");e!=c&&(d.className.baseVal=c);}return this;};h.hasClass=function(d){return!!~(this.node.className.baseVal.match(u)||[]).indexOf(d);};h.toggleClass=function(d,c){if(null!=c)return c?this.addClass(d):this.removeClass(d);var e=(d||"").match(u)||[],h=this.node,t=h.className.baseVal,a=t.match(u)||[],v,p,r;for(v=0;r=e[v++];)p=a.indexOf(r),~p?a.splice(p,1):a.push(r);e=a.join(" ");t!=e&&(h.className.baseVal=e);return this;};});I.plugin(function(h,e,H,A,D){function u(c){return c;}function y(c){return function(a){return+a.toFixed(3)+c;};}var d={"+":function(c,a){return c+a;},"-":function(c,a){return c-a;},"/":function(c,a){return c/a;},"*":function(c,a){return c*a;}},c=String,l=/[a-z]+$/i,C=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;k.on("snap.util.attr",function(e){if(e=c(e).match(C)){var a=k.nt(),a=a.substring(a.lastIndexOf(".")+1),h=this.attr(a),t={};k.stop();var r=e[3]||"",n=h.match(l),z=d[e[1]];n&&n==r?e=z(parseFloat(h),+e[2]):(h=this.asPX(a),e=z(this.asPX(a),this.asPX(a,e[2]+r)));isNaN(h)||isNaN(e)||(t[a]=e,this.attr(t));}})(-10);k.on("snap.util.equal",function(e,a){var h=c(this.attr(e)||""),t=c(a).match(C);if(t){k.stop();var r=t[3]||"",n=h.match(l),z=d[t[1]];if(n&&n==r)return{from:parseFloat(h),to:z(parseFloat(h),+t[2]),f:y(n)};h=this.asPX(e);return{from:h,to:z(h,this.asPX(e,t[2]+r)),f:u};}})(-10);});I.plugin(function(h,e,H,A,D){var u=H.prototype,y=h.is;u.rect=function(c,d,e,h,a,v){var l;null==v&&(v=a);y(c,"object")&&"[object Object]"==c?l=c:null!=c&&(l={x:c,y:d,width:e,height:h},null!=a&&(l.rx=a,l.ry=v));return this.el("rect",l);};u.circle=function(c,d,e){var h;y(c,"object")&&"[object Object]"==c?h=c:null!=c&&(h={cx:c,cy:d,r:e});return this.el("circle",h);};var d=function(){function c(){this.parentNode.removeChild(this);}return function(d,e){var h=A.doc.createElement("img"),a=A.doc.body;h.style.cssText="position:absolute;left:-9999em;top:-9999em";h.onload=function(){e.call(h);h.onload=h.onerror=null;a.removeChild(h);};h.onerror=c;a.appendChild(h);h.src=d;};}();u.image=function(c,e,k,t,a){var l=this.el("image");if(y(c,"object")&&"src"in c)l.attr(c);else if(null!=c){var p={"xlink:href":c,preserveAspectRatio:"none"};null!=e&&null!=k&&(p.x=e,p.y=k);null!=t&&null!=a?(p.width=t,p.height=a):d(c,function(){h._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight});});h._.$(l.node,p);}return l;};u.ellipse=function(c,d,e,h){var a;y(c,"object")&&"[object Object]"==c?a=c:null!=c&&(a={cx:c,cy:d,rx:e,ry:h});return this.el("ellipse",a);};u.path=function(c){var d;y(c,"object")&&!y(c,"array")?d=c:c&&(d={d:c});return this.el("path",d);};u.group=u.g=function(c){var d=this.el("g");1==arguments.length&&c&&!c.type?d.attr(c):arguments.length&&d.add(Array.prototype.slice.call(arguments,0));return d;};u.svg=function(c,d,e,h,a,v,p,r){var l={};y(c,"object")&&null==d?l=c:(null!=c&&(l.x=c),null!=d&&(l.y=d),null!=e&&(l.width=e),null!=h&&(l.height=h),null!=a&&null!=v&&null!=p&&null!=r&&(l.viewBox=[a,v,p,r]));return this.el("svg",l);};u.mask=function(c){var d=this.el("mask");1==arguments.length&&c&&!c.type?d.attr(c):arguments.length&&d.add(Array.prototype.slice.call(arguments,0));return d;};u.ptrn=function(c,d,e,h,a,v,p,r){if(y(c,"object"))var l=c;else l={patternUnits:"userSpaceOnUse"},c&&(l.x=c),d&&(l.y=d),null!=e&&(l.width=e),null!=h&&(l.height=h),l.viewBox=null!=a&&null!=v&&null!=p&&null!=r?[a,v,p,r]:[c||0,d||0,e||0,h||0];return this.el("pattern",l);};u.use=function(c){return null!=c?(c instanceof e&&(c.attr("id")||c.attr({id:h._.id(c)}),c=c.attr("id")),"#"==String(c).charAt()&&(c=c.substring(1)),this.el("use",{"xlink:href":"#"+c})):e.prototype.use.call(this);};u.symbol=function(c,d,e,h){var a={};null!=c&&null!=d&&null!=e&&null!=h&&(a.viewBox=[c,d,e,h]);return this.el("symbol",a);};u.text=function(c,d,e){var h={};y(c,"object")?h=c:null!=c&&(h={x:c,y:d,text:e||""});return this.el("text",h);};u.line=function(c,d,e,h){var a={};y(c,"object")?a=c:null!=c&&(a={x1:c,x2:e,y1:d,y2:h});return this.el("line",a);};u.polyline=function(c){1<arguments.length&&(c=Array.prototype.slice.call(arguments,0));var d={};y(c,"object")&&!y(c,"array")?d=c:null!=c&&(d={points:c});return this.el("polyline",d);};u.polygon=function(c){1<arguments.length&&(c=Array.prototype.slice.call(arguments,0));var d={};y(c,"object")&&!y(c,"array")?d=c:null!=c&&(d={points:c});return this.el("polygon",d);};(function(){function c(){return this.selectAll("stop");}function d(a,c){var d=p("stop"),e={offset:+c+"%"};a=h.color(a);e["stop-color"]=a.hex;1>a.opacity&&(e["stop-opacity"]=a.opacity);p(d,e);this.node.appendChild(d);return this;}function e(){if("linearGradient"==this.type){var a=p(this.node,"x1")||0,c=p(this.node,"x2")||1,d=p(this.node,"y1")||0,e=p(this.node,"y2")||0;return h._.box(a,d,math.abs(c-a),math.abs(e-d));}a=this.node.r||0;return h._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a);}function t(c,d){function e(b,a){for(var c=(a-r)/(b-n),d=n;d<b;d++)l[d].offset=+(+r+c*(d-n)).toFixed(2);n=b;r=a;}var h=k("snap.util.grad.parse",null,d).firstDefined(),b;if(!h)return null;h.params.unshift(c);b="l"==h.type.toLowerCase()?a.apply(0,h.params):v.apply(0,h.params);h.type!=h.type.toLowerCase()&&p(b.node,{gradientUnits:"userSpaceOnUse"});var l=h.stops,h=l.length,r=0,n=0;h--;for(var t=0;t<h;t++)"offset"in l[t]&&e(t,l[t].offset);l[h].offset=l[h].offset||100;e(h,l[h].offset);for(t=0;t<=h;t++){var u=l[t];b.addStop(u.color,u.offset);}return b;}function a(a,l,t,v,b){a=h._.make("linearGradient",a);a.stops=c;a.addStop=d;a.getBBox=e;null!=l&&p(a.node,{x1:l,y1:t,x2:v,y2:b});return a;}function v(a,l,t,v,b,q){a=h._.make("radialGradient",a);a.stops=c;a.addStop=d;a.getBBox=e;null!=l&&p(a.node,{cx:l,cy:t,r:v});null!=b&&null!=q&&p(a.node,{fx:b,fy:q});return a;}var p=h._.$;u.gradient=function(a){return t(this.defs,a);};u.gradientLinear=function(c,d,e,h){return a(this.defs,c,d,e,h);};u.gradientRadial=function(a,c,d,e,b){return v(this.defs,a,c,d,e,b);};u.toString=function(){var a=this.node.ownerDocument,c=a.createDocumentFragment(),a=a.createElement("div"),d=this.node.cloneNode(!0);c.appendChild(a);a.appendChild(d);h._.$(d,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;c.removeChild(c.firstChild);return a;};u.toDataURL=function(){if(J&&J.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)));};u.clear=function(){for(var a=this.node.firstChild,c;a;)c=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):u.clear.call({node:a}),a=c;};})();});I.plugin(function(h,e,k,A){function D(a){var b=D.ps=D.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c]);});return b[a];}function u(a,b,c,d){null==a&&(a=b=c=d=0);null==b&&(b=a.y,c=a.width,d=a.height,a=a.x);return{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:F.min(c,d)/2,r2:F.max(c,d)/2,r0:F.sqrt(c*c+d*d)/2,path:z(a,b,c,d),vb:[a,b,c,d].join(" ")};}function y(){return this.join(",").replace(K,"$1");}function d(a){a=J(a);a.toString=y;return a;}function c(a,b,c,d,e,h,l,n,f){if(null==f)return p(a,b,c,d,e,h,l,n);if(0>f||p(a,b,c,d,e,h,l,n)<f)f=void 0;else{var m=.5,w=1-m,r;for(r=p(a,b,c,d,e,h,l,n,w);.01<W(r-f);)m/=2,w+=(r<f?1:-1)*m,r=p(a,b,c,d,e,h,l,n,w);f=w;}return C(a,b,c,d,e,h,l,n,f);}function l(a,b){function d(a){return+(+a).toFixed(3);}return h._.cacher(function(m,h,l){m instanceof e&&(m=m.attr("d"));m=X(m);for(var n,r,f,q,w="",O={},M=0,t=0,p=m.length;t<p;t++){f=m[t];if("M"==f[0])n=+f[1],r=+f[2];else{q=c(n,r,f[1],f[2],f[3],f[4],f[5],f[6]);if(M+q>h){if(b&&!O.start){n=c(n,r,f[1],f[2],f[3],f[4],f[5],f[6],h-M);w+=["C"+d(n.start.x),d(n.start.y),d(n.m.x),d(n.m.y),d(n.x),d(n.y)];if(l)return w;O.start=w;w=["M"+d(n.x),d(n.y)+"C"+d(n.n.x),d(n.n.y),d(n.end.x),d(n.end.y),d(f[5]),d(f[6])].join();M+=q;n=+f[5];r=+f[6];continue;}if(!a&&!b)return n=c(n,r,f[1],f[2],f[3],f[4],f[5],f[6],h-M);}M+=q;n=+f[5];r=+f[6];}w+=f.shift()+f;}O.end=w;return n=a?M:b?O:C(n,r,f[0],f[1],f[2],f[3],f[4],f[5],1);},null,h._.clone);}function C(a,b,c,d,e,h,l,n,f){var m=1-f,r=oa(m,3),q=oa(m,2),t=f*f,M=t*f,O=r*a+3*q*f*c+3*m*f*f*e+M*l,r=r*b+3*q*f*d+3*m*f*f*h+M*n,q=a+2*f*(c-a)+t*(e-2*c+a),M=b+2*f*(d-b)+t*(h-2*d+b),p=c+2*f*(e-c)+t*(l-2*e+c),t=d+2*f*(h-d)+t*(n-2*h+d);a=m*a+f*c;b=m*b+f*d;e=m*e+f*l;h=m*h+f*n;n=90-180*F.atan2(q-p,M-t)/N;return{x:O,y:r,m:{x:q,y:M},n:{x:p,y:t},start:{x:a,y:b},end:{x:e,y:h},alpha:n};}function t(a,b,c,d,e,l,n,r){h.is(a,"array")||(a=[a,b,c,d,e,l,n,r]);a=Q.apply(null,a);return u(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y);}function a(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height;}function v(b,c){b=u(b);c=u(c);return a(c,b.x,b.y)||a(c,b.x2,b.y)||a(c,b.x,b.y2)||a(c,b.x2,b.y2)||a(b,c.x,c.y)||a(b,c.x2,c.y)||a(b,c.x,c.y2)||a(b,c.x2,c.y2)||(b.x<c.x2&&b.x>c.x||c.x<b.x2&&c.x>b.x)&&(b.y<c.y2&&b.y>c.y||c.y<b.y2&&c.y>b.y);}function p(a,b,c,d,e,h,l,n,f){null==f&&(f=1);f=(1<f?1:0>f?0:f)/2;for(var m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],r=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],q=0,t=0;12>t;t++)var M=f*m[t]+f,O=M*(M*(-3*a+9*c-9*e+3*l)+6*a-12*c+6*e)-3*a+3*c,M=M*(M*(-3*b+9*d-9*h+3*n)+6*b-12*d+6*h)-3*b+3*d,q=q+r[t]*F.sqrt(O*O+M*M);return f*q;}function r(a,b,c){a=X(a);b=X(b);for(var d,e,m,h,l,f,n,r,q,z,k=c?0:[],u=0,ma=a.length;u<ma;u++)if(q=a[u],"M"==q[0])d=l=q[1],e=f=q[2];else{"C"==q[0]?(q=[d,e].concat(q.slice(1)),d=q[6],e=q[7]):(q=[d,e,d,e,l,f,l,f],d=l,e=f);for(var x=0,la=b.length;x<la;x++)if(z=b[x],"M"==z[0])m=n=z[1],h=r=z[2];else{"C"==z[0]?(z=[m,h].concat(z.slice(1)),m=z[6],h=z[7]):(z=[m,h,m,h,n,r,n,r],m=n,h=r);var E;var y=q,U=z;E=c;var V=t(y),A=t(U);if(v(V,A)){for(var V=p.apply(0,y),A=p.apply(0,U),V=~~(V/8),A=~~(A/8),Q=[],D=[],H={},Y=E?0:[],F=0;F<V+1;F++){var S=C.apply(0,y.concat(F/V));Q.push({x:S.x,y:S.y,t:F/V});}for(F=0;F<A+1;F++)S=C.apply(0,U.concat(F/A)),D.push({x:S.x,y:S.y,t:F/A});for(F=0;F<V;F++)for(y=0;y<A;y++){var I=Q[F],J=Q[F+1],U=D[y],S=D[y+1],Z=.001>W(J.x-I.x)?"y":"x",K=.001>W(S.x-U.x)?"y":"x",P;P=I.x;var L=I.y,N=J.x,ba=J.y,ca=U.x,da=U.y,ea=S.x,fa=S.y;if(R(P,N)<T(ca,ea)||T(P,N)>R(ca,ea)||R(L,ba)<T(da,fa)||T(L,ba)>R(da,fa))P=void 0;else{var aa=(P-N)*(da-fa)-(L-ba)*(ca-ea);if(aa){var ga=((P*ba-L*N)*(ca-ea)-(P-N)*(ca*fa-da*ea))/aa,aa=((P*ba-L*N)*(da-fa)-(L-ba)*(ca*fa-da*ea))/aa,ia=+ga.toFixed(2),ja=+aa.toFixed(2);P=ia<+T(P,N).toFixed(2)||ia>+R(P,N).toFixed(2)||ia<+T(ca,ea).toFixed(2)||ia>+R(ca,ea).toFixed(2)||ja<+T(L,ba).toFixed(2)||ja>+R(L,ba).toFixed(2)||ja<+T(da,fa).toFixed(2)||ja>+R(da,fa).toFixed(2)?void 0:{x:ga,y:aa};}else P=void 0;}P&&H[P.x.toFixed(4)]!=P.y.toFixed(4)&&(H[P.x.toFixed(4)]=P.y.toFixed(4),I=I.t+W((P[Z]-I[Z])/(J[Z]-I[Z]))*(J.t-I.t),U=U.t+W((P[K]-U[K])/(S[K]-U[K]))*(S.t-U.t),0<=I&&1>=I&&0<=U&&1>=U&&(E?Y++:Y.push({x:P.x,y:P.y,t1:I,t2:U})));}E=Y;}else E=E?0:[];if(c)k+=E;else{V=0;for(A=E.length;V<A;V++)E[V].segment1=u,E[V].segment2=x,E[V].bez1=q,E[V].bez2=z;k=k.concat(E);}}}return k;}function n(a){var b=D(a);if(b.bbox)return J(b.bbox);if(!a)return u();a=X(a);for(var c=0,d=0,e=[],m=[],h,l=0,f=a.length;l<f;l++)h=a[l],"M"==h[0]?(c=h[1],d=h[2],e.push(c),m.push(d)):(c=Q(c,d,h[1],h[2],h[3],h[4],h[5],h[6]),e=e.concat(c.min.x,c.max.x),m=m.concat(c.min.y,c.max.y),c=h[5],d=h[6]);a=T.apply(0,e);h=T.apply(0,m);e=R.apply(0,e);m=R.apply(0,m);m=u(a,h,e-a,m-h);b.bbox=J(m);return m;}function z(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];a.toString=y;return a;}function x(a,b,c,d,e){null==e&&null==d&&(d=c);a=+a;b=+b;c=+c;d=+d;if(null!=e){var h=Math.PI/180;a=[["M",a+c*Math.cos(-d*h),b+c*Math.sin(-d*h)],["A",c,c,0,+(180<e-d),0,a+c*Math.cos(-e*h),b+c*Math.sin(-e*h)]];}else a=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];a.toString=y;return a;}function b(a){var b=D(a);if(b.abs)return d(b.abs);Z(a,"array")&&Z(a&&a[0],"array")||(a=h.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var c=[],e=0,m=0,l=0,n=0,r=0;"M"==a[0][0]&&(e=+a[0][1],m=+a[0][2],l=e,n=m,r++,c[0]=["M",e,m]);for(var f=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),q,w,t=r,z=a.length;t<z;t++){c.push(q=[]);w=a[t];r=w[0];if(r!=r.toUpperCase())switch(q[0]=r.toUpperCase(),q[0]){case"A":q[1]=w[1];q[2]=w[2];q[3]=w[3];q[4]=w[4];q[5]=w[5];q[6]=+w[6]+e;q[7]=+w[7]+m;break;case"V":q[1]=+w[1]+m;break;case"H":q[1]=+w[1]+e;break;case"R":for(var p=[e,m].concat(w.slice(1)),k=2,v=p.length;k<v;k++)p[k]=+p[k]+e,p[++k]=+p[k]+m;c.pop();c=c.concat(Y(p,f));break;case"O":c.pop();p=x(e,m,w[1],w[2]);p.push(p[0]);c=c.concat(p);break;case"U":c.pop();c=c.concat(x(e,m,w[1],w[2],w[3]));q=["U"].concat(c[c.length-1].slice(-2));break;case"M":l=+w[1]+e,n=+w[2]+m;default:for(k=1,v=w.length;k<v;k++)q[k]=+w[k]+(k%2?e:m);}else if("R"==r)p=[e,m].concat(w.slice(1)),c.pop(),c=c.concat(Y(p,f)),q=["R"].concat(w.slice(-2));else if("O"==r)c.pop(),p=x(e,m,w[1],w[2]),p.push(p[0]),c=c.concat(p);else if("U"==r)c.pop(),c=c.concat(x(e,m,w[1],w[2],w[3])),q=["U"].concat(c[c.length-1].slice(-2));else for(p=0,k=w.length;p<k;p++)q[p]=w[p];r=r.toUpperCase();if("O"!=r)switch(q[0]){case"Z":e=+l;m=+n;break;case"H":e=q[1];break;case"V":m=q[1];break;case"M":l=q[q.length-2],n=q[q.length-1];default:e=q[q.length-2],m=q[q.length-1];}}c.toString=y;b.abs=d(c);return c;}function q(a,b,c,d){return[a,b,c,d,c,d];}function E(a,b,c,d,e,h){var m=1/3,l=2/3;return[m*a+l*c,m*b+l*d,m*e+l*c,m*h+l*d,e,h];}function H(a,b,c,d,e,l,n,q,f,r){var m=120*N/180,t=N/180*(+e||0),p=[],k,z=h._.cacher(function(a,b,c){var d=a*F.cos(c)-b*F.sin(c);a=a*F.sin(c)+b*F.cos(c);return{x:d,y:a};});if(r)x=r[0],k=r[1],l=r[2],v=r[3];else{k=z(a,b,-t);a=k.x;b=k.y;k=z(q,f,-t);q=k.x;f=k.y;F.cos(N/180*e);F.sin(N/180*e);k=(a-q)/2;x=(b-f)/2;v=k*k/(c*c)+x*x/(d*d);1<v&&(v=F.sqrt(v),c*=v,d*=v);var v=c*c,u=d*d,v=(l==n?-1:1)*F.sqrt(W((v*u-v*x*x-u*k*k)/(v*x*x+u*k*k)));l=v*c*x/d+(a+q)/2;var v=v*-d*k/c+(b+f)/2,x=F.asin(((b-v)/d).toFixed(9));k=F.asin(((f-v)/d).toFixed(9));x=a<l?N-x:x;k=q<l?N-k:k;0>x&&(x=2*N+x);0>k&&(k=2*N+k);n&&x>k&&(x-=2*N);!n&&k>x&&(k-=2*N);}if(W(k-x)>m){var p=k,u=q,C=f;k=x+m*(n&&k>x?1:-1);q=l+c*F.cos(k);f=v+d*F.sin(k);p=H(q,f,c,d,e,0,n,u,C,[k,p,l,v]);}l=k-x;e=F.cos(x);m=F.sin(x);n=F.cos(k);k=F.sin(k);l=F.tan(l/4);c=4/3*c*l;l*=4/3*d;d=[a,b];a=[a+c*m,b-l*e];b=[q+c*k,f-l*n];q=[q,f];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(r)return[a,b,q].concat(p);p=[a,b,q].concat(p).join().split(",");r=[];q=0;for(f=p.length;q<f;q++)r[q]=q%2?z(p[q-1],p[q],t).y:z(p[q],p[q+1],t).x;return r;}function Q(a,b,c,d,e,h,l,q){for(var f=[],m=[[],[]],n,r,k,p,t=0;2>t;++t)0==t?(r=6*a-12*c+6*e,n=-3*a+9*c-9*e+3*l,k=3*c-3*a):(r=6*b-12*d+6*h,n=-3*b+9*d-9*h+3*q,k=3*d-3*b),1E-12>W(n)?1E-12>W(r)||(n=-k/r,0<n&&1>n&&f.push(n)):(p=r*r-4*k*n,k=F.sqrt(p),0>p||(p=(-r+k)/(2*n),0<p&&1>p&&f.push(p),n=(-r-k)/(2*n),0<n&&1>n&&f.push(n)));for(r=t=f.length;t--;)n=f[t],k=1-n,m[0][t]=k*k*k*a+3*k*k*n*c+3*k*n*n*e+n*n*n*l,m[1][t]=k*k*k*b+3*k*k*n*d+3*k*n*n*h+n*n*n*q;m[0][r]=a;m[1][r]=b;m[0][r+1]=l;m[1][r+1]=q;m[0].length=m[1].length=r+2;return{min:{x:T.apply(0,m[0]),y:T.apply(0,m[1])},max:{x:R.apply(0,m[0]),y:R.apply(0,m[1])}};}function X(a,c){var e=!c&&D(a);if(!c&&e.curve)return d(e.curve);var h=b(a),m=c&&b(c),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=function(a,b,c){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case"M":b.X=a[1];b.Y=a[2];break;case"A":a=["C"].concat(H.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(E(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(E(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(q(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(q(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(q(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(q(b.x,b.y,b.X,b.Y));}return a;},f=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)p[b]="A",m&&(t[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);u=R(h.length,m&&m.length||0);}},k=function(a,b,c,d,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(b.splice(f,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],u=R(h.length,m&&m.length||0));},p=[],t=[],v="",z="",x=0,u=R(h.length,m&&m.length||0);for(;x<u;x++){h[x]&&(v=h[x][0]);"C"!=v&&(p[x]=v,x&&(z=p[x-1]));h[x]=r(h[x],l,z);"A"!=p[x]&&"C"==v&&(p[x]="C");f(h,x);m&&(m[x]&&(v=m[x][0]),"C"!=v&&(t[x]=v,x&&(z=t[x-1])),m[x]=r(m[x],n,z),"A"!=t[x]&&"C"==v&&(t[x]="C"),f(m,x));k(h,m,l,n,x);k(m,h,n,l,x);var C=h[x],y=m&&m[x],A=C.length,Q=m&&y.length;l.x=C[A-2];l.y=C[A-1];l.bx=I(C[A-4])||l.x;l.by=I(C[A-3])||l.y;n.bx=m&&(I(y[Q-4])||n.x);n.by=m&&(I(y[Q-3])||n.y);n.x=m&&y[Q-2];n.y=m&&y[Q-1];}m||(e.curve=d(h));return m?[h,m]:h;}function Y(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var h=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?h[3]={x:+a[0],y:+a[1]}:e-2==d&&(h[2]={x:+a[0],y:+a[1]},h[3]={x:+a[2],y:+a[3]}):h[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?h[3]=h[2]:d||(h[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*h[2].y-h[3].y)/6,h[2].x,h[2].y]);}return c;}k=e.prototype;var Z=h.is,J=h._.clone,K=/,?([a-z]),?/gi,I=parseFloat,F=Math,N=F.PI,T=F.min,R=F.max,oa=F.pow,W=F.abs;A=l(1);var na=l(),ga=l(0,1),L=h._unit2px;h.path=D;h.path.getTotalLength=A;h.path.getPointAtLength=na;h.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return ga(a,b).end;a=ga(a,c,1);return b?ga(a,b).end:a;};k.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength();};k.getPointAtLength=function(a){return na(this.attr("d"),a);};k.getSubpath=function(a,b){return h.path.getSubpath(this.attr("d"),a,b);};h._.box=u;h.path.findDotsAtSegment=C;h.path.bezierBBox=t;h.path.isPointInsideBBox=a;h.closest=function(b,c,d,e){for(var m=100,l=u(b-m/2,c-m/2,m,m),n=[],r=d[0].hasOwnProperty("x")?function(a){return{x:d[a].x,y:d[a].y};}:function(a){return{x:d[a],y:e[a]};},f=0;1E6>=m&&!f;){for(var q=0,k=d.length;q<k;q++){var p=r(q);if(a(l,p.x,p.y)){f++;n.push(p);break;}}f||(m*=2,l=u(b-m/2,c-m/2,m,m));}if(1E6!=m){for(var m=Infinity,t,q=0,k=n.length;q<k;q++)l=h.len(b,c,n[q].x,n[q].y),m>l&&(m=l,n[q].len=l,t=n[q]);return t;}};h.path.isBBoxIntersect=v;h.path.intersection=function(a,b){return r(a,b);};h.path.intersectionNumber=function(a,b){return r(a,b,1);};h.path.isPointInside=function(b,c,d){var e=n(b);return a(e,c,d)&&1==r(b,[["M",c,d],["H",e.x2+10]],1)%2;};h.path.getBBox=n;h.path.get={path:function(a){return a.attr("path");},circle:function(a){a=L(a);return x(a.cx,a.cy,a.r);},ellipse:function(a){a=L(a);return x(a.cx||0,a.cy||0,a.rx,a.ry);},rect:function(a){a=L(a);return z(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry);},image:function(a){a=L(a);return z(a.x||0,a.y||0,a.width,a.height);},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")];},polyline:function(a){return"M"+a.attr("points");},polygon:function(a){return"M"+a.attr("points")+"z";},deflt:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height);}};h.path.toRelative=function(a){var b=D(a),c=String.prototype.toLowerCase;if(b.rel)return d(b.rel);h.is(a,"array")&&h.is(a&&a[0],"array")||(a=h.parsePathString(a));var e=[],l=0,m=0,n=0,q=0,f=0;"M"==a[0][0]&&(l=a[0][1],m=a[0][2],n=l,q=m,f++,e.push(["M",l,m]));for(var r=a.length;f<r;f++){var k=e[f]=[],p=a[f];if(p[0]!=c.call(p[0]))switch(k[0]=c.call(p[0]),k[0]){case"a":k[1]=p[1];k[2]=p[2];k[3]=p[3];k[4]=p[4];k[5]=p[5];k[6]=+(p[6]-l).toFixed(3);k[7]=+(p[7]-m).toFixed(3);break;case"v":k[1]=+(p[1]-m).toFixed(3);break;case"m":n=p[1],q=p[2];default:for(var t=1,v=p.length;t<v;t++)k[t]=+(p[t]-(t%2?l:m)).toFixed(3);}else for(e[f]=[],"m"==p[0]&&(n=p[1]+l,q=p[2]+m),k=0,t=p.length;k<t;k++)e[f][k]=p[k];p=e[f].length;switch(e[f][0]){case"z":l=n;m=q;break;case"h":l+=+e[f][p-1];break;case"v":m+=+e[f][p-1];break;default:l+=+e[f][p-2],m+=+e[f][p-1];}}e.toString=y;b.rel=d(e);return e;};h.path.toAbsolute=b;h.path.toCubic=X;h.path.map=function(a,b){if(!b)return a;var c,d,e,h,l,m,f;a=X(a);e=0;for(l=a.length;e<l;e++)for(f=a[e],h=1,m=f.length;h<m;h+=2)c=b.x(f[h],f[h+1]),d=b.y(f[h],f[h+1]),f[h]=c,f[h+1]=d;return a;};h.path.toString=y;h.path.clone=d;});I.plugin(function(h,e,H,A){var D=Math.max,u=Math.min,y=function(d){this.items=[];this.bindings={};this.length=0;this.type="set";if(d)for(var c=0,e=d.length;c<e;c++)d[c]&&(this[this.items.length]=this.items[this.items.length]=d[c],this.length++);};e=y.prototype;e.push=function(){for(var d,c,e=0,h=arguments.length;e<h;e++)if(d=arguments[e])c=this.items.length,this[c]=this.items[c]=d,this.length++;return this;};e.pop=function(){this.length&&delete this[this.length--];return this.items.pop();};e.forEach=function(d,c){for(var e=0,h=this.items.length;e<h&&!1!==d.call(c,this.items[e],e);e++);return this;};e.animate=function(d,c,e,u){"function"!=typeof e||e.length||(u=e,e=K.linear);d instanceof h._.Animation&&(u=d.callback,e=d.easing,c=e.dur,d=d.attr);var l=arguments;if(h.is(d,"array")&&h.is(l[l.length-1],"array"))var a=!0;var v,p=function(){v?this.b=v:v=this.b;},r=0,n=this,z=u&&function(){++r==n.length&&u.call(this);};return this.forEach(function(h,b){k.once("snap.animcreated."+h.id,p);a?l[b]&&h.animate.apply(h,l[b]):h.animate(d,c,e,z);});};e.remove=function(){for(;this.length;)this.pop().remove();return this;};e.bind=function(d,c,e){var h={};if("function"==typeof c)this.bindings[d]=c;else{var l=e||d;this.bindings[d]=function(a){h[l]=a;c.attr(h);};}return this;};e.attr=function(d){var c={},e;for(e in d)if(this.bindings[e])this.bindings[e](d[e]);else c[e]=d[e];d=0;for(e=this.items.length;d<e;d++)this.items[d].attr(c);return this;};e.clear=function(){for(;this.length;)this.pop();};e.splice=function(d,c,e){d=0>d?D(this.length+d,0):d;c=D(0,u(this.length-d,c));var h=[],l=[],a=[],k;for(k=2;k<arguments.length;k++)a.push(arguments[k]);for(k=0;k<c;k++)l.push(this[d+k]);for(;k<this.length-d;k++)h.push(this[d+k]);var p=a.length;for(k=0;k<p+h.length;k++)this.items[d+k]=this[d+k]=k<p?a[k]:h[k-p];for(k=this.items.length=this.length-=c-p;this[k];)delete this[k++];return new y(l);};e.exclude=function(d){for(var c=0,e=this.length;c<e;c++)if(this[c]==d)return this.splice(c,1),!0;return!1;};e.insertAfter=function(d){for(var c=this.items.length;c--;)this.items[c].insertAfter(d);return this;};e.getBBox=function(){for(var d=[],c=[],e=[],h=[],k=this.items.length;k--;)if(!this.items[k].removed){var a=this.items[k].getBBox();d.push(a.x);c.push(a.y);e.push(a.x+a.width);h.push(a.y+a.height);}d=u.apply(0,d);c=u.apply(0,c);e=D.apply(0,e);h=D.apply(0,h);return{x:d,y:c,x2:e,y2:h,width:e-d,height:h-c,cx:d+(e-d)/2,cy:c+(h-c)/2};};e.clone=function(d){d=new y();for(var c=0,e=this.items.length;c<e;c++)d.push(this.items[c].clone());return d;};e.toString=function(){return"Snap\u2018s set";};e.type="set";h.Set=y;h.set=function(){var d=new y();arguments.length&&d.push.apply(d,Array.prototype.slice.call(arguments,0));return d;};});I.plugin(function(h,e,H,A){function D(a){var c=a[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return 4==a.length?[c,0,a[2],a[3]]:[c,0];case"s":return 5==a.length?[c,1,1,a[3],a[4]]:3==a.length?[c,1,1]:[c,1];}}function u(a,c,d){c=r(c).replace(/\.{3}|\u2026/g,a);a=h.parseTransformString(a)||[];c=h.parseTransformString(c)||[];for(var b=Math.max(a.length,c.length),e=[],l=[],k=0,n,p,x,v;k<b;k++){x=a[k]||D(c[k]);v=c[k]||D(x);if(x[0]!=v[0]||"r"==x[0].toLowerCase()&&(x[2]!=v[2]||x[3]!=v[3])||"s"==x[0].toLowerCase()&&(x[3]!=v[3]||x[4]!=v[4])){a=h._.transform2matrix(a,d());c=h._.transform2matrix(c,d());e=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];l=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break;}e[k]=[];l[k]=[];n=0;for(p=Math.max(x.length,v.length);n<p;n++)n in x&&(e[k][n]=x[n]),n in v&&(l[k][n]=v[n]);}return{from:t(e),to:t(l),f:C(e)};}function y(a){return a;}function d(a){return function(c){return+c.toFixed(3)+a;};}function c(a){return a.join(" ");}function l(a){return h.rgb(a[0],a[1],a[2]);}function C(a){var c=0,d,b,e,h,l,k,n=[];d=0;for(b=a.length;d<b;d++){l="[";k=['"'+a[d][0]+'"'];e=1;for(h=a[d].length;e<h;e++)k[e]="val["+c++ +"]";l+=k+"]";n[d]=l;}return Function("val","return Snap.path.toString.call(["+n+"])");}function t(a){for(var c=[],d=0,b=a.length;d<b;d++)for(var e=1,h=a[d].length;e<h;e++)c.push(a[d][e]);return c;}function a(a,c){return h.is(a,"array")&&h.is(c,"array")?a.toString()==c.toString():!1;}var v={},p=/[a-z]+$/i,r=String;v.stroke=v.fill="colour";e.prototype.equal=function(a,c){return k("snap.util.equal",this,a,c).firstDefined();};k.on("snap.util.equal",function(e,k){var n,b;n=r(this.attr(e)||"");var q=this;if(isFinite(parseFloat(n))&&isFinite(parseFloat(k)))return{from:parseFloat(n),to:parseFloat(k),f:y};if("colour"==v[e])return n=h.color(n),b=h.color(k),{from:[n.r,n.g,n.b,n.opacity],to:[b.r,b.g,b.b,b.opacity],f:l};if("viewBox"==e)return n=this.attr(e).vb.split(" ").map(Number),b=k.split(" ").map(Number),{from:n,to:b,f:c};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return k instanceof h.Matrix&&(k=k.toTransformString()),h._.rgTransform.test(k)||(k=h._.svgTransform2string(k)),u(n,k,function(){return q.getBBox(1);});if("d"==e||"path"==e)return n=h.path.toCubic(n,k),{from:t(n[0]),to:t(n[1]),f:C(n[0])};if("points"==e)return n=r(n).split(h._.separator),b=r(k).split(h._.separator),{from:n,to:b,f:function(a){return a;}};b=n.match(p);var z=r(k).match(p);return b&&a(b,z)?{from:parseFloat(n),to:parseFloat(k),f:d(b)}:{from:this.asPX(e),to:this.asPX(e,k),f:y};});});I.plugin(function(h,e,H,A){var D=e.prototype,u=("createTouch"in A.doc);e="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var y={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},d=function(a,c){var d="y"==a?"scrollTop":"scrollLeft",e=c&&c.node?c.node.ownerDocument:A.doc;return e[d in e.documentElement?"documentElement":"body"][d];},c=function(){return this.originalEvent.preventDefault();},l=function(){return this.originalEvent.stopPropagation();},C=function(a,e,h,k){var b=u&&y[e]?y[e]:e,n=function(b){var n=d("y",k),q=d("x",k);if(u&&y.hasOwnProperty(e))for(var r=0,p=b.targetTouches&&b.targetTouches.length;r<p;r++)if(b.targetTouches[r].target==a||a.contains(b.targetTouches[r].target)){p=b;b=b.targetTouches[r];b.originalEvent=p;b.preventDefault=c;b.stopPropagation=l;break;}return h.call(k,b,b.clientX+q,b.clientY+n);};e!==b&&a.addEventListener(e,n,!1);a.addEventListener(b,n,!1);return function(){e!==b&&a.removeEventListener(e,n,!1);a.removeEventListener(b,n,!1);return!0;};},t=[],a=function(a){for(var c=a.clientX,e=a.clientY,h=d("y"),b=d("x"),l,r=t.length;r--;){l=t[r];if(u)for(var p=a.touches&&a.touches.length,v;p--;){if(v=a.touches[p],v.identifier==l.el._drag.id||l.el.node.contains(v.target)){c=v.clientX;e=v.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break;}}else a.preventDefault();c+=b;e+=h;k("snap.drag.move."+l.el.id,l.move_scope||l.el,c-l.el._drag.x,e-l.el._drag.y,c,e,a);}},v=function(c){h.unmousemove(a).unmouseup(v);for(var d=t.length,e;d--;)e=t[d],e.el._drag={},k("snap.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,c),k.off("snap.drag.*."+e.el.id);t=[];};for(H=e.length;H--;)(function(a){h[a]=D[a]=function(c,d){if(h.is(c,"function"))this.events=this.events||[],this.events.push({name:a,f:c,unbind:C(this.node||document,a,c,d||this)});else for(var e=0,b=this.events.length;e<b;e++)if(this.events[e].name==a)try{this.events[e].f.call(this);}catch(q){}return this;};h["un"+a]=D["un"+a]=function(c){for(var d=this.events||[],e=d.length;e--;)if(d[e].name==a&&(d[e].f==c||!c)){d[e].unbind();d.splice(e,1);!d.length&&delete this.events;break;}return this;};})(e[H]);D.hover=function(a,c,d,e){return this.mouseover(a,d).mouseout(c,e||d);};D.unhover=function(a,c){return this.unmouseover(a).unmouseout(c);};var p=[];D.drag=function(c,d,e,l,b,q){function n(n,p,r){(n.originalEvent||n).preventDefault();u._drag.x=p;u._drag.y=r;u._drag.id=n.identifier;!t.length&&h.mousemove(a).mouseup(v);t.push({el:u,move_scope:l,start_scope:b,end_scope:q});d&&k.on("snap.drag.start."+u.id,d);c&&k.on("snap.drag.move."+u.id,c);e&&k.on("snap.drag.end."+u.id,e);k("snap.drag.start."+u.id,b||l||u,p,r,n);}function r(a,b,c){k("snap.draginit."+u.id,u,a,b,c);}var u=this;if(!arguments.length){var x;return u.drag(function(a,b){this.attr({transform:x+(x?"T":"t")+[a,b]});},function(){x=this.transform().local;});}k.on("snap.draginit."+u.id,n);u._drag={};p.push({el:u,start:n,init:r});u.mousedown(r);return u;};D.undrag=function(){for(var c=p.length;c--;)p[c].el==this&&(this.unmousedown(p[c].init),p.splice(c,1),k.unbind("snap.drag.*."+this.id),k.unbind("snap.draginit."+this.id));!p.length&&h.unmousemove(a).unmouseup(v);return this;};});I.plugin(function(h,e,H,A){H=H.prototype;var D=/^\s*url\((.+)\)/,u=String,y=h._.$;h.filter={};H.filter=function(d){var c=this;"svg"!=c.type&&(c=c.paper);d=h.parse(u(d));var l=h._.id(),k=y("filter");y(k,{id:l,filterUnits:"userSpaceOnUse"});k.appendChild(d.node);c.defs.appendChild(k);return new e(k);};k.on("snap.util.getattr.filter",function(){k.stop();var d=y(this.node,"filter");if(d)return(d=u(d).match(D))&&h.select(d[1]);});k.on("snap.util.attr.filter",function(d){if(d instanceof e&&"filter"==d.type){k.stop();var c=d.node.id;c||(y(d.node,{id:d.id}),c=d.id);y(this.node,{filter:h.url(c)});}d&&"none"!=d||(k.stop(),this.node.removeAttribute("filter"));});h.filter.blur=function(d,c){null==d&&(d=2);return h.format('<feGaussianBlur stdDeviation="{def}"/>',{def:null==c?d:[d,c]});};h.filter.blur.toString=function(){return this();};h.filter.shadow=function(d,c,e,k,t){"string"==typeof e&&(t=k=e,e=4);"string"!=typeof k&&(t=k,k="#000");null==e&&(e=4);null==t&&(t=1);null==d&&(d=0,c=2);null==c&&(c=d);k=h.color(k||"#000");return h.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:k,dx:d,dy:c,blur:e,opacity:t});};h.filter.shadow.toString=function(){return this();};h.filter.grayscale=function(d){null==d&&(d=1);return h.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-d),b:.7152-.7152*(1-d),c:.0722-.0722*(1-d),d:.2126-.2126*(1-d),e:.7152+.2848*(1-d),f:.0722-.0722*(1-d),g:.2126-.2126*(1-d),h:.0722+.9278*(1-d)});};h.filter.grayscale.toString=function(){return this();};h.filter.sepia=function(d){null==d&&(d=1);return h.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-d),b:.769-.769*(1-d),c:.189-.189*(1-d),d:.349-.349*(1-d),e:.686+.314*(1-d),f:.168-.168*(1-d),g:.272-.272*(1-d),h:.534-.534*(1-d),i:.131+.869*(1-d)});};h.filter.sepia.toString=function(){return this();};h.filter.saturate=function(d){null==d&&(d=1);return h.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-d});};h.filter.saturate.toString=function(){return this();};h.filter.hueRotate=function(d){return h.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:d||0});};h.filter.hueRotate.toString=function(){return this();};h.filter.invert=function(d){null==d&&(d=1);return h.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:d,amount2:1-d});};h.filter.invert.toString=function(){return this();};h.filter.brightness=function(d){null==d&&(d=1);return h.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:d});};h.filter.brightness.toString=function(){return this();};h.filter.contrast=function(d){null==d&&(d=1);return h.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:d,amount2:.5-d/2});};h.filter.contrast.toString=function(){return this();};});I.plugin(function(h,e,k,A,D){var u=h._.box,y=h.is,d=/^[^a-z]*([tbmlrc])/i,c=function(){return"T"+this.dx+","+this.dy;};e.prototype.getAlign=function(e,h){null==h&&y(e,"string")&&(h=e,e=null);e=e||this.paper;var k=e.getBBox?e.getBBox():u(e),a=this.getBBox(),l={};h=(h=h&&h.match(d))?h[1].toLowerCase():"c";switch(h){case"t":l.dx=0;l.dy=k.y-a.y;break;case"b":l.dx=0;l.dy=k.y2-a.y2;break;case"m":l.dx=0;l.dy=k.cy-a.cy;break;case"l":l.dx=k.x-a.x;l.dy=0;break;case"r":l.dx=k.x2-a.x2;l.dy=0;break;default:l.dx=k.cx-a.cx,l.dy=0;}l.toString=c;return l;};e.prototype.align=function(c,d){return this.transform("..."+this.getAlign(c,d));};});return I;});// polyfills
if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++){callback.call(thisArg,this[i],i,this);}};}// destroy global $
var JQ=jQuery.noConflict(true);var bowser_parser=bowser.getParser(window.navigator.userAgent);// wrap in a function in strict mode
(function($){'use strict';var Lib={length:function(obj){var size=0;for(var key in obj){if(obj.hasOwnProperty(key))size++;}return size;},htmlEntities:function(str,nl2br){var text=String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&apos;');if(nl2br){text=text.replace(/(?:\r\n|\r|\n)/g,'<br>');}return text;},htmlEntitiesWithA:function(str,nl2br){var text=String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');text=text.replace(/[\[]{1}([^\]]+)[\]]{1}[\(]{1}([^\)\"]+)(\"(.+)\")?[\)]{1}/g,'<a href="$2" title="$4" target="_blank">$1</a>');if(nl2br){text=text.replace(/(?:\r\n|\r|\n)/g,'<br>');}return text;},escapeRegExp:function(string){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=RegExp(reRegExpChar.source);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,'\\$&'):string||'';},getQueryString:function(key){var search=window.location.search.replace(/^\?/,'').split('&');var query_string={};$.each(search,function(index,parameter){parameter=parameter.split('=');if(parameter.length===2&&query_string[parameter[0]]===undefined){query_string[parameter[0]]=decodeURIComponent(parameter[1]);}});if(key){return query_string[key];}else{return query_string;}},b64EncodeUnicode:function(str){str=Lib.replaceUnpairedSurrogates(str);return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function toSolidBytes(match,p1){return String.fromCharCode('0x'+p1);}));},replaceUnpairedSurrogates:function(str){return str.replace(/[\uD800-\uDBFF]+([^\uDC00-\uDFFF]|$)/g,'$1').replace(/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]+/g,'$1');},baseName:function(path){var path_array=path.split('/');return path_array[path_array.length-1];},fileExtension:function(path){var base_name=this.baseName(path);var base_name_array=base_name.split('.');if(base_name_array.length>=2){return base_name_array[base_name_array.length-1];}else{return false;}},getImageSize:function(image_src,callback,context){var image=new Image();image.onload=function(){callback.call(context,image.width,image.height);};image.src=image_src;},resizeImage:function(image_data_uri,width,image_format,callback,context){var canvas=document.createElement('canvas');if(!canvas.getContext||!canvas.getContext('2d')){// canvas is not supported
return image_data_uri;}var ctx=canvas.getContext('2d');var image=new Image();image.onload=function(){var image_ratio=image.width/image.height;// default image format to png
image_format=image_format||'image/png';canvas.width=width;canvas.height=width/image_ratio;ctx.drawImage(image,0,0,canvas.width,canvas.height);callback.call(context,canvas.toDataURL(image_format,1));};image.src=image_data_uri;},getScrollbarSize:function(){var temp_element=$('<ubdiv>').css({position:'absolute',opacity:0,top:-999,left:-999,width:100,height:100,overflow:'scroll'}).appendTo($(document.body)).get(0);var size=temp_element.offsetWidth-temp_element.clientWidth;temp_element.remove();return size;},isChrome:function(){return bowser_parser.getBrowserName().toLowerCase()==='chrome';},isFirefox:function(){return bowser_parser.getBrowserName().toLowerCase()==='firefox';},isIE:function(){return bowser_parser.getBrowserName().toLowerCase()==='internet explorer';},isDesktop:function(){return bowser_parser.getPlatformType()==='desktop'||bowser_parser.getOSName().toLowerCase()==='chrome os';},isTablet:function(){return bowser_parser.getPlatformType()==='tablet';},isMobile:function(){return bowser_parser.getPlatformType()==='mobile';},isTouch:function(){var os_name=bowser_parser.getOSName().toLowerCase();var platform_name=bowser_parser.getPlatformType().toLowerCase();if((os_name==='ios'||os_name==='android')&&(platform_name==='tablet'||platform_name==='mobile')){return true;}else{return false;}},setUAData:function(){if(typeof navigator.userAgentData==='undefined'||typeof navigator.userAgentData.getHighEntropyValues==='undefined'){return;}navigator.userAgentData.getHighEntropyValues(['platformVersion']).then(ua_data=>{this.ua_data=ua_data;});},getUAData:function(){return this.ua_data;},storage:{key:'ubwc',hasLocalStroage:function(){try{localStorage.setItem('test',1);localStorage.removeItem('test');return true;}catch(e){return false;}},set:function(key,value){if(!Lib.storage.hasLocalStroage()){return;}var items=localStorage.getItem(Lib.storage.key);if(items){try{items=JSON.parse(items);}catch(e){items={};}items[key]=value;}else{items={};items[key]=value;}localStorage.setItem(Lib.storage.key,JSON.stringify(items));},get:function(key){if(!Lib.storage.hasLocalStroage()){return null;}var items=localStorage.getItem(Lib.storage.key);if(items){try{items=JSON.parse(items);return items[key]===undefined?null:items[key];}catch(e){}}return null;},remove:function(key){if(!Lib.storage.hasLocalStroage()){return;}var items=localStorage.getItem(Lib.storage.key);if(items){try{items=JSON.parse(items);delete items[key];localStorage.setItem(Lib.storage.key,JSON.stringify(items));}catch(e){}}}}};var Svg_Icons={feedback_screenshot:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 354.2V157.8C427.5 150.6 448 125.8 448 96c0-35.38-28.62-64-64-64c-29.75 0-54.63 20.5-61.75 48H125.8C118.6 52.5 93.75 32 64 32C28.62 32 0 60.62 0 96c0 29.75 20.5 54.62 48 61.75v196.5C20.5 361.4 0 386.2 0 416c0 35.38 28.62 64 64 64c29.75 0 54.62-20.5 61.75-48h196.5c7.125 27.5 32 48 61.75 48c35.38 0 64-28.62 64-64C448 386.2 427.5 361.4 400 354.2zM322.2 400H125.8C120 377.6 102.4 360.1 80 354.2V157.8C102.4 152 119.9 134.4 125.8 112h196.5C328.1 134.4 345.6 151.9 368 157.8v196.5C345.6 360.1 328.1 377.6 322.2 400zM384 64c17.62 0 32 14.38 32 32s-14.38 32-32 32s-32-14.38-32-32S366.4 64 384 64zM32 96c0-17.62 14.38-32 32-32s32 14.38 32 32S81.62 128 64 128S32 113.6 32 96zM64 448c-17.62 0-32-14.38-32-32s14.38-32 32-32s32 14.38 32 32S81.62 448 64 448zM384 448c-17.62 0-32-14.38-32-32s14.38-32 32-32s32 14.38 32 32S401.6 448 384 448z"/></svg>',feedback_video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M558.8 99.64c-10.59-5.484-23.37-4.76-33.15 2.099l-102.8 72.04c-7.25 5.062-9 15.05-3.938 22.28C423.1 203.3 433.9 205 441.2 200L544 128v255.9L441.2 312c-7.266-5.047-17.22-3.312-22.28 3.938c-5.062 7.234-3.312 17.22 3.938 22.28l102.8 71.98c5.5 3.844 11.94 5.786 18.38 5.786c5.047 0 10.12-1.203 14.78-3.625C569.4 406.8 576 395.1 576 383.1V128C576 116 569.4 105.2 558.8 99.64zM320 64H64C28.65 64 0 92.65 0 128v256c0 35.35 28.65 64 64 64h256c35.35 0 64-28.65 64-64V128C384 92.65 355.3 64 320 64zM352 384c0 17.64-14.36 32-32 32H64c-17.64 0-32-14.36-32-32V128c0-17.64 14.36-32 32-32h256c17.64 0 32 14.36 32 32V384z"/></svg>',feedback_bug:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M192 96c0-35.3 28.7-64 64-64s64 28.7 64 64v32h32V96c0-52.94-43.06-96-96-96S160 43.06 160 96v32h32V96zM496 272h-96V183.7l73.1-59.2C480.9 118.1 482 108.9 476.5 102c-5.516-6.875-15.58-8.016-22.5-2.5L378.4 160H133.6L57.1 99.5C51.11 94 41.03 95.16 35.5 102C29.98 108.9 31.11 118.1 37.1 124.5L112 183.7V272h-96C7.156 272 0 279.2 0 288s7.156 16 16 16h96V352c0 16.95 3.475 33.07 9.486 47.89l-84.8 84.8c-6.25 6.25-6.25 16.38 0 22.62C39.81 510.4 43.91 512 48 512s8.188-1.562 11.31-4.688l78.75-78.75C161.4 459.6 198.3 480 240.1 480H272c41.76 0 78.56-20.4 101.9-51.43l78.75 78.75C455.8 510.4 459.9 512 464 512s8.188-1.562 11.31-4.688c6.25-6.25 6.25-16.38 0-22.62l-84.8-84.8C396.5 385.1 400 368.1 400 352V304h96C504.8 304 512 296.8 512 288S504.8 272 496 272zM368 352c0 52.94-43.06 96-96 96V239.9C272 231.1 264.9 224 256 224S240.1 231.1 240.1 239.9L240 448c-52.94 0-96-43.06-96-96V192h224V352z"/></svg>',feedback_feature_request:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 416c8.844 0 16-7.156 16-16v-32h32c8.844 0 16-7.156 16-16s-7.156-16-16-16h-32v-32C336 295.2 328.8 288 320 288S304 295.2 304 304v32h-32C263.2 336 256 343.2 256 352s7.156 16 16 16h32v32C304 408.8 311.2 416 320 416zM80 224C88.84 224 96 216.8 96 208V160h32c8.844 0 16-7.156 16-16S136.8 128 128 128H96V80C96 71.16 88.84 64 80 64S64 71.16 64 80V128H16C7.156 128 .0078 135.2 .0078 143.1S7.156 160 16 160H64v48C64 216.8 71.16 224 80 224zM624 416H576v-48c0-8.844-7.146-16-15.99-16S544 359.2 544 368V416h-48c-8.844 0-15.99 7.152-15.99 15.1S487.2 448 496 448H544v48c0 8.844 7.166 16 16.01 16S576 504.8 576 496V448h48c8.844 0 15.99-7.152 15.99-15.1S632.8 416 624 416zM456.9 459.7C445.1 459.7 428.8 480 383.1 480H282.2c-37.26 0-72.42-18.12-94.36-48.89L101.2 317.2c-3.536-4.652-5.278-10.15-5.278-15.5c0-13.31 10.56-22.41 22.26-22.41c5.763 0 13.05 2.263 18.88 9.938l34.2 44.98c6.248 8.222 15.89 12.87 25.56 12.87c4.032 0 27.2-2.604 27.2-26.13C224 320.7 224 320.3 224 320V88.95c0-12.42 9.247-24.95 24-24.95C261.2 63.1 272 74.77 272 88v151.2c0 2.773 2.19 16.83 16 16.83c8.843 0 15.85-7.157 15.85-16l.1328-152.2c0-.1055 0 .1055 0 0L303.1 56.95c0-12.42 9.247-24.95 24.01-24.95c13.24 0 24 10.77 24 24v183.2c0 2.773 2.205 16.83 16.02 16.83c8.845 0 15.94-7.157 15.94-16l.0439-151.1c0-12.42 9.248-24.95 24-24.95c13.24 0 24 10.77 24 24v150.7c0 2.773 2.188 16.84 16 16.84c8.845 0 16-7.155 16-15.1V136.3c0-12.48 9.295-24.98 24-24.98c13.23 0 24 10.8 24 24.06V300.1c0 8.822 7.152 15.97 15.97 15.97S544 308.9 544 300.1V137.4c0-21.74-16.47-58.06-56.01-58.06c-8.624 0-16.8 1.954-24.09 5.454C462.2 55.38 437.8 32 407.1 32c-9.658 0-18.77 2.469-26.71 6.781C373.1 16.3 352.7 0 327.8 0C302.9 0 282.1 16.55 274.9 39.17c-8.012-4.43-17.08-7.174-26.87-7.174C208.4 31.1 192 68.61 192 90.79v217.1l-30.24-39c-10.27-13.43-26.38-21.52-43.31-21.52c-29.56 0-54.45 23.06-54.45 54.46c0 12.14 3.856 24.46 11.72 34.79l86.36 113.5C189.7 488.9 234.6 512 282.2 512h101.8c32.16 0 88.77-15.15 88.77-36.42C472.8 469.5 468.1 459.7 456.9 459.7z"/></svg>',feedback_general:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M365.3 125.3l-106.5-106.5C246.7 6.742 230.5 0 213.5 0L64-.0001c-35.35 0-64 28.65-64 64l.0065 384c0 35.35 28.65 64 64 64H320c35.35 0 64-28.65 64-64v-277.5C384 153.5 377.3 137.3 365.3 125.3zM224 34.08c4.477 1.566 8.666 3.846 12.12 7.299l106.5 106.5C346.1 151.3 348.4 155.5 349.9 160H240C231.2 160 224 152.8 224 144V34.08zM352 448c0 17.64-14.36 32-32 32H64c-17.64 0-32-14.36-32-32V64c0-17.64 14.36-32 32-32h128v112C192 170.5 213.5 192 240 192H352V448zM96 272C96 280.8 103.2 288 112 288h160C280.8 288 288 280.8 288 272S280.8 256 272 256h-160C103.2 256 96 263.2 96 272zM272 320h-160C103.2 320 96 327.2 96 336S103.2 352 112 352h160c8.838 0 16-7.164 16-16S280.8 320 272 320zM272 384h-160C103.2 384 96 391.2 96 400S103.2 416 112 416h160c8.838 0 16-7.164 16-16S280.8 384 272 384z"/></svg>',feedback_help:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 192C487.2 192 480 199.2 480 208v256c0 8.836-7.164 16-16 16h-416C39.16 480 32 472.8 32 464v-256C32 199.2 24.84 192 16 192S0 199.2 0 208v256C0 490.5 21.49 512 48 512h416c26.51 0 48-21.49 48-47.1V208C512 199.2 504.8 192 496 192zM64.88 276.3C65.16 277.3 65.43 278.3 65.88 279.2c.4355 .8633 1.012 1.605 1.607 2.385c.6953 .9102 1.393 1.75 2.264 2.49c.2949 .25 .4434 .6035 .7598 .8359l132.8 97.72C218.7 393.1 236.9 399.1 256 399.1s37.3-6.023 52.7-17.4l132.8-97.72c.3164-.2324 .4648-.5859 .7598-.8359c.8711-.7402 1.568-1.58 2.264-2.49c.5957-.7793 1.172-1.521 1.607-2.385c.457-.8984 .7266-1.84 1.01-2.826c.3027-1.061 .5586-2.078 .6406-3.176C447.8 272.8 448 272.4 448 272v-224C448 21.53 426.5 0 400 0h-288C85.53 0 64 21.53 64 48v224c0 .4121 .2031 .7578 .2344 1.162C64.32 274.3 64.57 275.3 64.88 276.3zM96 48C96 39.19 103.2 32 112 32h288C408.8 32 416 39.19 416 48v215.9l-126.3 92.92c-19.78 14.62-47.64 14.62-67.45 0L96 263.9V48zM352 239.1c0-8.838-7.164-16-16-16h-160c-8.836 0-16 7.162-16 16c0 8.836 7.164 15.1 16 15.1h160C344.8 255.1 352 248.8 352 239.1zM176 159.1h160c8.836 0 16-7.164 16-15.1c0-8.838-7.164-15.1-16-15.1h-160c-8.836 0-16 7.162-16 15.1C160 152.8 167.2 159.1 176 159.1z"/></svg>',feedback_other:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M464 144h-256C199.2 144 192 151.2 192 160C192 168.8 199.2 176 208 176h256c8.801 0 16-7.201 16-16C480 151.2 472.8 144 464 144zM128.1 136C114.1 136 104 146.8 104 160s10.1 24 24.14 24C141.4 184 152 173.2 152 160S141.4 136 128.1 136zM128.1 232C114.1 232 104 242.8 104 256s10.1 24 24.14 24C141.4 280 152 269.2 152 256S141.4 232 128.1 232zM464 240h-256C199.2 240 192 247.2 192 256c0 8.799 7.201 16 16 16h256c8.801 0 16-7.201 16-16C480 247.2 472.8 240 464 240zM128.1 328C114.1 328 104 338.8 104 352s10.1 24 24.14 24C141.4 376 152 365.2 152 352S141.4 328 128.1 328zM464 336h-256C199.2 336 192 343.2 192 352c0 8.799 7.201 16 16 16h256c8.801 0 16-7.201 16-16C480 343.2 472.8 336 464 336zM512 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h448c35.35 0 64-28.65 64-64V96C576 60.65 547.3 32 512 32zM544 416c0 17.64-14.36 32-32 32H64c-17.64 0-32-14.36-32-32V96c0-17.64 14.36-32 32-32h448c17.64 0 32 14.36 32 32V416z"/></svg>',click:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">'+'<path style="fill:#2878F0;" d="M465.414,365.077l-234.667-192c-4.565-3.723-11.285-3.04-15.008,1.525c-1.55,1.901-2.398,4.278-2.4,6.731v320c-0.005,4.703,3.072,8.855,7.573,10.219c1.003,0.302,2.046,0.453,3.093,0.448c3.568-0.002,6.898-1.787,8.875-4.757L315.057,384h143.616c5.891-0.007,10.661-4.788,10.654-10.679C469.323,370.126,467.887,367.1,465.414,365.077z"/>'+'<g>'+'<path style="fill:#00c878;" d="M224.006,106.667c-5.891,0-10.667-4.776-10.667-10.667V10.667C213.34,4.776,218.115,0,224.006,0c5.891,0,10.667,4.776,10.667,10.667V96C234.673,101.891,229.897,106.667,224.006,106.667z"/>'+'<path style="fill:#00c878;" d="M138.673,192H53.34c-5.891,0-10.667-4.776-10.667-10.667c0-5.891,4.776-10.667,10.667-10.667h85.333c5.891,0,10.667,4.776,10.667,10.667C149.34,187.224,144.564,192,138.673,192z"/>'+'<path style="fill:#00c878;" d="M394.673,192H309.34c-5.891,0-10.667-4.776-10.667-10.667c0-5.891,4.776-10.667,10.667-10.667h85.333c5.891,0,10.667,4.776,10.667,10.667C405.34,187.224,400.564,192,394.673,192z"/>'+'<path style="fill:#00c878;" d="M163.676,131.669c-2.831,0.005-5.548-1.115-7.552-3.115L95.772,68.267c-4.189-4.189-4.189-10.979,0-15.168c4.189-4.189,10.979-4.189,15.168,0l60.267,60.352c4.171,4.16,4.179,10.914,0.019,15.085c-2.006,2.011-4.731,3.139-7.571,3.134H163.676z"/>'+'<path style="fill:#00c878;" d="M103.324,312.683c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l60.352-60.352c4.237-4.092,10.99-3.975,15.083,0.262c3.992,4.134,3.992,10.687,0,14.82l-60.267,60.373C108.92,311.583,106.177,312.705,103.324,312.683z"/>'+'<path style="fill:#00c878;" d="M284.337,131.669c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l60.288-60.352c4.237-4.093,10.99-3.975,15.083,0.262c3.992,4.134,3.992,10.687,0,14.82l-60.267,60.352C289.888,130.54,287.171,131.669,284.337,131.669z"/>'+'</g>'+'</svg>',arrow_to_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 424V88c0-13.3 10.7-24 24-24h24c13.3 0 24 10.7 24 24v336c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24zm424-232H288v-87.7c0-17.8-21.5-26.7-34.1-14.1L101.7 242.3c-7.5 7.5-7.5 19.8 0 27.3l152.2 152.2c12.6 12.6 34.1 3.7 34.1-14.1V320h136c13.3 0 24-10.7 24-24v-80c0-13.3-10.7-24-24-24z"/></svg>',arrow_to_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 88v336c0 13.3-10.7 24-24 24h-24c-13.3 0-24-10.7-24-24V88c0-13.3 10.7-24 24-24h24c13.3 0 24 10.7 24 24zM24 320h136v87.7c0 17.8 21.5 26.7 34.1 14.1l152.2-152.2c7.5-7.5 7.5-19.8 0-27.3L194.1 90.1c-12.6-12.6-34.1-3.7-34.1 14.1V192H24c-13.3 0-24 10.7-24 24v80c0 13.3 10.7 24 24 24z"/></svg>',mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path d="M336 192h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16zM176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zM128 96c0-26.47 21.53-48 48-48s48 21.53 48 48v160c0 26.47-21.53 48-48 48s-48-21.53-48-48V96z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">'+'<path d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z"></path>'+'</svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">'+'<path d="M 11,26 15,26 15,10 11,10 z M 21,26 25,26 25,10 21,10 z"></path>'+'</svg>',resume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">'+'<path d="M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z"></path>'+'</svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 493.56 493.56">'+'<path d="M438.254,0H58.974C27.502,0,0.006,25.992,0.006,57.472v379.256c0,31.48,27.496,56.832,58.968,56.832h379.28 c31.468,0,55.3-25.352,55.3-56.832V57.472C493.554,25.992,469.722,0,438.254,0z"/>'+'</svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">'+'<path d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path>'+'<path d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path>'+'<path d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path>'+'<path d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path>'+'</svg>',square:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">'+'<path fill-rule="evenodd" d="M1,8 C0.448,8 0,7.553 0,7 L0,4 C0,1.8 1.8,0 4,0 L7,0 C7.552,0 8,0.447 8,1 C8,1.553 7.552,2 7,2 L4,2 C2.897,2 2,2.897 2,4 L2,7 C2,7.553 1.552,8 1,8 Z M16,0 C18.2,0 20,1.8 20,4 L20,7 C20,7.553 19.552,8 19,8 C18.448,8 18,7.553 18,7 L18,4 C18,2.897 17.103,2 16,2 L13,2 C12.448,2 12,1.553 12,1 C12,0.447 12.448,0 13,0 L16,0 Z M7,18 C7.552,18 8,18.447 8,19 C8,19.553 7.552,20 7,20 L4,20 C1.8,20 0,18.2 0,16 L0,13 C0,12.447 0.448,12 1,12 C1.552,12 2,12.447 2,13 L2,16 C2,17.103 2.897,18 4,18 L7,18 Z M19,12 C19.552,12 20,12.447 20,13 L20,16 C20,18.2 18.2,20 16,20 L13,20 C12.448,20 12,19.553 12,19 C12,18.447 12.448,18 13,18 L16,18 C17.103,18 18,17.103 18,16 L18,13 C18,12.447 18.448,12 19,12 Z"/>'+'</svg>',blackout:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">'+'<rect width="20" height="20" fill-rule="evenodd" rx="4"/>'+'</svg>',line:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">'+'<path fill-rule="evenodd" d="M3,18 C2.744,18 2.488,17.902 2.293,17.707 C1.902,17.316 1.902,16.684 2.293,16.293 L16.293,2.293 C16.684,1.902 17.316,1.902 17.707,2.293 C18.098,2.684 18.098,3.316 17.707,3.707 L3.707,17.707 C3.512,17.902 3.256,18 3,18"/>'+'</svg>',arrow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.171 512.171" style="transform:rotate(-45deg);">'+'<path d="M509.035,248.212l-213.504-212.8c-3.051-3.029-7.595-3.904-11.627-2.304c-3.989,1.664-6.571,5.547-6.571,9.856v117.333 H10.667C4.779,160.298,0,165.076,0,170.964v170.667c0,5.888,4.779,10.667,10.667,10.667h266.667v116.885 c0,4.309,2.603,8.192,6.592,9.856c1.323,0.555,2.709,0.811,4.075,0.811c2.773,0,5.504-1.088,7.552-3.115l213.504-213.419 c2.005-2.005,3.115-4.715,3.115-7.552C512.171,252.927,511.04,250.218,509.035,248.212z"/>'+'</svg>',text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">'+'<path fill-rule="evenodd" d="M3,2 C2.447,2 2,2.447 2,3 L2,7 C2,7.553 2.447,8 3,8 C3.553,8 4,7.553 4,7 L4,4 L9,4 L9,16 L7,16 C6.447,16 6,16.447 6,17 C6,17.553 6.447,18 7,18 L13,18 C13.553,18 14,17.553 14,17 C14,16.447 13.553,16 13,16 L11,16 L11,4 L16,4 L16,7 C16,7.553 16.447,8 17,8 C17.553,8 18,7.553 18,7 L18,3 C18,2.447 17.553,2 17,2 L3,2 Z"/>'+'</svg>',highlighter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 544 512"><path d="M0 479.98L99.88 512l35.56-35.58-67.01-67.04L0 479.98zM527.93 79.27l-63.17-63.2C454.09 5.39 440.04 0 425.97 0c-12.93 0-25.88 4.55-36.28 13.73L124.8 239.96a36.598 36.598 0 0 0-10.79 38.1l13.05 42.83-33.95 33.97c-9.37 9.37-9.37 24.56 0 33.93l62.26 62.29c9.37 9.38 24.58 9.38 33.95 0l33.86-33.88 42.72 13.08a36.54 36.54 0 0 0 10.7 1.61 36.57 36.57 0 0 0 27.43-12.38l226.25-265.13c19.16-21.72 18.14-54.61-2.35-75.11zM272.78 382.18l-35.55-10.89-27.59-8.45-20.4 20.41-16.89 16.9-28.31-28.32 16.97-16.98 20.37-20.38-8.4-27.57-10.86-35.66 38.23-32.65 105.18 105.23-32.75 38.36zm220.99-258.97L326.36 319.39l-101.6-101.65 196.68-168c1.29-1.14 2.82-1.72 4.53-1.72 1.3 0 3.2.35 4.86 2.01l63.17 63.2c2.54 2.56 2.67 6.68-.23 9.98z"/></svg>',// widget icons
widget_chat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path class="st0" d="M504,193.3c0-85.5-69.4-154.8-155-154.8H163C77.4,38.5,8,107.8,8,193.3s69.4,154.8,155,154.8h109.6v109.4c0,17,9.9,21.1,21.9,9.1l164.1-163.8C486.6,274.7,504,236,504,193.3"/></svg>',widget_question:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg>',widget_comment_smile:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zm64 133.2c14.8 0 26.8 12 26.8 26.8s-12 26.8-26.8 26.8-26.8-12-26.8-26.8 12-26.8 26.8-26.8zm-128 0c14.8 0 26.8 12 26.8 26.8s-12 26.8-26.8 26.8-26.8-12-26.8-26.8 12-26.8 26.8-26.8zm164.2 140.9C331.3 335.3 294.8 352 256 352c-38.8 0-75.3-16.7-100.2-45.9-5.8-6.7-5-16.8 1.8-22.5 6.7-5.7 16.8-5 22.5 1.8 18.8 22 46.5 34.6 75.8 34.6 29.4 0 57-12.6 75.8-34.7 5.8-6.7 15.9-7.5 22.6-1.8 6.8 5.8 7.6 15.9 1.9 22.6z"/></svg>',widget_video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zM304 264c0 8.8-7.2 16-16 16h-72v72c0 8.8-7.2 16-16 16h-16c-8.8 0-16-7.2-16-16v-72H96c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h72v-72c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v72h72c8.8 0 16 7.2 16 16v16zm272-136.5v256.9c0 25.5-29.1 40.4-50.4 25.8L416 334.7V177.3l109.6-75.5c21.3-14.7 50.4.3 50.4 25.7z"/></svg>',widget_stars:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M364.3 267.3L259.5 252l-46.9-95.2c-4.2-8.5-12.4-12.8-20.7-12.8-8.2 0-16.3 4.2-20.5 12.8L124.5 252 19.7 267.3C.9 270-6.7 293.2 7 306.5l75.9 74-18 104.6C62.3 500 74.2 512 87.5 512c3.5 0 7.2-.8 10.7-2.7l93.8-49.4 93.8 49.4c3.5 1.8 7.1 2.7 10.6 2.7 13.3 0 25.2-11.9 22.7-26.9l-17.9-104.6 75.9-74c13.6-13.3 6-36.5-12.8-39.2zm-96.7 78.9l-18.1 17.6 4.3 24.9 9.4 54.5-48.9-25.7-22.3-11.8-22.4 11.8-48.9 25.7 9.4-54.5 4.3-24.9-18.1-17.6-39.7-38.7 54.8-8 25-3.6 11.2-22.6 24.4-49.6 24.4 49.6 11.2 22.6 25 3.6 54.8 8-39.8 38.7zM336 160l26.7-53.3L416 80l-53.3-26.7L336 0l-26.7 53.3L256 80l53.3 26.7L336 160zm144 32l-16-32-16 32-32 16 32 16 16 32 16-32 32-16-32-16z"/></svg>',widget_bug:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"/></svg>',camera:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">'+'<path d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"/>'+'</svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.083 483.083">'+'<path d="M332.74,315.35c30.883-33.433,50.15-78.2,50.15-127.5C382.89,84.433,298.74,0,195.04,0S7.19,84.433,7.19,187.85 S91.34,375.7,195.04,375.7c42.217,0,81.033-13.883,112.483-37.4l139.683,139.683c3.4,3.4,7.65,5.1,11.9,5.1s8.783-1.7,11.9-5.1 c6.517-6.517,6.517-17.283,0-24.083L332.74,315.35z M41.19,187.85C41.19,103.133,110.04,34,195.04,34 c84.717,0,153.85,68.85,153.85,153.85S280.04,341.7,195.04,341.7S41.19,272.567,41.19,187.85z"/>'+'</svg>',file_search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><defs><style>.fa-secondary{opacity:.4}</style></defs><path d="M300.59 257.71a160.1 160.1 0 0 0 83.41 209v21.45A23.94 23.94 0 0 1 360 512H23.88A23.94 23.94 0 0 1 0 488V23.88A23.94 23.94 0 0 1 24 0h232v112a16 16 0 0 0 16 16h112v45.33a160.34 160.34 0 0 0-83.41 84.38z" class="fa-secondary"/><path d="M384 121.9a23.9 23.9 0 0 0-7-16.9L279.1 7a24 24 0 0 0-17-7H256v112a16 16 0 0 0 16 16h112zm251.31 340.16l-77.41-77.41A126.65 126.65 0 0 0 576 320a128 128 0 1 0-128 128c23.7 0 45.61-6.88 64.65-18.11l77.41 77.42a16 16 0 0 0 22.63 0l22.62-22.62a16 16 0 0 0 0-22.63zM448 384a64 64 0 1 1 64-64 64 64 0 0 1-64 64z" class="fa-primary"/></svg>',paperclip:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M149.106 512c-33.076 0-66.153-12.59-91.333-37.771-50.364-50.361-50.364-132.305-.002-182.665L319.842 29.498c39.331-39.331 103.328-39.331 142.66 0 39.331 39.332 39.331 103.327 0 142.657l-222.63 222.626c-28.297 28.301-74.347 28.303-102.65 0-28.3-28.301-28.3-74.349 0-102.649l170.301-170.298c4.686-4.686 12.284-4.686 16.97 0l5.661 5.661c4.686 4.686 4.686 12.284 0 16.971l-170.3 170.297c-15.821 15.821-15.821 41.563.001 57.385 15.821 15.82 41.564 15.82 57.385 0l222.63-222.626c26.851-26.851 26.851-70.541 0-97.394-26.855-26.851-70.544-26.849-97.395 0L80.404 314.196c-37.882 37.882-37.882 99.519 0 137.401 37.884 37.881 99.523 37.882 137.404.001l217.743-217.739c4.686-4.686 12.284-4.686 16.97 0l5.661 5.661c4.686 4.686 4.686 12.284 0 16.971L240.44 474.229C215.26 499.41 182.183 512 149.106 512z"/></svg>',tick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">'+'<g>'+'<path d="M504.502,75.496c-9.997-9.998-26.205-9.998-36.204,0L161.594,382.203L43.702,264.311c-9.997-9.998-26.205-9.997-36.204,0 c-9.998,9.997-9.998,26.205,0,36.203l135.994,135.992c9.994,9.997,26.214,9.99,36.204,0L504.502,111.7 C514.5,101.703,514.499,85.494,504.502,75.496z"/>'+'</g>'+'</svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">'+'<g>'+'<path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249 C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306 C514.019,27.23,514.019,14.135,505.943,6.058z"/>'+'</g>'+'<g>'+'<path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636 c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/>'+'</g>'+'</svg>',times:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"/></svg>',times_l:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"/></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path class="star" fill="#F0A028" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/></svg>',heart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path class="heart" fill="#F00028" d="M472.1 270.5l-193.1 199.7c-12.64 13.07-33.27 13.08-45.91 .0107l-193.2-199.7C-16.21 212.5-13.1 116.7 49.04 62.86C103.3 15.88 186.4 24.42 236.3 75.98l19.7 20.27l19.7-20.27c49.95-51.56 132.1-60.1 187.3-13.12C525.1 116.6 528.2 212.5 472.1 270.5z"/></svg>',thumb_up:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path class="thumb" fill="#F0A028" d="M128 447.1V223.1c0-17.67-14.33-31.1-32-31.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64C113.7 479.1 128 465.6 128 447.1zM512 224.1c0-26.5-21.48-47.98-48-47.98h-146.5c22.77-37.91 34.52-80.88 34.52-96.02C352 56.52 333.5 32 302.5 32c-63.13 0-26.36 76.15-108.2 141.6L178 186.6C166.2 196.1 160.2 210 160.1 224c-.0234 .0234 0 0 0 0L160 384c0 15.1 7.113 29.33 19.2 38.39l34.14 25.59C241 468.8 274.7 480 309.3 480H368c26.52 0 48-21.47 48-47.98c0-3.635-.4805-7.143-1.246-10.55C434 415.2 448 397.4 448 376c0-9.148-2.697-17.61-7.139-24.88C463.1 347 480 327.5 480 304.1c0-12.5-4.893-23.78-12.72-32.32C492.2 270.1 512 249.5 512 224.1z"/></svg>',thumb_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path class="thumb" fill="#F0A028" d="M96 32.04H32c-17.67 0-32 14.32-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64c17.67 0 32-14.33 32-31.1V64.03C128 46.36 113.7 32.04 96 32.04zM467.3 240.2C475.1 231.7 480 220.4 480 207.9c0-23.47-16.87-42.92-39.14-47.09C445.3 153.6 448 145.1 448 135.1c0-21.32-14-39.18-33.25-45.43C415.5 87.12 416 83.61 416 79.98C416 53.47 394.5 32 368 32h-58.69c-34.61 0-68.28 11.22-95.97 31.98L179.2 89.57C167.1 98.63 160 112.9 160 127.1l.1074 160c0 0-.0234-.0234 0 0c.0703 13.99 6.123 27.94 17.91 37.36l16.3 13.03C276.2 403.9 239.4 480 302.5 480c30.96 0 49.47-24.52 49.47-48.11c0-15.15-11.76-58.12-34.52-96.02H464c26.52 0 48-21.47 48-47.98C512 262.5 492.2 241.9 467.3 240.2z"/></svg>',face_hate:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">'+'<defs>'+'<linearGradient id="emoji-1-a" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F0B428"/>'+'<stop offset="100%" stop-color="#FFF028"/>'+'</linearGradient>'+'<linearGradient id="emoji-1-b" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#646E78"/>'+'<stop offset="100%" stop-color="#3C4650"/>'+'</linearGradient>'+'<linearGradient id="emoji-1-c" x1="0%" x2="100%" y1="50%" y2="50%">'+'<stop offset="25%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'<linearGradient id="emoji-1-d" x1="0%" x2="100%" y1="50%" y2="50%">'+'<stop offset="0%" stop-color="#646E78"/>'+'<stop offset="75%" stop-color="#3C4650"/>'+'</linearGradient>'+'</defs>'+'<g fill="none">'+'<circle class="bg" cx="20" cy="20" r="19" fill="url(#emoji-1-a)"/>'+'<path class="bg" fill="#F0A028" d="M20,2 C29.9411255,2 38,10.0588745 38,20 C38,29.9411255 29.9411255,38 20,38 C10.0588745,38 2,29.9411255 2,20 C2,10.0588745 10.0588745,2 20,2 Z M20,0 C8.954305,5.32907052e-15 4.4408921e-15,8.954305 3.55271368e-15,20 C2.66453526e-15,31.045695 8.954305,40 20,40 C31.045695,40 40,31.045695 40,20 C40,14.6956702 37.8928632,9.60859195 34.1421356,5.85786438 C30.3914081,2.10713681 25.3043298,1.33226763e-15 20,8.8817842e-16 Z"/>'+'<path class="shape" fill="url(#emoji-1-b)" d="M26,32.75 C25.8009335,32.7509399 25.6098839,32.6716363 25.47,32.53 L23,31.06 L20.53,32.53 C20.2371825,32.8224534 19.7628175,32.8224534 19.47,32.53 L17,31.06 L14.53,32.53 C14.2371825,32.8224534 13.7628175,32.8224534 13.47,32.53 L10.47,29.53 C10.1946411,29.2344902 10.2027661,28.7739903 10.4883782,28.4883782 C10.7739903,28.2027661 11.2344902,28.1946411 11.53,28.47 L14,30.47 L16.47,28.47 C16.7628175,28.1775466 17.2371825,28.1775466 17.53,28.47 L20,29.94 L22.47,28.47 C22.7628175,28.1775466 23.2371825,28.1775466 23.53,28.47 L26,30.47 L28.47,28.47 C28.7655098,28.1946411 29.2260097,28.2027661 29.5116218,28.4883782 C29.7972339,28.7739903 29.8053589,29.2344902 29.53,29.53 L26.53,32.53 C26.3901161,32.6716363 26.1990665,32.7509399 26,32.75 Z"/>'+'<path class="shape" fill="url(#emoji-1-c)" d="M32,24.75 C31.9206521,24.7644451 31.8393479,24.7644451 31.76,24.75 L22.76,21.75 C22.4734412,21.6537068 22.2727077,21.3947856 22.2508589,21.0932711 C22.22901,20.7917566 22.3903175,20.5066006 22.66,20.37 L32.66,15.37 C33.0300308,15.1822232 33.4822232,15.3299692 33.67,15.7 C33.8577768,16.0700308 33.7100308,16.5222232 33.34,16.71 L26.45,20.9 L32.24,23.33 C32.5401019,23.4752971 32.7082491,23.8012684 32.6526835,24.130031 C32.597118,24.4587936 32.3311833,24.7113989 32,24.75 Z"/>'+'<path class="shape" fill="url(#emoji-1-d)" d="M8,24.75 C7.63336733,24.7491907 7.32105832,24.4834349 7.26158794,24.1216568 C7.20211755,23.7598786 7.41291933,23.408132 7.76,23.29 L13.55,20.86 L6.66,16.67 C6.28996924,16.4822232 6.14222322,16.0300308 6.33000003,15.66 C6.51777684,15.2899692 6.96996922,15.1422232 7.34,15.33 L17.34,20.33 C17.6096825,20.4666006 17.77099,20.7517566 17.7491411,21.0532711 C17.7272923,21.3547856 17.5265588,21.6137068 17.24,21.71 L8.24,24.71 C8.16311178,24.7378693 8.0817708,24.7514262 8,24.75 Z"/>'+'</g>'+'</svg>',face_dislike:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">'+'<defs>'+'<linearGradient id="emoji-2-a" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F0B428"/>'+'<stop offset="100%" stop-color="#FFF028"/>'+'</linearGradient>'+'<linearGradient id="emoji-2-b" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#646E78"/>'+'<stop offset="100%" stop-color="#3C4650"/>'+'</linearGradient>'+'<linearGradient id="emoji-2-c" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'<linearGradient id="emoji-2-d" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'</defs>'+'<g fill="none">'+'<circle class="bg" cx="20" cy="20" r="19" fill="url(#emoji-2-a)"/>'+'<path class="bg" fill="#F0A028" d="M20,2 C29.9411255,2 38,10.0588745 38,20 C38,29.9411255 29.9411255,38 20,38 C10.0588745,38 2,29.9411255 2,20 C2,10.0588745 10.0588745,2 20,2 Z M20,0 C8.954305,5.32907052e-15 4.4408921e-15,8.954305 3.55271368e-15,20 C2.66453526e-15,31.045695 8.954305,40 20,40 C31.045695,40 40,31.045695 40,20 C40,14.6956702 37.8928632,9.60859195 34.1421356,5.85786438 C30.3914081,2.10713681 25.3043298,1.33226763e-15 20,8.8817842e-16 Z"/>'+'<path class="shape" fill="url(#emoji-2-b)" d="M9.44,30 C9.56780505,30.1519484 9.75198954,30.2452827 9.95010066,30.2584901 C10.1482118,30.2716975 10.3431558,30.2036385 10.49,30.07 C15.9379327,25.3339522 24.0420673,25.3339522 29.49,30.07 C29.637649,30.210198 29.8371406,30.2823622 30.040313,30.2690705 C30.2434855,30.2557789 30.4318749,30.1582393 30.56,30 C30.8070972,29.6831317 30.7769727,29.2312636 30.49,28.95 C28.29,26.14 23.73,24.26 20,24.26 C16.27,24.26 11.71,26.14 9.51,28.95 C9.22302732,29.2312636 9.19290278,29.6831317 9.44,30 Z"/>'+'<ellipse class="shape" cx="26.5" cy="17" fill="url(#emoji-2-c)" rx="2" ry="2.5"/>'+'<ellipse class="shape" cx="13.5" cy="17" fill="url(#emoji-2-d)" rx="2" ry="2.5"/>'+'</g>'+'</svg>',face_neutral:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">'+'<defs>'+'<linearGradient id="emoji-3-a" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F0B428"/>'+'<stop offset="100%" stop-color="#FFF028"/>'+'</linearGradient>'+'<linearGradient id="emoji-3-b" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#646E78"/>'+'<stop offset="100%" stop-color="#3C4650"/>'+'</linearGradient>'+'<linearGradient id="emoji-3-c" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'<linearGradient id="emoji-3-d" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'</defs>'+'<g fill="none">'+'<circle class="bg" cx="20" cy="20" r="19" fill="url(#emoji-3-a)"/>'+'<path class="bg" fill="#F0A028" d="M20,2 C29.9411255,2 38,10.0588745 38,20 C38,29.9411255 29.9411255,38 20,38 C10.0588745,38 2,29.9411255 2,20 C2,10.0588745 10.0588745,2 20,2 Z M20,0 C8.954305,5.32907052e-15 4.4408921e-15,8.954305 3.55271368e-15,20 C2.66453526e-15,31.045695 8.954305,40 20,40 C31.045695,40 40,31.045695 40,20 C40,14.6956702 37.8928632,9.60859195 34.1421356,5.85786438 C30.3914081,2.10713681 25.3043298,1.33226763e-15 20,8.8817842e-16 Z"/>'+'<path class="shape" fill="url(#emoji-3-b)" d="M30,26.25 L10,26.25 C9.44771525,26.25 9,25.8022847 9,25.25 C9,24.6977153 9.44771525,24.25 10,24.25 L30,24.25 C30.5522847,24.25 31,24.6977153 31,25.25 C31,25.8022847 30.5522847,26.25 30,26.25 Z"/>'+'<path class="shape" fill="url(#emoji-3-c)" d="M28,15 C28,13.35 27.32,12 26.5,12 C25.68,12 25,13.35 25,15 C25,16.65 25.68,18 26.5,18 C27.32,18 28,16.65 28,15 Z"/>'+'<path class="shape" fill="url(#emoji-3-d)" d="M15,15 C15,13.35 14.32,12 13.5,12 C12.68,12 12,13.35 12,15 C12,16.65 12.68,18 13.5,18 C14.32,18 15,16.65 15,15 Z"/>'+'</g>'+'</svg>',face_like:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">'+'<defs>'+'<linearGradient id="emoji-4-a" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F0B428"/>'+'<stop offset="100%" stop-color="#FFF028"/>'+'</linearGradient>'+'<linearGradient id="emoji-4-b" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#646E78"/>'+'<stop offset="100%" stop-color="#3C4650"/>'+'</linearGradient>'+'<linearGradient id="emoji-4-c" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'<linearGradient id="emoji-4-d" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#3C4650"/>'+'<stop offset="100%" stop-color="#646E78"/>'+'</linearGradient>'+'</defs>'+'<g fill="none">'+'<circle class="bg" cx="20" cy="20" r="19" fill="url(#emoji-4-a)"/>'+'<path class="bg" fill="#F0A028" d="M20,2 C29.9411255,2 38,10.0588745 38,20 C38,29.9411255 29.9411255,38 20,38 C10.0588745,38 2,29.9411255 2,20 C2,10.0588745 10.0588745,2 20,2 Z M20,0 C8.954305,5.32907052e-15 4.4408921e-15,8.954305 3.55271368e-15,20 C2.66453526e-15,31.045695 8.954305,40 20,40 C31.045695,40 40,31.045695 40,20 C40,14.6956702 37.8928632,9.60859195 34.1421356,5.85786438 C30.3914081,2.10713681 25.3043298,1.33226763e-15 20,8.8817842e-16 Z"/>'+'<path class="shape" fill="url(#emoji-4-b)" d="M30.56,20.51 C30.4321949,20.3580516 30.2480105,20.2647173 30.0498993,20.2515099 C29.8517882,20.2383025 29.6568442,20.3063615 29.51,20.44 C24.0620673,25.1760478 15.9579327,25.1760478 10.51,20.44 C10.3631558,20.3063615 10.1682118,20.2383025 9.97010066,20.2515099 C9.77198954,20.2647173 9.58780505,20.3580516 9.46,20.51 C9.24177561,20.8173466 9.27108507,21.2360532 9.53,21.51 C11.73,24.33 16.29,26.2 20.02,26.2 C23.75,26.2 28.31,24.33 30.51,21.51 C30.76274,21.2311315 30.7836622,20.8126886 30.56,20.51 Z"/>'+'<path class="shape" fill="url(#emoji-4-c)" d="M27,10 C25.42,10 24.19,12.25 24,15.47 C23.9749914,15.6486328 24.047182,15.8270382 24.1893782,15.9380127 C24.3315745,16.0489872 24.5221734,16.075671 24.6893782,16.0080127 C24.8565831,15.9403544 24.9749914,15.7886328 25,15.61 C25.4,13.89 26.21,12.5 27,12.5 C27.79,12.5 28.61,13.89 29,15.61 C29.0548871,15.8367844 29.2566827,15.9973972 29.49,16 L29.56,16 C29.8188577,15.9686838 30.0078514,15.7401333 29.99,15.48 C29.81,12.25 28.58,10 27,10 Z"/>'+'<path class="shape" fill="url(#emoji-4-d)" d="M13,10 C11.42,10 10.19,12.25 10,15.47 C9.97499141,15.6486328 10.047182,15.8270382 10.1893782,15.9380127 C10.3315745,16.0489872 10.5221734,16.075671 10.6893782,16.0080127 C10.8565831,15.9403544 10.9749914,15.7886328 11,15.61 C11.4,13.89 12.21,12.5 13,12.5 C13.79,12.5 14.61,13.89 15,15.61 C15.0548871,15.8367844 15.2566827,15.9973972 15.49,16 L15.56,16 C15.8188577,15.9686838 16.0078514,15.7401333 15.99,15.48 C15.81,12.25 14.58,10 13,10 Z"/>'+'</g>'+'</svg>',face_love:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">'+'<defs>'+'<linearGradient id="emoji-5-a" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F0B428"/>'+'<stop offset="100%" stop-color="#FFF028"/>'+'</linearGradient>'+'<linearGradient id="emoji-5-b" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#646E78"/>'+'<stop offset="100%" stop-color="#3C4650"/>'+'</linearGradient>'+'<linearGradient id="emoji-5-c" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F00028"/>'+'<stop offset="100%" stop-color="#F028A0"/>'+'</linearGradient>'+'<linearGradient id="emoji-5-d" x1="50%" x2="50%" y1="100%" y2="0%">'+'<stop offset="0%" stop-color="#F00028"/>'+'<stop offset="100%" stop-color="#F028A0"/>'+'</linearGradient>'+'</defs>'+'<g fill="none" fill-rule="evenodd">'+'<circle class="bg" cx="20" cy="20" r="19" fill="url(#emoji-5-a)" fill-rule="nonzero"/>'+'<path class="bg" fill="#F0A028" fill-rule="nonzero" d="M20,2 C29.9411255,2 38,10.0588745 38,20 C38,29.9411255 29.9411255,38 20,38 C10.0588745,38 2,29.9411255 2,20 C2,10.0588745 10.0588745,2 20,2 Z M20,0 C8.954305,5.32907052e-15 4.4408921e-15,8.954305 3.55271368e-15,20 C2.66453526e-15,31.045695 8.954305,40 20,40 C31.045695,40 40,31.045695 40,20 C40,14.6956702 37.8928632,9.60859195 34.1421356,5.85786438 C30.3914081,2.10713681 25.3043298,1.33226763e-15 20,8.8817842e-16 Z"/>'+'<path class="shape" fill="url(#emoji-5-b)" fill-rule="nonzero" d="M31.81,20.25 C31.6674905,20.0906692 31.4637643,19.99972 31.25,20 L8.75,20 C8.5362357,19.99972 8.33250947,20.0906692 8.19,20.25 C8.04788888,20.4119791 7.97911777,20.6255315 8,20.84 C8.23515135,23.9287795 9.58159519,26.8277193 11.79,29 C14.0307974,31.0322687 16.9768467,32.1087788 20,32 C23.0193977,32.1040208 25.9605995,31.0279714 28.2,29 C30.4113278,26.8287159 31.7612688,23.9298953 32,20.84 C32.0208822,20.6255315 31.9521111,20.4119791 31.81,20.25 Z"/>'+'<path class="shape" fill="url(#emoji-5-c)" d="M27.28,18.33 C24.84,17.09 21.54,14.33 21.5,11.5 C21.5,8.37 23.5,7.6 24.88,7.6 C25.9354738,7.64354837 26.9076802,8.18531221 27.5,9.06 C28.0923198,8.18531221 29.0645262,7.64354837 30.12,7.6 C31.49,7.6 33.54,8.37 33.5,11.5 C33.5,14.32 30.16,17.09 27.72,18.33 C27.5882503,18.4235484 27.4117497,18.4235484 27.28,18.33 Z"/>'+'<path class="shape" fill="url(#emoji-5-d)" d="M12.28,18.33 C9.84,17.09 6.54,14.33 6.5,11.5 C6.5,8.37 8.5,7.6 9.88,7.6 C10.9354738,7.64354837 11.9076802,8.18531221 12.5,9.06 C13.0923198,8.18531221 14.0645262,7.64354837 15.12,7.6 C16.49,7.6 18.54,8.37 18.5,11.5 C18.5,14.32 15.16,17.09 12.72,18.33 C12.5882503,18.4235484 12.4117497,18.4235484 12.28,18.33 Z"/>'+'</g>'+'</svg>',trash:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">'+'<path fill="#000000" fill-rule="evenodd" d="M13,18 L13,10 L15,10 L15,18 L13,18 Z M17.00005,20 L17.00005,10 L19.00005,10 L19.00005,20 C19.00005,21.1045 18.10455,22 17.00005,22 L7.00005,22 C5.89555,22 5.00005,21.1045 5.00005,20 L5.00005,10 L7.00005,10 L7.00005,20 L17.00005,20 Z M9,18 L9,10 L11,10 L11,18 L9,18 Z M9,6 L15,6 L15,4 L9,4 L9,6 Z M17,6 L20,6 C20.5525,6 21,6.448 21,7 L21,8 L3,8 L3,7 C3,6.448 3.448,6 4,6 L7,6 L7,4 C7,2.8955 7.8955,2 9,2 L15,2 C16.1045,2 17,2.8955 17,4 L17,6 Z"/>'+'</svg>',angle_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M151.5 347.8L3.5 201c-4.7-4.7-4.7-12.3 0-17l19.8-19.8c4.7-4.7 12.3-4.7 17 0L160 282.7l119.7-118.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17l-148 146.8c-4.7 4.7-12.3 4.7-17 0z"/></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"/></svg>',delete_icon:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADZUlEQVRogdWaz0sUYRjHP9UhSKpDJfRDKjz0gxDMy7YgeghhkWUPKxjRVtAqoYW7RD9IL1HQdovoFqH9C0EEXeoSZREdsiIoo1sZQTlRq5UTzzIT4zaj8777jo5feFCQ99nPd+bxfZ55Z5dhRluBJLDHie3AOmC1k/078AX4AIwBL4BHwLihz9fSGuAEcA+YAWyNuA8UHbMLpg3AFeeK6kD7xTfgKrApahMFYNIgeHX8BM5GAS41/SBC8OoYBXaagk8BPxYQ3o1fQLZW+COLAF4d/brwh2MA70afKvz+GMG7kQkLXw/8jqEBiW1hDDyLKbzEm/ng+2MM78Z5L7B3FloFWMDysLW2iFrvTAKzYC8sEXjRZfeXFc7PlcBtVQONjY3k83nq6uoYH1cbLFtbW+nu7sayLCYmJpTWAi3AdWf0qOi4ai02NTXZlmXZrgYGBkKvzefz/9aVy2U7kUjo/C+c8jp6qJqgVCrZ1SoUCkrwroaHh3UMjLnwG3V2g46Ojv9ARMViMXBNb2+v75quri7dHUkepDiou6VJ2fjJr5z8rrxocHBQF17iqBgo1ZAg0IS3nILgh4aGaoGXuCkG7tSYpALrp2w2a6dSqajgbee5mpcGEgWaiBBe4q0Y+GgoWWA5RQQv8RlnfDCWNJPJVPb2ak1NTdm5XM4kvIRlfHSQzmrbtu/fJicnTX9c5YM+mboiQbuNV2GanWoJvTKRLKhJ+WmuZqcY78TA3aiuvNS8dFk/qcxOc8RjnFM24/De3SZMs9OMYTFwSDdBT09P6K0yqE/UaOKYGNiis7i9vT00/Hwm0um0roFGdzsaVV3sN06HaVJ+5TQyMqIDP+sB/6RqgpaWFnt6eloJ3u9OzMzM2G1tbToGznkNyAP9H9Ukzc3NlTshQ5vq2s7OzsraZDKpWz711V3tmmaixYhbLrT3WGUt8NVkn49QG50hdNYphLwlObME4C+58EEai3HpvA/jsCHGBnaEvU3pGMIfUK21vhjBn1aFdxWH0+qaN5YunSZnKHK1wrvaDTxdQHD5KsJeU/BeDQFTEYLLnb4YBbhXDc7RdtkguLyTu+EdjxdCm50j7ic1gD93pspQL+/8ZOrrNtJgEsA+YJczq8i3WWTKFcmLCDlTkROQ186RoDzPyoGCvoC/pkcwDQU7NiIAAAAASUVORK5CYII=',photo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"/></svg>',checkmark:'<svg class="ub-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">'+'<circle class="ub-checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="ub-checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />'+'</svg>',logo:'<svg xmlns="http://www.w3.org/2000/svg" width="128" height="22" viewBox="0 0 702.13 118.9">'+'<path fill="#2A1943" d="M248.88,69.87c1.12-.23,2.25,.37,2.55,1.39,1.75,5.92,9.5,10.77,18.69,10.77,8.56,0,15.53-3.45,15.53-8.79,0-3.78-4.2-5.87-10.96-7.24l-15.03-3.06c-15.11-2.88-18.29-10.76-18.29-16.86,0-11.79,10.64-19.7,26.48-19.7,14.75,0,25.6,6.86,28.3,17.91h0c.2,.8-.35,1.59-1.23,1.77l-8.23,1.7c-.89,.18-1.76-.35-1.93-1.18h0c-1.25-6.21-8.6-9.84-17.19-9.84s-14.1,3.4-14.1,8.6c0,3.02,2.69,5.35,9.93,6.88l15.82,3.18c11.88,2.43,18.15,8.38,18.15,17.22,0,12.38-10.76,20.07-28.08,20.07-16.06,0-27.3-7.82-29.86-18.64-.25-1.07,.5-2.13,1.66-2.37l7.76-1.82Z"/>'+'<path fill="#2A1943" d="M356.01,68.56c-.89-.22-1.83,.2-2.24,1.02-3.71,7.33-10.01,11.96-18.78,11.96-11.54,0-18.65-9.36-19.9-18.69h49.59c1.1,0,2-.9,2-2v-2.95c-.62-18.26-13.69-31.52-31.08-31.52-18.62,0-32.67,14.31-32.67,33.28,0,21.46,16.52,33.04,32.06,33.04,13.74,0,24.79-7.71,30.14-19.47,.52-1.14-.14-2.47-1.36-2.77l-7.76-1.9Zm-40.38-15.64c2.42-10.11,11.65-15.39,19.98-15.39,9.48,0,16.4,5.85,18.42,15.39h-38.39Z"/>'+'<path fill="#2A1943" d="M414.3,28.05c0-.65-.46-1.22-1.1-1.35-1.42-.3-2.64-.35-3.83-.35-9.13,0-17.13,2.99-22.78,8.6v-5.57c0-1.1-.9-2-2-2h-8.38c-1.1,0-2,.9-2,2v61.32c0,1.1,.9,2,2,2h8.38c1.1,0,2-.9,2-2l.04-31.16c0-11.03,7.62-22.13,22.77-22.13,1.05,0,2.33,0,3.35,.11h.03c.81,.09,1.52-.54,1.52-1.36v-8.12Z"/>'+'<path fill="#2A1943" d="M456.58,26.38c-8.98,0-16.83,3.05-22.49,8.68V2.08c0-1.1-.9-2-2-2h-8.26c-1.1,0-2,.9-2,2V89.7c0,1.1,.9,2,2,2h8.26c1.1,0,2-.9,2-2v-5.68c5.67,5.62,13.51,8.68,22.49,8.68,18,0,31.57-14.26,31.57-33.16s-13.57-33.16-31.57-33.16Zm19.56,33.16c0,12.88-8.65,21.88-21.03,21.88-10.34,0-21.03-8.19-21.03-21.88s10.69-22,21.03-22c12.38,0,21.03,9.05,21.03,22Z"/>'+'<path fill="#2A1943" d="M549.04,29.38v5.68c-5.67-5.62-13.51-8.68-22.49-8.68-18,0-31.57,14.25-31.57,33.16s13.57,33.16,31.57,33.16c8.98,0,16.83-3.05,22.49-8.68v5.68c0,1.1,.9,2,2,2h8.26c1.1,0,2-.9,2-2V29.38c0-1.1-.9-2-2-2h-8.26c-1.1,0-2,.9-2,2Zm0,30.16c0,13.7-10.69,21.88-21.03,21.88-12.38,0-21.03-9-21.03-21.88s8.65-22,21.03-22c10.34,0,21.03,8.23,21.03,22Z"/>'+'<path fill="#2A1943" d="M620.27,68.5c-2.55,7.86-9.48,12.55-18.53,12.55-12.31,0-20.9-8.85-20.9-21.52s8.79-21.64,20.9-21.64c8.93,0,15.93,5.03,18.27,13.12h0c.23,.79,1.06,1.24,1.85,1.01l8.93-2.69c.78-.24,1.22-1.06,.99-1.84h0c-3.75-12.63-15.82-21.12-30.04-21.12-18.76,0-32.91,14.25-32.91,33.16s14.15,33.16,32.91,33.16c14.54,0,26.56-8.45,29.93-21.03h0c.21-.79-.26-1.6-1.04-1.81l-8.56-2.32c-.76-.21-1.55,.22-1.8,.97h0Z"/>'+'<path fill="#2A1943" d="M665.66,56.98l31.7-27.05c1.06-.9,.42-2.63-.97-2.63h-10.35c-1.46,0-2.88,.52-4,1.46l-27.5,23.2c-.27,.23-.61,.35-.96,.35h-.47c-.83,0-1.49-.67-1.49-1.49V2.08c0-1.1-.9-2-2-2h-8.26c-1.1,0-2,.9-2,2V90.7c0,1.1,.9,2,2,2h8.26c1.1,0,2-.9,2-2v-24.76c0-.83,.67-1.49,1.49-1.49h0c.35,0,.68,.12,.95,.34l32.32,26.51c1.11,.91,2.5,1.4,3.93,1.4h9.81c1.88,0,2.72-2.36,1.26-3.55l-35.7-29.1c-.97-.79-.99-2.26-.04-3.07Z"/>'+'<path fill="#2A1943" d="M198.72,92.7c8.98,0,15.23-3.06,20.9-8.68v5.68c0,1.1,.9,2,2,2h8.26c1.1,0,2-.9,2-2V28.38c0-1.11-.9-2-2-2h-8.26c-1.1,0-2,.89-2,2v31.16c0,13.69-10.69,21.57-21.02,21.88-10.94,.33-20.78-8.19-20.78-21.88V28.43c0-1.11-.9-2-2-2h-8.26c-1.11,0-2,.89-2,2,0,0-.26,25.39,0,31.11,1.39,30.24,23.87,33.16,33.16,33.16Z"/>'+'<path fill="#6042EC" d="M2.73,0C1.22,0,0,1.22,0,2.73V63.74c0,33.49,21.78,55.17,66.43,55.17s66.43-21.35,66.43-54.68V2.73c0-1.51-1.22-2.73-2.73-2.73h-56.48c-2.01,0-3.33,2.11-2.45,3.92l36.12,79.2c1.09,2.24-1.15,4.65-3.47,3.72l-36.4-13.89c-.65-.26-1.38-.26-2.03,0l-36.31,13.82c-2.32,.93-4.56-1.48-3.47-3.72L61.58,3.92c.88-1.81-.44-3.92-2.45-3.92H2.73Z"/>'+'</svg>',outro_thumb_up:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M96 191.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64c17.67 0 32-14.33 32-31.1V223.1C128 206.3 113.7 191.1 96 191.1zM512 227c0-36.89-30.05-66.92-66.97-66.92h-99.86C354.7 135.1 360 113.5 360 100.8c0-33.8-26.2-68.78-70.06-68.78c-46.61 0-59.36 32.44-69.61 58.5c-31.66 80.5-60.33 66.39-60.33 93.47c0 12.84 10.36 23.99 24.02 23.99c5.256 0 10.55-1.721 14.97-5.26c76.76-61.37 57.97-122.7 90.95-122.7c16.08 0 22.06 12.75 22.06 20.79c0 7.404-7.594 39.55-25.55 71.59c-2.046 3.646-3.066 7.686-3.066 11.72c0 13.92 11.43 23.1 24 23.1h137.6C455.5 208.1 464 216.6 464 227c0 9.809-7.766 18.03-17.67 18.71c-12.66 .8593-22.36 11.4-22.36 23.94c0 15.47 11.39 15.95 11.39 28.91c0 25.37-35.03 12.34-35.03 42.15c0 11.22 6.392 13.03 6.392 22.25c0 22.66-29.77 13.76-29.77 40.64c0 4.515 1.11 5.961 1.11 9.456c0 10.45-8.516 18.95-18.97 18.95h-52.53c-25.62 0-51.02-8.466-71.5-23.81l-36.66-27.51c-4.315-3.245-9.37-4.811-14.38-4.811c-13.85 0-24.03 11.38-24.03 24.04c0 7.287 3.312 14.42 9.596 19.13l36.67 27.52C235 468.1 270.6 480 306.6 480h52.53c35.33 0 64.36-27.49 66.8-62.2c17.77-12.23 28.83-32.51 28.83-54.83c0-3.046-.2187-6.107-.6406-9.122c17.84-12.15 29.28-32.58 29.28-55.28c0-5.311-.6406-10.54-1.875-15.64C499.9 270.1 512 250.2 512 227z"/></svg>',outro_hand_clapping:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M383.4 96c5.125 0 10.16-2.453 13.25-7.016l32.56-48c1.854-2.746 2.744-5.865 2.744-8.951c0-8.947-7.273-16.04-15.97-16.04c-5.125 0-10.17 2.465-13.27 7.02l-32.56 48C368.3 73.76 367.4 76.88 367.4 79.97C367.4 88.88 374.7 96 383.4 96zM243.3 88.98C246.4 93.55 251.4 96 256.6 96c8.762 0 15.99-7.117 15.99-16.03c0-3.088-.8906-6.205-2.744-8.951l-32.56-48C234.2 18.46 229.1 15.98 223.1 15.98c-8.664 0-15.98 7.074-15.98 16.05c0 3.086 .8906 6.205 2.744 8.951L243.3 88.98zM320 96c8.844 0 16-7.156 16-16v-64C336 7.156 328.8 0 320 0s-16 7.156-16 16v64C304 88.84 311.2 96 320 96zM437.1 128c-8.65 0-16.73 1.951-24.45 4.691c10.81 12.4 18.81 27.17 22.94 43.61C437 176.3 437.5 176 437.1 176C452.4 176 464 187.6 464 202v136.5c0 40.8-19.67 77.73-50.36 100.8c-16.48 29.42-39.91 54.27-68.04 72.4C437.8 509.1 512 432.5 512 338.5V202.1C512 161.3 478.8 128 437.1 128zM408 338.5V202C408 161.2 374.8 128 333.1 128c-26.01 0-48.94 13.49-62.13 33.85L219.4 109.4C206.6 96.61 189.7 89.59 171.7 89.59c-23.29 0-43.86 11.85-55.1 29.85c-1.166-.0605-2.34-.0898-3.518-.0898c-37.22 0-67.5 30.28-67.5 67.5c0 1.178 .0313 2.352 .0898 3.518C26.73 202.5 14.88 223.1 14.88 246.4c0 9.186 1.824 18.09 5.299 26.31C7.73 284.9 0 301.1 0 320.8c0 18.03 7.021 34.98 19.77 47.73C104.9 453.6 148.2 512 236.8 512C331.2 512 408 434.2 408 338.5zM236.8 464c-65.85 0-97.3-43.72-183-129.5C49.9 330.7 48 325.7 48 320.8c0-10.39 8.361-19.5 19.5-19.5c4.99 0 9.979 1.906 13.79 5.715l51.33 51.33l17.06-17.06L68.59 260.2C64.78 256.3 62.88 251.4 62.88 246.4c0-10.39 8.361-19.5 19.5-19.5c4.99 0 9.979 1.906 13.79 5.715L177.3 313.7l17.06-17.06L98.35 200.6C94.54 196.8 92.64 191.8 92.64 186.8c0-10.39 8.361-19.5 19.5-19.5c4.99 0 9.979 1.906 13.79 5.715l95.97 95.97l17.06-17.06L157.9 170.9C154.1 167.1 152.2 162.1 152.2 157.1c0-10.39 8.361-19.5 19.5-19.5c4.99 0 9.979 1.906 13.79 5.715L308 265.9V202c0-14.36 11.63-26 25.1-26C348.4 176 360 187.6 360 202v136.5C360 406.2 306.4 464 236.8 464z"/></svg>',outro_message_check:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M311.3 136.4L232.2 228.7L202.5 199c-9.375-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94l48 48c4.5 4.5 10.62 7.031 16.97 7.031c.3125 0 .625 0 .9062-.0313C241.1 287.7 247.4 284.7 251.7 279.6l96-112c8.625-10.06 7.469-25.22-2.594-33.84C335.1 125.2 319.9 126.3 311.3 136.4zM447.1 0h-384c-35.25 0-64 28.75-64 63.1v287.1c0 35.25 28.75 63.1 64 63.1h96v83.1c0 9.836 11.02 15.55 19.12 9.7l124.9-93.7h144c35.25 0 64-28.75 64-63.1V63.1C511.1 28.75 483.2 0 447.1 0zM464 352c0 8.75-7.25 16-16 16h-160l-80 60v-60H64c-8.75 0-16-7.25-16-16V64c0-8.75 7.25-16 16-16h384c8.75 0 16 7.25 16 16V352z"/></svg>'};var Lang={language:'en','en':{draw_on_the_screen:'Draw on the screen',draw_on_the_screen_help:'Give feedback with a screenshot',capture_video:'Capture video',capture_video_help:'Give feedback with a screen recording',general_feedback:'General feedback',general_feedback_help:'Give general feedback of this page',report_bug:'Report a bug',report_bug_help:'Let us know what\'s broken',feature_request:'Feature request',feature_request_help:'Tell us how we can improve',contact_us:'Contact us',contact_us_help:'Get in touch with us',view_other_feedback:'View existing feedback',view_other_feedback_help:'See what\'s already been submitted',your_name:'Your name',your_email_address:'Your email address',feedback_title:'Add a title',select_a_category:'Select a category',select_a_priority:'Choose priority',assign_to:'Assign to',leave_us_your_comment:'Leave us your comment',attach_a_screenshot:'Attach a screenshot',screenshot_attached:'screenshot',send:'Send feedback',back:'back',remove:'Remove',close:'Close',next:'Next',send_success:'Thanks for the feedback!',highlight:'Highlight',blackout:'Blackout',pencil:'Pencil',line:'Line',arrow:'Arrow',add_a_comment:'Add a comment',capture_screenshot:'Capture screenshot',save:'Save',delete:'delete',add_your_comment_here:'Enter your comment...',attach_a_file:'Attach a file',file_format_not_supported:'File format not supported',max:'Max',open_feedback:'feedback',search:'Search...',cancel:'Cancel',feedback_not_found:'Oops, no feedback could be found.',feedback_type_all:'All',feedback_type_general:'General',feedback_type_bug:'Bug Report',feedback_type_feature_request:'Feature Request',feedback_type_screenshot:'Screenshot',feedback_type_video:'Video',this_page_only:'This page only',want_to_leave:'You have unsaved changes',changes_not_saved:'Are you sure that you want to close?',discard:'Discard',start_recording:'Start recording',screen_recording:'Screen recording',recording_mute:'Turn off microphone',recording_unmute:'Turn on microphone',recording_pause:'Pause',recording_resume:'Resume',recording_draw:'Draw',recording_finish:'Finish recording',video_not_supported:'Video recording is not supported',video_requires_https:'A secure HTTPS connection is required for video recording.',ok:'OK'},// Simplified Chinese
'zh-CN':{draw_on_the_screen:'',draw_on_the_screen_help:'',capture_video:'',capture_video_help:'',general_feedback:'',general_feedback_help:'',report_bug:'',report_bug_help:'',feature_request:'',feature_request_help:'',contact_us:'',contact_us_help:'',view_other_feedback:'',view_other_feedback_help:'',your_name:'',your_email_address:'',select_a_category:'',select_a_priority:'',assign_to:'',leave_us_your_comment:'...',attach_a_screenshot:'',screenshot_attached:'',send:'',back:'',remove:'',close:'',next:'',send_success:'!',highlight:'',blackout:'',pencil:'',line:'',arrow:'',add_a_comment:'',capture_screenshot:'',save:'',delete:'',add_your_comment_here:'...',attach_a_file:'',file_format_not_supported:'',max:'',open_feedback:'',search:'...',cancel:'',feedback_not_found:'',feedback_type_all:'',feedback_type_general:'',feedback_type_bug:'',feedback_type_feature_request:'',feedback_type_screenshot:'',feedback_type_video:'',this_page_only:'',want_to_leave:'',changes_not_saved:'',discard:'',start_recording:'',recording_mute:'',recording_unmute:'',recording_pause:'',recording_resume:'',recording_draw:'',recording_finish:''},// Tranditional Chinese
'zh-TW':{draw_on_the_screen:'',draw_on_the_screen_help:'',capture_video:'',capture_video_help:'',general_feedback:'',general_feedback_help:'',report_bug:'',report_bug_help:'',feature_request:'',feature_request_help:'',contact_us:'',contact_us_help:'',view_other_feedback:'',view_other_feedback_help:'',your_name:'',your_email_address:'',select_a_category:'',select_a_priority:'',assign_to:'',leave_us_your_comment:'...',attach_a_screenshot:'',screenshot_attached:'',send:'',back:'',remove:'',close:'',next:'',send_success:'!',highlight:'',blackout:'',pencil:'',line:'',arrow:'',add_a_comment:'',capture_screenshot:'',save:'',delete:'',add_your_comment_here:'...',attach_a_file:'',file_format_not_supported:'',max:'',open_feedback:'',search:'...',cancel:'',feedback_not_found:'',feedback_type_all:'',feedback_type_general:'',feedback_type_bug:'',feedback_type_feature_request:'',feedback_type_screenshot:'',feedback_type_video:'',this_page_only:'',want_to_leave:'',changes_not_saved:'',discard:'',start_recording:'',recording_mute:'',recording_unmute:'',recording_pause:'',recording_resume:'',recording_draw:'',recording_finish:''},// Korean
'ko':{draw_on_the_screen:'  ',draw_on_the_screen_help:'      ',general_feedback:'  ',general_feedback_help:'     ',capture_video:' ',capture_video_help:'   ',report_bug:' ',report_bug_help:'  ',feature_request:' ',feature_request_help:'   ',contact_us:'',contact_us_help:' ',view_other_feedback:'  ',view_other_feedback_help:'   ',your_name:' ',your_email_address:' ',select_a_category:' ',select_a_priority:'  ',assign_to:' ',leave_us_your_comment:' ...',attach_a_screenshot:'  ',screenshot_attached:' ',send:'',back:'',remove:'',close:'',next:'',send_success:'  !',save:'',delete:'',add_your_comment_here:' ...',attach_a_file:' ',file_format_not_supported:'    ',max:'',open_feedback:'   ',search:'...',cancel:'',feedback_not_found:'   ',feedback_type_all:'',feedback_type_general:'  ',feedback_type_bug:' ',feedback_type_feature_request:' ',feedback_type_screenshot:' ',feedback_type_video:' ',this_page_only:'  ',want_to_leave:'   ',changes_not_saved:'?',discard:'',start_recording:'',recording_mute:'',recording_unmute:'',recording_pause:'',recording_resume:'',recording_draw:'',recording_finish:''},// French
'fr':{draw_on_the_screen:'Dessiner sur l\'cran',draw_on_the_screen_help:'Commenter sur des domaines spcifiques de cette page',general_feedback:'Impressions gnrales',general_feedback_help:'Donnez une valuation gnrale de cette page',capture_video:'cran d\'enregistrement',capture_video_help:'Fournir des commentaires avec enregistrement d\'cran',report_bug:'Signaler un bug',report_bug_help:'Faites-nous savoir ce qui est cass',feature_request:'Demande de fonctionnalit',feature_request_help:'Comment pouvons-nous amliorer',contact_us:'Contactez nous',contact_us_help:'Prenez contact avec nous',view_other_feedback:'Voir d\'autres commentaires',view_other_feedback_help:'Voir ce qui a dj t soumis',your_name:'Votre nom',your_email_address:'Votre adresse email',select_a_category:'Selectionner une catgorie',select_a_priority:'Choisissez la priorit',assign_to:'Assigner ',leave_us_your_comment:'Laisser votre commentaire...',attach_a_screenshot:'joindre une capture d\'cran',screenshot_attached:'capture d\'cran',send:'Envoyer',back:'Retour',remove:'Retirer',close:'Fermer',next:'Suivant',send_success:'Merci pour vos commentaires!',save:'Sauvegarder',delete:'Effacer',add_your_comment_here:'Ajouter votre commentaire ici...',attach_a_file:'Attacher un fichier',file_format_not_supported:'Format de fichier non supporte',max:'Maximum',open_feedback:'Commentaires libres',search:'Chercher...',cancel:'Annulation',feedback_not_found:'Oops, aucun feedback n\'a t trouv.',feedback_type_all:'Toute',feedback_type_general:'Impressions generales',feedback_type_bug:'Rapport d\'erreur',feedback_type_feature_request:'Demande de fonctionnalit',feedback_type_screenshot:'Capture d\'cran',feedback_type_video:'Enregistrement d\'cran',this_page_only:'Cette page uniquement',want_to_leave:'Certaines modifications n\'ont pas t enregistres',changes_not_saved:'Voulez-vous vraiment fermer?',discard:'Supprimer',start_recording:'Dbut',recording_mute:'Muet',recording_unmute:'Ractiver',recording_pause:'Pause',recording_resume:'Reprendre',recording_draw:'Dessiner',recording_finish:'Terminer l\'enregistrement'},// Russian
'ru':{draw_on_the_screen:'  ',draw_on_the_screen_help:'       ',general_feedback:' ',general_feedback_help:'    ',capture_video:' ',capture_video_help:'     ',report_bug:'  ',report_bug_help:' ,  ',feature_request:' ',feature_request_help:'   ',contact_us:'  ',contact_us_help:'  ',view_other_feedback:'  ',view_other_feedback_help:',    ',your_name:' ',your_email_address:' . ',select_a_category:' ',select_a_priority:' ',assign_to:' ',leave_us_your_comment:' ...',attach_a_screenshot:' ',screenshot_attached:'c',send:'',back:'',remove:'',close:'',next:'',send_success:'   !',save:'',delete:'',add_your_comment_here:'  ',attach_a_file:' ',file_format_not_supported:'   ',max:'',open_feedback:'',search:'...',cancel:'',feedback_not_found:'!      ',feedback_type_all:'',feedback_type_general:' ',feedback_type_bug:'  ',feedback_type_feature_request:'   ',feedback_type_screenshot:'',feedback_type_video:' ',this_page_only:'  ',want_to_leave:'  ',changes_not_saved:'  ?',discard:'',start_recording:'',recording_mute:' ',recording_unmute:' ',recording_pause:'',recording_resume:'',recording_draw:'P',recording_finish:' '},// Dutch
'nl':{draw_on_the_screen:'Teken op het scherm',draw_on_the_screen_help:'Teken of markeer specifieke gedeelten op deze pagina',general_feedback:'Algemene feedback',general_feedback_help:'Geef je feedback voor deze pagina',capture_video:'Record scherm',capture_video_help:'Geef feedback met schermrecord',report_bug:'Een bug melden',report_bug_help:'Laat ons weten wat er kapot is',feature_request:'Functieverzoek:',feature_request_help:'Hoe kunnen we verbeteren',contact_us:'Neem contact met ons op',contact_us_help:'Neem contact op met ons',view_other_feedback:'Bekijk andere feedback',view_other_feedback_help:'Bekijk wat er al is ingediend',your_name:'Uw naam',your_email_address:'Jouw e-mailadres',select_a_category:'Selecteer een categorie',select_a_priority:'Kies prioriteit',assign_to:'Rechtverkrijgende',leave_us_your_comment:'Laat hier uw feedback achter....',attach_a_screenshot:'voeg een screenshot toe',screenshot_attached:'screenshot',send:'Verzenden',back:'Terug',remove:'Verwijderen',close:'Sluiten',next:'Volgende',send_success:'Bedankt voor uw feedback!',save:'Opslaan',delete:'Verwijderen',add_your_comment_here:'Plaats je reactie hier...',attach_a_file:'Bijlage toevoegen',file_format_not_supported:'Bestandsformaat niet ondersteund',max:'Max',open_feedback:'feedback',search:'Zoeken...',cancel:'Annuleren',feedback_not_found:'Oeps, geen overeenkomende resultaten gevonden.',feedback_type_all:'Allemaal',feedback_type_general:'Algemene feedback',feedback_type_bug:'Bug report',feedback_type_feature_request:'Functieverzoek:',feedback_type_screenshot:'Screenshot',feedback_type_video:'Schermopname',this_page_only:'Alleen deze pagina',want_to_leave:'De wijzigingen zijn nog niet opgeslagen',changes_not_saved:'Weet je zeker dat je wilt afsluiten?',discard:'Verwijderen',start_recording:'Begin',recording_mute:'Schakel de microfoon uit',recording_unmute:'Zet de microfoon aan',recording_pause:'Pauze',recording_resume:'Hervat',recording_draw:'Trek',recording_finish:'Voltooi de opname'},// Portuguese
'pt':{draw_on_the_screen:'Desenhe no Ecr',draw_on_the_screen_help:'Escreva o seu comentrio sobre reas especficas desta pgina',general_feedback:'Comentrio Geral',general_feedback_help:'Escreva o seu comentrio geral sobre esta pgina',capture_video:'Tela de gravao',capture_video_help:'Fornecer feedback com o registro de tela',report_bug:'Reportar um erro',report_bug_help:'Deixe-nos saber o que est quebrado',feature_request:'Solicitao de recurso',feature_request_help:'Como podemos melhorar',contact_us:'Contate-Nos',contact_us_help:'Entre em contato conosco',view_other_feedback:'Veja outros Comentrios',view_other_feedback_help:'Veja o que j foi enviado',your_name:'Seu nome',your_email_address:'O seu Email',select_a_category:'Escolha uma Categoria',select_a_priority:'Escolha a prioridade',assign_to:'Atribuir a',leave_us_your_comment:'Deixe-nos o seu Comentrio...',attach_a_screenshot:'anexar uma captura de tela',screenshot_attached:'screenshot',send:'Envia',back:'Voltar',remove:'Remover',close:'Fechar',next:'Seguinte',send_success:'Obrigado pelo seu feedback!',save:'Gravar',delete:'Apagar',add_your_comment_here:'Adicione o seu comentrio aqui...',attach_a_file:'Anexe o seu Ficheiro',file_format_not_supported:'Formato do Ficheiro no  suportado',max:'Max',open_feedback:'comentrios abertos',search:'Pesquisa...',cancel:'Cancelar',feedback_not_found:'Nenhums commentrios foram achados',feedback_type_all:'Todos',feedback_type_general:'Comentrio Geral',feedback_type_bug:'Relatrio de erro',feedback_type_feature_request:'Solicitao de recurso',feedback_type_screenshot:'Captura de tela',feedback_type_video:'Gravao de tela',this_page_only:'Somente esta pgina',want_to_leave:'Tem alteraes no guardadas',changes_not_saved:'Tem a certeza de que pretende fechar?',discard:'Rejeitar',start_recording:'Comear',recording_mute:'Ligue o microfone',recording_unmute:'Desligue o microfone',recording_pause:'Pausa',recording_resume:'Retomar',recording_draw:'Desenhar',recording_finish:'Terminar gravao'},// Portuguese
'pt-br':{draw_on_the_screen:'Desenhe na Tela',draw_on_the_screen_help:'Dar feedback com uma cpia da tela',general_feedback:'Feedback geral',general_feedback_help:'Dar feedback gravando um vdeo',capture_video:'Capturar vdeo',capture_video_help:'Dar feedback gravando um vdeo',report_bug:'Reportar um erro',report_bug_help:'Deixe-nos saber o que est quebrado',feature_request:'Solicitao de recurso',feature_request_help:'Como podemos melhorar',contact_us:'Entre em Contato',contact_us_help:'Entre em contato conosco',view_other_feedback:'Exibir outros feedbacks',view_other_feedback_help:'Veja o que j foi enviado',your_name:'Seu nome',your_email_address:'Seu endereo de e-mail',select_a_category:'Selecione uma categoria',select_a_priority:'Escolha a prioridade',assign_to:'Atribuir a',leave_us_your_comment:'Deixe o seu comentrio...',attach_a_screenshot:'Incluir uma cpia de tela',screenshot_attached:'screenshot',send:'Enviar',back:'Voltar',remove:'Remover',close:'Fechar',next:'Prximo',send_success:'Obrigado pelo seu feedback!',save:'Salvar',delete:'Apagar',add_your_comment_here:'Digite seu comentrio...',attach_a_file:'Anexar um Arquivo',file_format_not_supported:'Formato do Ficheiro no  suportado',max:'Max',open_feedback:'feedbacks abertos',search:'Pesquisar...',cancel:'Cancelar',feedback_not_found:'Ops, nenhum feedback encontrado.',feedback_type_all:'Todos',feedback_type_general:'Comentrio Geral',feedback_type_bug:'Relatrio de erro',feedback_type_feature_request:'Solicitao de recurso',feedback_type_screenshot:'Captura de tela',feedback_type_video:'Gravao de tela',this_page_only:'Somente esta pgina',want_to_leave:'Tem alteraes no guardadas',changes_not_saved:'Tem a certeza de que pretende fechar?',discard:'Rejeitar',start_recording:'Iniciar Gravao',recording_mute:'Ligue o microfone',recording_unmute:'Desligue o microfone',recording_pause:'Pausa',recording_resume:'Retomar',recording_draw:'Desenhar',recording_finish:'Terminar gravao'},// Lithuanian
'lt':{draw_on_the_screen:'Pieti ant ekrano',draw_on_the_screen_help:'Pateikite atsiliepim apie konkrei viet iame puslapyje',general_feedback:'Bendras atsiliepimas',general_feedback_help:'Pateikite io puslapio atsiliepim',capture_video:'raymo ekranas',capture_video_help:'Pateikite atsiliepim su ekrano rau',report_bug:'Pranek apie problem',report_bug_help:'Pranekite mums, kas sugedo',feature_request:'Funkcijos uklausa',feature_request_help:'Kaip galime tobulti',contact_us:'Susisiekite su mumis',contact_us_help:'Susisiekite su mumis',view_other_feedback:'Perirti kit atsiliepim',view_other_feedback_help:'Perirkite, kas jau buvo pateikta',your_name:'Tavo vardas',your_email_address:'Js el. pato adresas',select_a_category:'Pasirinkite kategorij',select_a_priority:'Pasirinkite prioritet',assign_to:'Priskirti',leave_us_your_comment:'Palikite mums savo komentar...',attach_a_screenshot:'pridkite ekrano kopij',screenshot_attached:'ekrano kopija',send:'Sisti',back:'Atgal',remove:'paalinti',close:'Udaryti',next:'Kitas',send_success:'Ai u js atsiliepimus!',save:'Isaugoti',delete:'Itrinti',add_your_comment_here:'Pridkite komentar ia...',attach_a_file:'Pridkite fail',file_format_not_supported:'Failo tipas nepalaikomas',max:'Maksimalus',open_feedback:'atidaryti atsiliepim',search:'Paieka...',cancel:'Ataukti',feedback_not_found:'Oi, nerasta atsiliepim pagal kriterijus',feedback_type_all:'Viskas',feedback_type_general:'Bendras atsiliepimas',feedback_type_bug:'Praneimas apie klaidas',feedback_type_feature_request:'Funkcijos uklausa',feedback_type_screenshot:'Ekrano kopija',feedback_type_video:'Ekrano raymas',this_page_only:'Tik is puslapis',want_to_leave:'Yra neisaugot pakeitim',changes_not_saved:'Ar tikrai norite udaryti?',discard:'Imesti',start_recording:'Pradkite raym',recording_mute:'Ijunkite mikrofon',recording_unmute:'junkite mikrofon',recording_pause:'Pauz',recording_resume:'Tsti',recording_draw:'Lygiosios',recording_finish:'Baigti raym'},// Polish
'pl':{draw_on_the_screen:'Wska na ekranie',draw_on_the_screen_help:'Przelij sugestie oznaczajc obszar na ekranie',general_feedback:'Sugestia oglna',general_feedback_help:'Przelij ogln sugestie dotyczc strony',capture_video:'Ekran nagrywania',capture_video_help:'Przelij opini z zapisem ekranu',report_bug:'Zgo bd',report_bug_help:'Daj nam zna, co si zepsuo',feature_request:'Proba o funkcj',feature_request_help:'Powiedz nam, jak moemy si poprawi',contact_us:'Skontaktuj si z nami',contact_us_help:'Skontaktuj si z nami',view_other_feedback:'Zobacz inne sugestie',view_other_feedback_help:'Zobacz, co ju zostao przesane',your_name:'Twoje imi',your_email_address:'Twj adres Email',select_a_category:'Wybierz kategorie',select_a_priority:'Wybierz priorytet',assign_to:'Przypisa do',leave_us_your_comment:'Pozostaw swj komentarz...',attach_a_screenshot:'Zacz zrzut ekranu',screenshot_attached:'zrzut ekranu',send:'Wylij',back:'wr',remove:'Usun',close:'Zamknij',next:'Dalej',send_success:'Dziekuj za odpowied!',save:'Zapisz',delete:'Usu',add_your_comment_here:'Dodaj swj komentarz...',attach_a_file:'Dodaj plik',file_format_not_supported:'Typ pliku nie jest obsugiwany',max:'Max',open_feedback:'otwartych sugestii',search:'Search...',cancel:'Anuluj',feedback_not_found:'Ups, nie znaleziono pasujcych sugestii',feedback_type_all:'Wszystko',feedback_type_general:'Sugestia oglna',feedback_type_bug:'Zgoszenie bdu',feedback_type_feature_request:'Proba o funkcj',feedback_type_screenshot:'Zrzut ekranu',feedback_type_video:'Nagrywanie ekranu',this_page_only:'Tylko ta strona',want_to_leave:'Masz niezapisane zmiany',changes_not_saved:'Na pewno chcesz zamkn to okno?',discard:'Odrzu',start_recording:'Pocztek',recording_mute:'Wycz mikrofon',recording_unmute:'Wcz mikrofon',recording_pause:'Pauza',recording_resume:'Wznw',recording_draw:'Remis',recording_finish:'Zakocz nagrywanie'},// German
'de':{draw_on_the_screen:'Auf den Bildschirm zeichnen',draw_on_the_screen_help:'Feedback zu bestimmten Bereichen dieser Seite geben',general_feedback:'Allgemeines Feedback',general_feedback_help:'Allgemeines Feedback zu dieser Seite geben',report_bug:'Melde einen technischen Fehler',report_bug_help:'Lass uns wissen was kaputt ist',feature_request:'Featureanfrage',feature_request_help:'Sagen Sie uns, wie wir uns verbessern knnen',capture_video:'Aufnahmebildschirm',capture_video_help:'Geben Sie Feedback mit Bildschirmaufzeichnung',contact_us:'Kontaktiere uns',contact_us_help:'Nehmen Sie Kontakt mit uns auf',view_other_feedback:'Weiteres Feedback ansehen',view_other_feedback_help:'Sehen Sie, was bereits eingereicht wurde',your_name:'Dein Name',your_email_address:'Deine Email Adresse',select_a_category:'Eine Kategorie auswhlen',select_a_priority:'Whlen Sie die Prioritt',assign_to:'Zustndiger',leave_us_your_comment:'Bitte geben Sie hier ihr Feedback ein...',attach_a_screenshot:'Einen Screenshot mitsenden',screenshot_attached:'screenshot',send:'Absenden',back:'Zurck',remove:'Entfernen',close:'Schlieen',next:'Weiter',send_success:'Vielen Dank fr Ihr Feedback!',save:'Speichern',delete:'Lschen',add_your_comment_here:'Bitte geben Sie hier Ihr Feedback ein',attach_a_file:'Eine Datei anhngen',file_format_not_supported:'Dateiformat wird nicht untersttzt',max:'Max',open_feedback:'Feedbacks',search:'Suchen...',cancel:'Abbrechen',feedback_not_found:'Ups, es gibt kein Feedback zu Ihrer Suche.',feedback_type_all:'Alle',feedback_type_general:'Allgemeines Feedback',feedback_type_bug:'Fehlerbericht',feedback_type_feature_request:'Featureanfrage',feedback_type_screenshot:'Bildschirmfoto',feedback_type_video:'Bildschirmaufnahme',this_page_only:'Nur diese Seite',want_to_leave:'Die nderungen wurden noch nicht gespeichert',changes_not_saved:'Mchten Sie den Editor wirklich schlieen?',discard:'Verwerfen',start_recording:'Start',recording_mute:'Mikrofon ausschalten',recording_unmute:'Mikrofon einschalten',recording_pause:'Pause',recording_resume:'Fortsetzen',recording_draw:'Zeichnen',recording_finish:'Beenden Sie die Aufnahme'},// Danish
'da':{draw_on_the_screen:'Tegn p skrmen',draw_on_the_screen_help:'Giv feedback til et omrde p siden',general_feedback:'Giv feedback',general_feedback_help:'Giv feedback til denne side',capture_video:'Optageskrm',capture_video_help:'Giv feedback med skrmoptegnelse',report_bug:'Anmeld en fejl',report_bug_help:'Fortl os, hvad der er get i stykker',feature_request:'Funktionsanmodning',feature_request_help:'Fortl os, hvordan vi kan forbedre os',contact_us:'Kontakt os',contact_us_help:'kom i kontakt med os',view_other_feedback:'Se andres feedback',view_other_feedback_help:'Se hvad der allerede er sendt',your_name:'Dit navn',your_email_address:'Din email',select_a_category:'Vlg en kategori',select_a_priority:'Vlg prioritet',assign_to:'Tildel til',leave_us_your_comment:'Skriv en kommentar...',attach_a_screenshot:'Vedhft et skrmbillede',screenshot_attached:'skrmbillede',send:'Send',back:'Tilbage',remove:'Fjerne',close:'Luk',next:'Nste',send_success:'Tak for din tilbagemelding!',save:'Gem',delete:'Slet',add_your_comment_here:'Tilfj din kommentar her...',attach_a_file:'Vedhft en fil',file_format_not_supported:'Filtypen understttes ikke',max:'Maks',open_feedback:'feedback',search:'Sg...',cancel:'Afbryd',feedback_not_found:'Ups, kan ikke finde matchende feedback',feedback_type_all:'Alle',feedback_type_general:'Giv feedback',feedback_type_bug:'Fejlrapport',feedback_type_feature_request:'Funktionsanmodning',feedback_type_screenshot:'Skrmbillede',feedback_type_video:'Skrmoptagelse',this_page_only:'Denne side kun',want_to_leave:'Der er ndringer, som ikke er gemt',changes_not_saved:'Er du sikker p, at du vil lukke?',discard:'Kassr',start_recording:'Start',recording_mute:'Sluk for mikrofonen',recording_unmute:'Tnd mikrofonen',recording_pause:'Pause',recording_resume:'Genoptag',recording_draw:'Tegne',recording_finish:'Afslut optagelsen'},// Spanish
'es':{draw_on_the_screen:'Dibujar en la pantalla',draw_on_the_screen_help:'Proporcionar comentarios de reas especficas de esta pgina',general_feedback:'Comentario General',general_feedback_help:'Proporcionar comentarios generales de esta pgina',capture_video:'Pantalla de grabacin',capture_video_help:'Proporcione comentarios con el registro de pantalla',report_bug:'Reportar un error',report_bug_help:'Hganos saber lo que est roto',feature_request:'Solicitud de funcin',feature_request_help:'Dganos como podemos mejorar',contact_us:'Contctenos',contact_us_help:'Pngase en contacto con nosotros',view_other_feedback:'Ver otros comentarios',view_other_feedback_help:'Ver lo que ya se ha enviado',your_name:'Tu nombre',your_email_address:'Tu Correo Electrnico',select_a_category:'Elige la Categora',select_a_priority:'Elige la Prioridad',assign_to:'Cesionario',leave_us_your_comment:'Dejanos tu comentario...',attach_a_screenshot:'adjunta una captura de pantalla',screenshot_attached:'captura de pantalla',send:'Enviar',back:'Atrs',remove:'Eliminar',close:'Cerrar',next:'Siguiente',send_success:'Gracias por sus comentarios!',save:'Guardar',delete:'Borrar',add_your_comment_here:'Agrega tu comentario aqu...',attach_a_file:'Adjuntar un archivo',file_format_not_supported:'Formato de archivo no soportado',max:'Mx',open_feedback:'Comentarios abiertos',search:'Buscar...',cancel:'Cancelar',feedback_not_found:'Vaya, no se pudo encontrar ningn comentario coincidente.',feedback_type_all:'Todas',feedback_type_general:'Comentario General',feedback_type_bug:'Informe de error',feedback_type_feature_request:'Solicitud de funcin',feedback_type_screenshot:'Captura de pantalla',feedback_type_video:'Grabacin de pantalla',this_page_only:'Esta pgina solamente',want_to_leave:'You have unsaved changes',changes_not_saved:'Are you sure that you want to close?',discard:'Discard',start_recording:'Comienzo',recording_mute:'Apagar el micrfono',recording_unmute:'Enciende el micrfono',recording_pause:'Pausa',recording_resume:'Reanudar',recording_draw:'Dibujar',recording_finish:'Reanudar grabacin'},// Slovak
'sk':{draw_on_the_screen:'Nakresli na obrazovku',draw_on_the_screen_help:'Poskytnite sptn vzbu konkrtnych oblast na tejto strnke',general_feedback:'Veobecn Sptn Vzba',general_feedback_help:'Poskytnite veobecn sptn vzbu tejto strnky',capture_video:'Obrazovka nahrvania',capture_video_help:'Poskytnite sptn vzbu pomocou zznamu obrazovky',report_bug:'Nahlsi chybu',report_bug_help:'Dajte nm vedie, o sa pokazilo',feature_request:'Poiadavka funkcie',feature_request_help:'Povedzte nm, ako sa meme zlepi',contact_us:'Kontaktuj ns',contact_us_help:'Spojte sa s nami',view_other_feedback:'Zobrazi in sptn vzbu',view_other_feedback_help:'Pozrite sa, o u bolo odoslan',your_name:'Tvoje meno',your_email_address:'Tvoja emailova adresa',select_a_category:'Zvoli kategriu',select_a_priority:'Vyberte prioritu',assign_to:'Priradi',leave_us_your_comment:'Zanechajte nm svoj komentr...',attach_a_screenshot:'pripoji snmku obrazovky',screenshot_attached:'screenshot',send:'Posla',back:'Sp',remove:'Odstrni',close:'Zatvorte',next:'alej',send_success:'akujem za sptn vzbu!',save:'Uloi',delete:'Zmaza',add_your_comment_here:'Pridajte svoj komentr tu...',attach_a_file:'Priloi Sbor',file_format_not_supported:'Formt sboru nieje podporovan',max:'Najviac',open_feedback:'otvorench sptnch vzieb',search:'Vyhadvanie...',cancel:'Zrui',feedback_not_found:'Ups, iadne zhodujce sptn vzby neboli njden.',feedback_type_all:'Vetky',feedback_type_general:'Veobecn Sptn Vzba',feedback_type_bug:'Hlsenie o chybe',feedback_type_feature_request:'Poiadavka funkcie',feedback_type_screenshot:'Screenshot',feedback_type_video:'Zznam obrazovky',this_page_only:'Iba tto strnka',want_to_leave:'Existuj neuloen zmeny',changes_not_saved:'Naozaj chcete editor zavrie?',discard:'Zahodi',start_recording:'tart',recording_mute:'Vypnite mikrofn',recording_unmute:'Zapnite mikrofn',recording_pause:'Pauza',recording_resume:'alej',recording_draw:'Nakreslite',recording_finish:'Dokonite nahrvanie'},// Slovenian
'sl':{draw_on_the_screen:'Risanje na zaslon',draw_on_the_screen_help:'Narii svoj odziv na zaslon',capture_video:'Zajem videa',capture_video_help:'Zabelei svoj odziv s video posnetkom',report_bug:'Prijavite napako',report_bug_help:'Sporoite nam, kaj je pokvarjeno',feature_request:'Zahteva za funkcijo',feature_request_help:'Povejte nam, kako se lahko izboljamo',general_feedback:'Splone povratne informacije',general_feedback_help:'Dodaj splone povratne informacije o tej strani',contact_us:'Kontaktiraj nas',contact_us_help:'Stopite z nami v stik',view_other_feedback:'Oglej si preostale odzive"',view_other_feedback_help:'Oglejte si, kaj je e bilo poslano',your_name:'Ime',your_email_address:'Email naslov',select_a_category:'Izberi kategorijo',select_a_priority:'Izberite prednost',assign_to:'Dodelite',leave_us_your_comment:'Zabelei komentar...',attach_a_screenshot:'Dodaj posnetek zaslona',screenshot_attached:'screenshot',send:'Polji',back:'nazaj',remove:'Odstrani',close:'Zapri',next:'Naprej',send_success:'Hvala za odziv!',save:'Shrani',delete:'izbrii',add_your_comment_here:'Vnesi komentar...',attach_a_file:'Pripni datoteko',file_format_not_supported:'Format datoteke ni podprt',max:'Max',open_feedback:'odziv',search:'Ii...',cancel:'Preklii',feedback_not_found:'Ups, noben odziv ni bil zabeleen.',feedback_type_all:'Vse',feedback_type_general:'Splone povratne informacije',feedback_type_bug:'Poroilo o napaki',feedback_type_feature_request:'Zahteva za funkcijo',feedback_type_screenshot:'Posnetek zaslona',feedback_type_video:'Snemanje zaslona',this_page_only:'Samo na tej strani',want_to_leave:'Imate neshranjene spremembe',changes_not_saved:'Ali ste prepriani, da elite zapreti to okno?',discard:'Zavrzi',start_recording:'Prini s snemanjem',recording_mute:'Izklopite mikrofon',recording_unmute:'Vklopite mikrofon',recording_pause:'Pavza',recording_resume:'Nadaljuj',recording_draw:'Narii',recording_finish:'Konaj snemanje',video_not_supported:'Snemanje videa ni podprto',video_requires_https:'Za snemanje videa je potrebna varna povezava HTTPS.',ok:'OK'},// Italian
'it':{draw_on_the_screen:'Disegna sullo Schermo',draw_on_the_screen_help:'Invia un feedback per una specifica area di questa pagina',general_feedback:'Feedback Generale',general_feedback_help:'Invia un feedback generale per questa pagina',capture_video:'Schermata di registrazione',capture_video_help:'Fornire feedback con la registrazione dello schermo',report_bug:'Segnalare un bug',report_bug_help:'Facci sapere cosa  rotto',feature_request:'Richiesta di funzionalit',feature_request_help:'Dicci come possiamo migliorare',contact_us:'Contattaci',contact_us_help:'Mettetevi in contatto con noi',view_other_feedback:'Visualizza altri Feedback',view_other_feedback_help:'Guarda cosa  gi stato inviato',your_name:'Il tuo nome',your_email_address:'Il tuo Indirizzo Email',select_a_category:'Seleziona una Categoria',select_a_priority:'Scegli la priorit',assign_to:'Assegnato',leave_us_your_comment:'Lasciaci un commento...',attach_a_screenshot:'Allegare uno screenshot',screenshot_attached:'screenshot',send:'Invia',back:'indietro',remove:'Rimuovere',close:'Chiudi',next:'Avanti',send_success:'Grazie per il tuo feedback!',save:'Salva',delete:'cancella',add_your_comment_here:'Aggiungi un commento qui...',attach_a_file:'Allega un File',file_format_not_supported:'Formato file non supportato',max:'Max',open_feedback:'feedback aperti',search:'Cerca...',cancel:'Cancella',feedback_not_found:'Ops, nessun feedback trovato.',feedback_type_all:'Tutte',feedback_type_general:'Feedback Generale',feedback_type_bug:'Riportare un errore',feedback_type_feature_request:'Richiesta di funzionalit',feedback_type_screenshot:'Immagine dello schermo',feedback_type_video:'Registrazione dello schermo',this_page_only:'Solo questa pagina',want_to_leave:'Sono presenti modifiche non salvate',changes_not_saved:'Chiudere?',discard:'Annulla',start_recording:'Inizio',recording_mute:'Disattiva il microfono',recording_unmute:'Attiva il microfono',recording_pause:'Pausa',recording_resume:'Riprendi',recording_draw:'Disegnare',recording_finish:'Termina la registrazione'},// Romanian
'ro':{draw_on_the_screen:'Marcheaza pe ecran',draw_on_the_screen_help:'Ofera-ne feedback pentru anumite sectiuni din pagina',general_feedback:'Feedback General',general_feedback_help:'Ofera-ne feedback general despre aceasta pagina',capture_video:'Ecran de nregistrare',capture_video_help:'Oferii feedback cu nregistrarea ecranului',report_bug:'Raporteaza o eroare',report_bug_help:'Spune-ne ce s-a stricat',feature_request:'Cerere de caracteristici',feature_request_help:'Spune-ne cum ne putem mbunti',contact_us:'Contacteaza-ne',contact_us_help:'Contacteaz-ne',view_other_feedback:'Vezi feedack-ul anterior',view_other_feedback_help:'Vedei ce a fost deja trimis',your_name:'Numele dumneavoastr',your_email_address:'Adresa ta de email',select_a_category:'Alegeti o categorie',select_a_priority:'Alegei prioritatea',assign_to:'Atribuie la',leave_us_your_comment:'Lasa-ti-ne un sfat...',attach_a_screenshot:'Ataai o captur de ecran',screenshot_attached:'captur de ecran',send:'Trimite',back:'Inapoi',remove:'Elimina',close:'nchidei',next:'nainte',send_success:'V mulumim pentru feedback-ul dumneavoastr!',save:'Salveaza',delete:'sterge',add_your_comment_here:'Adauga comentariul tau aici...',attach_a_file:'Atasati fisiere',file_format_not_supported:'Tipul fisierului nu este suportat',max:'Maxim',open_feedback:'feedback deschis',search:'Cauta...',cancel:'Renunt',feedback_not_found:'Ups, nu am gasit feedback pe baza cautarii.',feedback_type_all:'Toate',feedback_type_general:'Feedback General',feedback_type_bug:'Raport de eroare',feedback_type_feature_request:'Cerere de caracteristici',feedback_type_screenshot:'Captur de ecran',feedback_type_video:'nregistrare ecran',this_page_only:'Numai aceast pagin',want_to_leave:'Ai modificri nesalvate',changes_not_saved:'Sigur doreti s nchizi?',discard:'terge',start_recording:'Start',recording_mute:'Oprii microfonul',recording_unmute:'Pornii microfonul',recording_pause:'Pauz',recording_resume:'Reluai',recording_draw:'A desena',recording_finish:'Finalizai nregistrarea'},// Japanese
'jp':{draw_on_the_screen:'',draw_on_the_screen_help:'',general_feedback:'',general_feedback_help:'',capture_video:'',capture_video_help:'',report_bug:'',report_bug_help:'',feature_request:'',feature_request_help:'',contact_us:'',contact_us_help:'',view_other_feedback:'',view_other_feedback_help:'',your_name:'',your_email_address:'E',select_a_category:'',select_a_priority:'',assign_to:'',leave_us_your_comment:'...',attach_a_screenshot:'',screenshot_attached:'screenshot',send:'',back:'',remove:'',close:'',next:'',send_success:'',save:'',delete:'',add_your_comment_here:'...',attach_a_file:'',file_format_not_supported:'',max:'',open_feedback:'',search:'...',cancel:'',feedback_not_found:'',feedback_type_all:'',feedback_type_general:'',feedback_type_bug:'',feedback_type_feature_request:'',feedback_type_screenshot:'',feedback_type_video:'',this_page_only:'',want_to_leave:'',changes_not_saved:'',discard:'',start_recording:'',recording_mute:'',recording_unmute:'',recording_pause:'',recording_resume:'',recording_draw:'',recording_finish:''},// Norwegian
'no':{draw_on_the_screen:'Tegn p skjermen',draw_on_the_screen_help:'Gi tilbakemelding p spesifikke omrder p denne siden',general_feedback:'Generell tilbakemelding',general_feedback_help:'Gi generell tilbakemelding p denne siden',capture_video:'Innspillingsskjerm',capture_video_help:'Gi tilbakemelding med skjermoppfring',report_bug:'Rapporter en feil',report_bug_help:'Fortell oss hva som er delagt',feature_request:'Funksjonsforesprsel',feature_request_help:'Fortell oss hvordan vi kan forbedre oss',contact_us:'Kontakt oss',contact_us_help:'Ta kontakt med oss',view_other_feedback:'Se andre tilbakemeldinger',view_other_feedback_help:'Se hva som allerede er sendt inn',your_name:'Navnet ditt',your_email_address:'Din e-postadresse',select_a_category:'Velg en kategori',select_a_priority:'Velg prioritet',assign_to:'Tildel til',leave_us_your_comment:'Legg igjen din kommentar...',attach_a_screenshot:'legg til et skjermbilde',screenshot_attached:'screenshot',send:'Send',back:'tilbake',remove:'Fjerne',close:'Lukk',next:'Neste',send_success:'Takk for tilbakemeldingen!',save:'Lagre',delete:'Slett',add_your_comment_here:'Legg til din kommentar her...',attach_a_file:'Legg ved en fil',file_format_not_supported:'Filformatet stttes ikke',max:'Maks',open_feedback:'pne tilbakemeldinger',search:'Sk',cancel:'Avbryt',feedback_not_found:'Ups, ingen tilsvarende tilbakemeldinger ble funnet',feedback_type_all:'Alle',feedback_type_general:'Generell tilbakemelding',feedback_type_bug:'Feilrapport',feedback_type_feature_request:'Funksjonsforesprsel',feedback_type_screenshot:'Skjermbilde',feedback_type_video:'Skjermopptak',this_page_only:'Bare denne siden',want_to_leave:'Du har ulagrede endringer',changes_not_saved:'Er du sikker p at du vil lukke redigeringsvinduet?',discard:'Forkast',start_recording:'Start',recording_mute:'Sl av mikrofonen',recording_unmute:'Sl p mikrofonen',recording_pause:'Pause',recording_resume:'Fortsett',recording_draw:'Tegne',recording_finish:'Fullfr innspillingen'},// Estonia
'et':{draw_on_the_screen:'Joonista ekraanil',draw_on_the_screen_help:'Andke tagasisidet selle lehe teatud piirkondade kohta',general_feedback:'ldine tagasiside',general_feedback_help:'Esitage selle lehe ldine tagasiside',capture_video:'Salvestuskuva',capture_video_help:'Andke tagasisidet ekraanipilti',report_bug:'Teata veast',report_bug_help:'Andke meile teada, mis on katki',feature_request:'Funktsiooni taotlus',feature_request_help:'Rkige meile, kuidas saaksime seda parandada',contact_us:'Vta meiega hendust',contact_us_help:'Vta meiega hendust',view_other_feedback:'Vaata kogu tagasisidet',view_other_feedback_help:'Vaadake, mis on juba esitatud',your_name:'Sinu nimi',your_email_address:'Teie e-posti aadress',select_a_category:'Valige kategooria',select_a_priority:'Valige prioriteet',assign_to:'Mrata',leave_us_your_comment:'Jta meile oma kommentaar...',attach_a_screenshot:'lisage ekraanipilt',screenshot_attached:'screenshot',send:'Saada',back:'tagasi',remove:'Eemalda',close:'Sulge',next:'Edasi',send_success:'Tname tagasiside eest',save:'Salvesta',delete:'Kustuta',add_your_comment_here:'Lisage siia oma kommentaar...',attach_a_file:'Faili lisamine',file_format_not_supported:'Failivormingut ei toetata',max:'Maks',open_feedback:'avatud tagasiside',search:'Otsi',cancel:'Thista',feedback_not_found:'Vabandust, vastavat tagasisidet ei leitud',feedback_type_all:'Kik',feedback_type_general:'ldine tagasiside',feedback_type_bug:'Veateade',feedback_type_feature_request:'Funktsiooni taotlus',feedback_type_screenshot:'Ekraanipilt',feedback_type_video:'Ekraani salvestamine',this_page_only:'Ainult see leht',want_to_leave:'Teil on salvestamata muudatusi',changes_not_saved:'Kas olete kindel, et soovite sulgeda?',discard:'Loobu',start_recording:'Start',recording_mute:'Llitage mikrofon vlja',recording_unmute:'Llitage mikrofon sisse',recording_pause:'Paus',recording_resume:'Jtka',recording_draw:'Joonista',recording_finish:'Salvestamise lpetamine'},// Svenska (Swedish)
'sv':{draw_on_the_screen:'Rita p skrmen',draw_on_the_screen_help:'Ange feedback tillsammans med en skrmdump',general_feedback:'Allmn Feedback',general_feedback_help:'Ange generell feedback fr denna sidan',capture_video:'Spela in skrmen',capture_video_help:'Ge feedback med skrmdata',report_bug:'Rapportera en bugg',report_bug_help:'Lt oss veta vad som r trasigt',feature_request:'Funktionsbegran',feature_request_help:'Bertta fr oss hur vi kan frbttra oss',contact_us:'Kontakta oss',contact_us_help:'Kom i kontakt med oss',view_other_feedback:'Visa annan feedback',view_other_feedback_help:'Se vad som redan har skickats',your_name:'Ditt namn',your_email_address:'Din e-postadress',select_a_category:'Vlj en kategori',select_a_priority:'Vlj prioritet',assign_to:'Tilldelad',leave_us_your_comment:'Lmna en kommentar...',attach_a_screenshot:'Lmna en skrmdump',screenshot_attached:'screenshot',send:'Skicka',close:'Stnga',next:'Nsta',send_success:'Tack fr feedbacken!',save:'Spara',delete:'Radera',add_your_comment_here:'Ange din kommentar hr...',attach_a_file:'Bifoga en fil',file_format_not_supported:'Filformat stds inte',max:'Max',open_feedback:'feedback',search:'Sk...',cancel:'Avbryt',feedback_not_found:'Oops, ingen matchande feedback kunde hittas.',feedback_type_all:'Allt',feedback_type_general:'Allmn Feedback',feedback_type_bug:'Buggrapport',feedback_type_feature_request:'Funktionsbegran',feedback_type_screenshot:'Skrmdump',feedback_type_video:'Skrminspelning',this_page_only:'Endast denna sida',want_to_leave:'Du har ndringar som inte r sparade',changes_not_saved:'r du sker p att du vill stnga?',discard:'Slng',start_recording:'Start',recording_mute:'Stng av mikrofonen',recording_unmute:'Sl p mikrofonen',recording_pause:'Paus',recording_resume:'teruppta',recording_draw:'Dra',recording_finish:'Slutfr inspelningen'},// Suomi (Finnish)
'fi':{draw_on_the_screen:'Piirr nytlle',draw_on_the_screen_help:'Anna palautetta tietyist tmn sivun alueista',general_feedback:'Yleinen palaute',general_feedback_help:'Anna yleist palautetta tst sivusta',capture_video:'Nauhoitusnytt',capture_video_help:'Anna palautetta nytll',report_bug:'Ilmoita virheest',report_bug_help:'Kerro meille, mik on rikki',feature_request:'Ominaisuuspyynt',feature_request_help:'Kerro meille, kuinka voimme parantaa',contact_us:'Ota meihin yhteytt',contact_us_help:'Ota meihin yhteytt',view_other_feedback:'Nyt palautehistoria',view_other_feedback_help:'Katso, mit on jo lhetetty',your_name:'Nimesi',your_email_address:'Shkpostiosoitteesi',select_a_category:'Valitse kategoria',select_a_priority:'Valitse prioriteetti',assign_to:'Mrit',leave_us_your_comment:'Jt meille kommentti...',attach_a_screenshot:'liit kuvakaappaus',screenshot_attached:'screenshot',send:'Lhet',close:'Sulje',next:'Seuraava',send_success:'Kiitos palautteestasi!',save:'Tallenna',delete:'Poista',add_your_comment_here:'Kirjoita palautteesi thn...',attach_a_file:'Liit tiedosto',file_format_not_supported:'Tiedostoformaatti ei ole tuettu',max:'Maks',open_feedback:'avointa palautetta',search:'Etsi...',cancel:'Peruuta',feedback_not_found:'Ups, yhtn vastaavaa palautetta ei lytynyt.',feedback_type_all:'Kaikki',feedback_type_general:'Yleinen palaute',feedback_type_bug:'Virhe raportti',feedback_type_feature_request:'Ominaisuuspyynt',feedback_type_screenshot:'Nyttkuva',feedback_type_video:'Nytn tallennus',this_page_only:'Vain tm sivu',want_to_leave:'Joitakin muutoksia ei ole tallennettu',changes_not_saved:'Haluatko varmasti sulkea?',discard:'Hylk',start_recording:'Alkaa',recording_mute:'Sammuta mikrofoni',recording_unmute:'Kytke mikrofoni plle',recording_pause:'Tauko',recording_resume:'Jatka',recording_draw:'Piirr',recording_finish:'Lopeta nauhoitus'},// magyar (Hungarian)
'hu':{draw_on_the_screen:'Rajzolj a kpernyre',draw_on_the_screen_help:'Adj visszajelzst az oldal bizonyos terleteire',general_feedback:'ltalnos visszajelzs',general_feedback_help:'Adj ltalnos visszajelzst az oldalrl',capture_video:'Felvtel kperny',capture_video_help:'Visszajelzst adhat a kpernyfelvtelrl',report_bug:'Hiba bejelentse',report_bug_help:'Tudasd velnk, mi trt el',feature_request:'Funkcikrs',feature_request_help:'Mondja el, hogyan javthatunk',contact_us:'Lpjen kapcsolatba velnk',contact_us_help:'Lpjen kapcsolatba velnk',view_other_feedback:'Visszajelzsek megtekintse',view_other_feedback_help:'Nzze meg, hogy mi van mr bekldve',your_name:'A neved',your_email_address:'Email cm',select_a_category:'Kategria vlaszts',select_a_priority:'Vlasszon prioritst',assign_to:'Hozzrendelni',leave_us_your_comment:'Hagyj zenetet...',attach_a_screenshot:'Kpernykp mellkelse',screenshot_attached:'screenshot',send:'Klds',back:'vissza',remove:'Trls',close:'Bezrs',next:'Tovbb',send_success:'Ksznjk a visszajelzst!',save:'Ments',delete:'Trls',add_your_comment_here:'rja ide a megjegyzst...',attach_a_file:'Csatolmny',file_format_not_supported:'Fjl formtum nem tmogatott',max:'Max',open_feedback:'visszajelzs',search:'Keress...',cancel:'Mgse',feedback_not_found:'Hopp, nem talltunk megfelel visszajelzst.',feedback_type_all:'sszes',feedback_type_general:'ltalnos visszajelzs',feedback_type_bug:'Hibajelents',feedback_type_feature_request:'Funkcikrs',feedback_type_screenshot:'Pillanatkp',feedback_type_video:'Kperny felvtele',this_page_only:'Csak ez az oldal',want_to_leave:'Nem mentett mdostsaid vannak',changes_not_saved:'Biztosan bezrod?',discard:'Elvets',start_recording:'Rajt',recording_mute:'Kapcsolja ki a mikrofont',recording_unmute:'Kapcsolja be a mikrofont',recording_pause:'Sznet',recording_resume:'Folytassa',recording_draw:'Hz',recording_finish:'Befejezni a felvtelt'},// Czech
'cs':{draw_on_the_screen:'Kreslit na obrazovku',draw_on_the_screen_help:'Umouje velmi snadno oznait a okomentovat konkrtn sti tto strnky a odeslat jako obrzek s komenti',general_feedback:'Popsat chovn strnky',general_feedback_help:'Umouje velmi snadno komentovat chovn konkrtn strnky a odeslat tuto zptnou vazbu jako poadavek do Vaeho projektu',capture_video:'Natoit video',capture_video_help:'Umouje velmi snadno nasnmat chovn strnky a odeslat je jako video s komenti',report_bug:'Nahlsit chybu',report_bug_help:'Dejte nm vdt, co je rozbit',feature_request:'Budouc dost',feature_request_help:'eknte nm, jak se meme zlepit',contact_us:'Kontaktn info',contact_us_help:'Osobn kontakt',view_other_feedback:'Zobrazit historii poadavk',view_other_feedback_help:'Podvejte se, co ji bylo odeslno',your_name:'Vae jmno',your_email_address:'Vae emailov adresa',select_a_category:'Vbr kategorie',select_a_priority:'Zvolte prioritu',assign_to:'Piadit',leave_us_your_comment:'Vloit koment...',attach_a_screenshot:'Pipojit soubor',screenshot_attached:'screenshot',send:'Odeslat',back:'Zpt',remove:'Odebrat',close:'Zavt',next:'Dal',send_success:'Dkujeme za zptnou vazbu!',save:'Uloit',delete:'Smazat',add_your_comment_here:'Pidat koment k tto pozici...',attach_a_file:'Piloit soubor',file_format_not_supported:'Formt souboru nen podporovn',max:'Max',open_feedback:'poadavk',search:'Vyhledat...',cancel:'Stornovat',feedback_not_found:'dn poadavek nenalezen.',feedback_type_all:'Vechno',feedback_type_general:'Popsat chovn strnky',feedback_type_bug:'Zprva o chyb',feedback_type_feature_request:'Budouc dost',feedback_type_screenshot:'Snmek obrazovky',feedback_type_video:'Zznam obrazovky',this_page_only:'Pouze tato strnka',want_to_leave:'Existuj neuloen a neodeslan zmny.',changes_not_saved:'Opravdu chcete odejt a stornovat daje?',discard:'Zahodit',start_recording:'Spustit nahrvn',recording_mute:'Vypnte mikrofon',recording_unmute:'Zapnte mikrofon',recording_pause:'Pauza',recording_resume:'Obnovit',recording_draw:'Kreslit',recording_finish:'Dokonete nahrvn'},// Croatian
'cr':{draw_on_the_screen:'Crtaj po ekranu',draw_on_the_screen_help:'Poalji utiske sa slikom ekrana',capture_video:'Snimi video',capture_video_help:'Poalji utiske sa video snimkom ekrana',general_feedback:'Generalni utisci',general_feedback_help:'Poalji generalne utiske za ovu stranicu',report_bug:'Prijavite greku',report_bug_help:'Javite nam to je pokvareno',feature_request:'Zahtjev za znaajku',feature_request_help:'Recite nam kako se moemo poboljati',contact_us:'Kontaktiraj nas',contact_us_help:'Javi nam se',view_other_feedback:'Pogledaj druge prijave',view_other_feedback_help:'Pogledajte to je ve bilo poslano',your_name:'Tvoje ime',your_email_address:'Tvoja e-mail adresa',select_a_category:'Odaberi kategoriju',select_a_priority:'Odaberite prioritet',assign_to:'Namijeni za',leave_us_your_comment:'Napii svoj komentar ove',attach_a_screenshot:'Zakai sliku ekrana',screenshot_attached:'screenshot',send:'Poalji',back:'lea',remove:'Ukloni',close:'Zatvoriti',next:'Dalje',send_success:'Hvala na povratnoj informaciji!',save:'Sauvaj',delete:'delete',add_your_comment_here:'Napii svoj komentar...',attach_a_file:'Zakai fajl',file_format_not_supported:'Format datoteke nije podran',max:'Maksimum',open_feedback:'prijave',search:'Pretrai...',cancel:'Otkai',feedback_not_found:'Hm, ova prijava ne moe biti pronaena.',feedback_type_all:'Svi',feedback_type_general:'Generalni',feedback_type_bug:'Izvjee o grekama',feedback_type_feature_request:'Zahtjev za znaajku',feedback_type_screenshot:'Sliku ekrana',feedback_type_video:'Video',want_to_leave:'Imate nespremljene promjene',changes_not_saved:'Jeste li sigurni da elite zatvoriti?',discard:'Odbaciti',start_recording:'Zaponi snimanje',recording_mute:'Iskljui mikrofon',recording_unmute:'Ukljuite mikrofon',recording_pause:'Pauza',recording_resume:'Nastavi',recording_draw:'Crtati',recording_finish:'Zavri snimanje',video_not_supported:'Snimanje videa nije podrano',video_requires_https:'Sigurna HTTPS konekcija je neophodna za snimanje videa.',ok:'U redu'},// Latvian (Latvieu)
'lv':{draw_on_the_screen:'Zmt uz ekrna',draw_on_the_screen_help:'Izveidot atsauksmi ar ekrnuzmumu',capture_video:'Izveidot video',capture_video_help:'Izveidot atsauksmes video ar ekrna ierakstu',general_feedback:'Visprga atsauksme',general_feedback_help:'Nostt visprgu atsauksmi par o lapu',report_bug:'Ziot par kdu',report_bug_help:'Paziojiet mums, kas ir bojts',feature_request:'Funkcijas pieprasjums',feature_request_help:'Paststiet mums, k ms varam uzlabot',contact_us:'Sazinties',contact_us_help:'Sazinties ar mums',view_other_feedback:'Apskatt prjs atsauksmes',view_other_feedback_help:'Skatiet, kas jau ir iesniegts',your_name:'Jsu vrds',your_email_address:'Jsu e-pasta adrese',feedback_title:'Pievienojiet virsrakstu',select_a_category:'Izvlties kategoriju',select_a_priority:'Izvlieties prioritti',assign_to:'Uztict',leave_us_your_comment:'Atstjiet mums savu komentru',attach_a_screenshot:'Pievienot ekrnuzmumu',screenshot_attached:'Ekrnuzmums',send:'Nostt',back:'back',remove:'Remove',close:'Aizvrt',next:'Nkamais',send_success:'Paldies par atsauksmm!',save:'Saglabt',delete:'dzst',add_your_comment_here:'Ievadiet savu komentru...',attach_a_file:'Pievienojiet failu',file_format_not_supported:'Faila formts netiek atbalstts',max:'Maksimums',open_feedback:'feedback',search:'Meklt...',cancel:'Atcelt',feedback_not_found:'Ups, atsauksme nav atrodama.',feedback_type_all:'Visi',feedback_type_general:'Visprga',feedback_type_bug:'Kdu ziojums',feedback_type_feature_request:'Funkcijas pieprasjums',feedback_type_screenshot:'Ekrnuzmums',feedback_type_video:'Video',this_page_only:'Tikai  lapa',want_to_leave:'Jums ir nesaglabtas izmaias',changes_not_saved:'Vai esat prliecints, ka vlaties aizvrt?',discard:'Izmest',start_recording:'Skt ierakstu',recording_mute:'Izsldziet mikrofonu',recording_unmute:'Iesldziet mikrofonu',recording_pause:'Pauze',recording_resume:'Turpint',recording_draw:'Zmt',recording_finish:'Pabeidziet ierakstanu',video_not_supported:'Video ierakstana netiek atbalstta',video_requires_https:'Video ierakstanai ir nepiecieams dros HTTPS savienojums.',ok:'Labi'},setLang:function(language){this.language=language;},get:function(key,include_fallback){if(!Lang[Lang.language]){Lang.language='en';}if(Lang[Lang.language][key]){return Lang[Lang.language][key];}else{if(include_fallback){return Lang['en'][key]||'';}else{return'';}}}};var Feedback={request_url:'https://api.userback.io',proxy_url:'https://proxy-screenshot.userback.io',static_url:'https://static.userback.io',widget_css:'https://static.userback.io/widget/v1.css',scripts:{html2canvas:'https://static.userback.io/widget/slocal.min.js',rrweb:'https://static.userback.io/widget/record-1.1.3.min.js'},http_header:[],demo_mode:false,canvas_mode:false,canvas_target:false,controls_step:0,access_token:'',load_type:'web',// web, chrome_extension, firefox_extension, edge_extension
extension_domain_match:true,is_loaded:false,is_live_checked:false,is_live_checked_pending:false,// Set to true when Intercom binding has been setup
is_intercom_loaded:false,// Set to true when we can confirm the intercom sheet has been loaded
is_intercom_active:false,is_auto_screenshot:false,form_type:'general',// features
features:{multiple_screenshots:true,powered_by:true,widget_branding:true,widget_attachment:true,javascript_api:true,session_recording:true},session_data:{},configs:{categories:[],assignee:[],is_live:true,native_screenshot:false,portal_url:'',language:'en',display_feedback:false,display_powered_by:true,trigger_type:'page_load',// page_load, api, widget_url, url_match
page_load_delay:0,device_type:'desktop,tablet,phone',url_match_type:'',// starts, ends, contains, matches, not, regex
url_match_val:'',style:'text',// text circle text_icon
icon:0,// 0, 1, 2, 3
position:'se',display_tutorial:0,// 0, 1, 2
use_modal:false,feedback:[],main_button_text:'FEEDBACK',main_button_text_colour:'#FFFFFF',main_button_background_colour:'#2878F0',trigger_code:'',workflow_type:'bug,feature_request,general',// capture, video, general, bug, feature_request
logo:'',routing_item_order:'bug,feature_request,general',text_screenshot:'',text_screenshot_help:'',text_video:'',text_video_help:'',text_bug:'',text_bug_help:'',text_feature_request:'',text_feature_request_help:'',text_general:'',text_general_help:'',text_view_other:'',text_view_other_help:'',help_link:'',help_title:'',help_message:'',direct_to_bug:'form',// form, screenshot, video
direct_to_feature_request:'form',// form, screenshot, video
direct_to_general:'form',// form, screenshot, video
portal_target:'redirect',// redirect, window, widget
video_time:180,attachment_size:5,auto_screenshot:false,capture_event:false,capture_console_log:false,capture_console_error:false,capture_console_warn:false,capture_console_info:false,capture_console_debug:false,session_recording:false,form_settings:{},recording_rules:{block:['.userback-block'],ignore:['.userback-ignore'],mask:['input[type="password"]'],screenshot:[]}},form_settings_default:{bug:{allow_session_recording:false,allow_screenshot:true,allow_video:false,allow_attachment:false,rating_type:'',rating_help_message:'',rating_mandatory:false,send_button_text:'',name_field:false,name_field_mandatory:false,email_field:true,email_field_mandatory:true,title_field:false,title_field_mandatory:false,title_field_placeholder:'',comment_field:true,comment_field_mandatory:false,comment_field_placeholder:'',display_category:false,display_priority:false,display_assignee:false,category_field_mandatory:false,priority_field_mandatory:false,assignee_field_mandatory:false,custom_field_1_type:'',custom_field_1_label:'',custom_field_1_mandatory:false,outro_icon_colour:'#2878F0',outro_icon:1,outro_headline:'Thank you!',outro_paragraph:'We really appreciate your feedback.'},feature_request:{allow_session_recording:false,allow_screenshot:true,allow_video:false,allow_attachment:false,rating_type:'',rating_help_message:'',rating_mandatory:false,send_button_text:'',name_field:false,name_field_mandatory:false,email_field:true,email_field_mandatory:true,title_field:false,title_field_mandatory:false,title_field_placeholder:'',comment_field:true,comment_field_mandatory:false,comment_field_placeholder:'',display_category:false,display_priority:false,display_assignee:false,category_field_mandatory:false,priority_field_mandatory:false,assignee_field_mandatory:false,custom_field_1_type:'',custom_field_1_label:'',custom_field_1_mandatory:false,outro_icon_colour:'#2878F0',outro_icon:1,outro_headline:'Thank you!',outro_paragraph:'We really appreciate your feedback.'},general:{allow_session_recording:false,allow_screenshot:true,allow_video:false,allow_attachment:false,rating_type:'',rating_help_message:'',rating_mandatory:false,send_button_text:'',name_field:false,name_field_mandatory:false,email_field:true,email_field_mandatory:true,title_field:false,title_field_mandatory:false,title_field_placeholder:'',comment_field:true,comment_field_mandatory:false,comment_field_placeholder:'',display_category:false,display_priority:false,display_assignee:false,category_field_mandatory:false,priority_field_mandatory:false,assignee_field_mandatory:false,custom_field_1_type:'',custom_field_1_label:'',custom_field_1_mandatory:false,outro_icon_colour:'#2878F0',outro_icon:1,outro_headline:'Thank you!',outro_paragraph:'We really appreciate your feedback.'}},// overwrite configs
widget_settings:{},ui:{element:null,button:null,overlay:null,controls:null,feedback_view:null},overlay_hint_tooltip_added:false,mime_type:'image/jpeg',compression_rate:1,has_touch:function(){return'ontouchstart'in window;}(),email:'',// default email
name:'',categories:'',priority:null,assignee:0,user_data:{},custom_data:{},// additional data sent along with feedback form
// api callbacks
before_send:null,after_send:null,on_open:null,on_close:null,on_load:null,on_load_error:null,// @NOTE: Replaces showing form controls with callback function call
on_toolbar_submit:null,on_toolbar_close:null,screenshot_data_uri:[],screenshot_ratio:'landscape',screenshot_limit:5,attachment_data_uri:'',attachment_file_name:'',video_blob:null,video_url:'',video_annotation:[],local_styles:[],form_data:{rating:'',name:'',email:'',title:'',description:'',category:'',priority:'',assignee:'',custom_field_1:''},comments:[],init:function(){if(Userback.demo_mode!==undefined){this.demo_mode=!!Userback.demo_mode;}if(Userback.canvas_mode!==undefined){this.canvas_mode=!!Userback.canvas_mode;this.canvas_target=Userback.canvas_target;}if(Userback.is_live===true){this.configs.is_live=true;this.configs.is_live_checked=true;}if(Userback.is_live===false){this.configs.is_live=false;this.configs.is_live_checked=true;}if(Userback.native_screenshot===true){this.configs.native_screenshot=true;}if(Userback.request_url!==undefined){this.request_url=Userback.request_url;}if(Userback.proxy_url!==undefined){this.proxy_url=Userback.proxy_url;}if(Userback.widget_css!==undefined){this.widget_css=Userback.widget_css;}if(Userback.access_token!==undefined){this.access_token=Userback.access_token.toString();}if(Userback.load_type!==undefined){this.load_type=Userback.load_type;}if(Userback.session_data!==undefined){this.session_data=Userback.session_data;}// on load error doesn't need API feature
if(Userback.on_load_error!==undefined){this.on_load_error=Userback.on_load_error;}this.configs.form_settings=this.form_settings_default;Lib.setUAData();this.loadConfigs();},checkLive:function(){if(this.configs.is_live_checked){return;}if(this.configs.is_live_checked_pending){return;}if(this.load_type!=='web'||this.configs.native_screenshot){this.configs.is_live=true;this.configs.is_live_checked=true;return;}this.configs.is_live_checked_pending=true;$.ajax(this.request_url+'/?checkLive',{data:{action:'widget/checkLive',access_token:this.access_token,page:window.location.href},crossDomain:true,dataType:'json',type:'POST',context:this,success:function(response){if(typeof response.is_live!=='undefined'){this.configs.is_live=!!response.is_live;this.configs.is_live_checked=true;if(this.check_live_callback){this.check_live_callback();this.check_live_callback=null;}if(!this.configs.is_live){this.loadScripts([this.scripts.html2canvas]);}}},complete:function(){this.configs.is_live_checked_pending=false;}});},loadScripts:function(scripts,callback){var load_count=0;scripts.forEach(function(script_url){$.ajax({url:script_url,cache:true,dataType:'script',context:this,success:function(){load_count++;if(load_count==scripts.length&&typeof callback!=='undefined'){callback();}}});});},// load account configs
loadConfigs:function(){if(!Userback||this.load_type==='web'&&!this.access_token){return;}if($('#userback_button_container[loadtype="'+this.load_type+'"]').length){return;}var cached_widget_settings=Lib.storage.get('widget_settings_'+this.access_token);var cached_widget_settings_time=Lib.storage.get('widget_settings_'+this.access_token+'_time');try{var cache_time=10000;// 10 seconds
if(cached_widget_settings&&cached_widget_settings_time&&new Date().getTime()-cached_widget_settings_time<=cache_time){this.loadConfigSuccess.call(this,JSON.parse(cached_widget_settings));return;}}catch(e){}$.ajax(this.request_url+'/?loadWidgetConfig',{data:{action:'widget/loadConfig',domain:document.domain||'',pathname:window.location.pathname,page:window.location.href,load_type:this.load_type,access_token:this.access_token,demo:this.demo_mode},crossDomain:true,dataType:'json',type:'POST',context:this,success:function(response){try{Lib.storage.set('widget_settings_'+this.access_token,JSON.stringify(response));Lib.storage.set('widget_settings_'+this.access_token+'_time',new Date().getTime());}catch(e){}this.loadConfigSuccess.call(this,response);}});},loadConfigSuccess:function(response){if(typeof response.is_live!=='undefined'){this.configs.is_live=!!response.is_live;this.configs.is_live_checked=true;}if(!response&&this.on_load_error){this.on_load_error();return;}if(response===false&&(this.load_type==='chrome_extension'||this.load_type==='firefox_extension'||this.load_type==='edge_extension')){this.extension_domain_match=false;this.addCSS(function(){});return;}if(!response){return;}if(typeof response.features!=='undefined'){this.features=$.extend(this.features,response.features);}// migrate
response.workflow_type.replace('form','general');if(this.features.javascript_api===true){this.setAPIHooks();this.configs=$.extend(true,this.configs,response,this.widget_settings);}else{this.configs=$.extend(this.configs,response);}if(this.configs.workflow_type==='bug'||this.configs.workflow_type==='feature_request'||this.configs.workflow_type==='general'){this.form_type=this.configs.workflow_type;}if(!response.has_native_screenshot&&this.configs.native_screenshot){this.configs.native_screenshot=false;console.warn('Native screenshot is not available in your plan.');}if(this.configs.trigger_code){var ubwc=Lib.getQueryString('ubwc');if(!ubwc){ubwc=Lib.storage.get('ubwc');}if(ubwc&&ubwc===this.configs.trigger_code){this.configs.trigger_type='page_load';Lib.storage.set('ubwc',ubwc);}}if(!this.configs.capture_event){Userback.Event_Recorder.stop();}if(!this.configs.capture_console_log){Userback.Console_Recorder.stop('log');}if(!this.configs.capture_console_error){Userback.Console_Recorder.stop('error');}if(!this.configs.capture_console_warn){Userback.Console_Recorder.stop('warn');}if(!this.configs.capture_console_info){Userback.Console_Recorder.stop('info');}if(!this.configs.capture_console_debug){Userback.Console_Recorder.stop('debug');}Lang.setLang(this.configs.language);if(this.isTargetingMatched()){if(this.hasSessionRecording()){Session_Recorder.init();}this.addCSS(()=>{setTimeout(()=>{this.addButton();this.is_loaded=true;if(this.on_load){this.on_load.call(Userback_Api);}},this.configs.page_load_delay*1000);});}else{Userback.Event_Recorder.stop();Userback.Console_Recorder.stop();}// Attempt to setup the Intercom integration immediately
this.setupIntercom();// If intercom is loaded or the Obserber is already active we don't need to bind/rebind the observer
if(Feedback.is_intercom_loaded===true||typeof Feedback.IntercomObserver!=='undefined'){return;}// Intercom isn't loaded so we watch for the Intercom iframe loading after Userback
Feedback.IntercomObserver=new MutationObserver(muts=>{const intercom_muts=muts.filter(mut=>[...mut.addedNodes].filter(node=>node.id==='intercom-frame').length>0);if(intercom_muts.length>0){Feedback.setupIntercom();}});Feedback.IntercomObserver.observe(document.body,{childList:true});},setupIntercom:function(){// Ensure intercom is being used before we start integrating
if(typeof window?.intercomSettings==='undefined'||typeof window?.Intercom==='undefined'||Feedback.is_intercom_loaded){return;}Feedback.is_intercom_loaded=true;Feedback.on_toolbar_close=function IntercomCloseHandler(){if(!Feedback.is_intercom_active){return true;}Intercom('show');return false;};// Setup on submit handling
Feedback.on_toolbar_submit=function IntercomSubmitHandler(data){if(!Feedback.is_intercom_active){return true;}Intercom('show');setTimeout(()=>{get_sheet_window().postMessage({type:'userback',action:'attachment',payload:data},'*');},200);return false;};// Handle Intercom Sheet Events
window.addEventListener('message',msg=>{if(typeof msg.data!=='object'||msg.data.type!=='userback'){return;}const{action,payload}=msg.data;switch(action){case'request_init':Feedback.is_intercom_active=true;return post_init();case'screenshot':Intercom('hide');return window.Userback.open('general','screenshot');case'video':Intercom('hide');return window.Userback.open('general','video');case'get_data':const payload=Feedback.getData();const video_blob=Feedback.video_blob||undefined;return get_sheet_window().postMessage({type:'userback',action:'send_data',request_url:Feedback.request_url,payload,video_blob},'*');default:return;}});// Get the inner intercom sheet frame or undefined
const get_sheet_window=()=>{const messenger=document.querySelector('iframe[name="intercom-messenger-frame"]');if(!messenger){return console.debug('No Messeneger iframe found!');}const iframe=messenger.contentDocument.querySelector('iframe');if(!iframe){return console.debug('No Sheet iframe found!');}return iframe.contentWindow[0];};const post_init=()=>{const form_settings=Feedback.getFormSettings(Feedback.form_type);return get_sheet_window()?.postMessage({type:'userback',action:'init',payload:{powered_by:Feedback.configs.display_powered_by,display_video:Feedback.configs.has_video&&!Lib.isMobile()&&!Lib.isTablet()}},'*');};},hasSessionRecording:function(){var has_session_recording=false;if(this.features.session_recording){$.each(this.configs.form_settings,function(key,settings){if(settings.allow_session_recording){has_session_recording=true;}});}return has_session_recording;},getFormSettings:function(form_type){if(typeof this.configs.form_settings[form_type]==='undefined'){return this.form_settings_default[form_type];}else{return this.configs.form_settings[form_type];}},validateAPIHook:function(name,obj){switch(name){case'before_send':case'after_send':case'on_open':case'on_close':case'on_load':case'on_toolbar_close':return typeof obj[name]==='function';case'email':case'name':return typeof obj[name]==='string';case'categories':return typeof obj[name]==='string';case'priority':return typeof obj[name]==='string';case'widget_settings':return typeof obj[name]==='object';case'user_data':return typeof obj[name]==='object'&&obj[name].id!==undefined&&obj[name].info!==undefined;case'custom_data':return typeof obj[name]==='object';// options
case'is_live':case'native_screenshot':return typeof obj[name]==='boolean';}},removeAPIHooks:function(){var api_hooks={before_send:null,after_send:null,on_open:null,on_close:null,on_load:null,on_toolbar_close:null,email:'',name:'',categories:'',priority:null,widget_settings:{},user_data:{},custom_data:{}};Object.keys(api_hooks).forEach(key=>{this[key]=api_hooks[key];delete window.Userback[key];});},setAPIHooks:function(){/*
                {
                    id: 123456,
                    info: {
                        email : 'someone@example.com', // reserved keyword
                        name  : 'someone',             // reserved keyword
                        plan  : 'something'
                    }
                }
                */if(this.validateAPIHook('user_data',Userback)){Userback.identify(Userback.user_data.id,Userback.user_data.info);}if(this.validateAPIHook('custom_data',Userback)){Userback.setData(Userback.custom_data);}if(this.validateAPIHook('before_send',Userback)){this.before_send=Userback.before_send;}if(this.validateAPIHook('after_send',Userback)){this.after_send=Userback.after_send;}if(this.validateAPIHook('on_open',Userback)){this.on_open=Userback.on_open;}if(this.validateAPIHook('on_close',Userback)){this.on_close=Userback.on_close;}if(this.validateAPIHook('on_load',Userback)){this.on_load=Userback.on_load;}if(this.validateAPIHook('on_toolbar_close',Userback)){this.on_toolbar_close=Userback.on_toolbar_close;}if(this.validateAPIHook('email',Userback)){Userback.setEmail(Userback.email);}if(this.validateAPIHook('name',Userback)){Userback.setName(Userback.name);}if(this.validateAPIHook('categories',Userback)){Userback.setCategories(Userback.categories);}if(this.validateAPIHook('priority',Userback)){Userback.setPriority(Userback.priority);}if(this.validateAPIHook('widget_settings',Userback)){this.widget_settings=Userback.widget_settings;// migrate
if(typeof this.widget_settings.display_attachment!=='undefined'){this.widget_settings.allow_attachment=this.widget_settings.display_attachment;delete this.widget_settings.display_attachment;}// migrate old setting
if(typeof this.widget_settings.autohide!=='undefined'){this.widget_settings.trigger_type=this.widget_settings.autohide?'api':'page_load';delete this.widget_settings.autohide;}if(typeof this.widget_settings.form_settings==='undefined'){this.widget_settings.form_settings={};}if(typeof this.widget_settings.form_settings.bug==='undefined'){this.widget_settings.form_settings.bug={};}if(typeof this.widget_settings.form_settings.feature_request==='undefined'){this.widget_settings.form_settings.feature_request={};}if(typeof this.widget_settings.form_settings.general==='undefined'){this.widget_settings.form_settings.general={};}$.each(this.widget_settings,(key,value)=>{if(typeof this.configs.form_settings.general[key]!=='undefined'){// it is a form setting
if(typeof this.widget_settings.form_settings.bug[key]==='undefined'){this.widget_settings.form_settings.bug[key]=value;}if(typeof this.widget_settings.form_settings.feature_request[key]==='undefined'){this.widget_settings.form_settings.feature_request[key]=value;}if(typeof this.widget_settings.form_settings.general[key]==='undefined'){this.widget_settings.form_settings.general[key]=value;}delete this.widget_settings[key];}});if(!this.features.widget_branding){delete this.widget_settings.logo;}if(!this.features.powered_by){delete this.widget_settings.display_powered_by;}if(!this.features.widget_attachment){delete this.widget_settings.allow_attachment;delete this.widget_settings.form_settings.bug.allow_attachment;delete this.widget_settings.form_settings.feature_request.allow_attachment;delete this.widget_settings.form_settings.general.allow_attachment;}}},isTargetingMatched:function(){if(Feedback.load_type==='chrome_extension'||Feedback.load_type==='firefox_extension'||Feedback.load_type==='edge_extension'){return true;}var device_match=false;var url_match=true;if(this.configs.device_type.indexOf('desktop')!==-1&&Lib.isDesktop()||this.configs.device_type.indexOf('table')!==-1&&Lib.isTablet()||this.configs.device_type.indexOf('phone')!==-1&&Lib.isMobile()){device_match=true;}if(!this.demo_mode&&this.configs.trigger_type==='url_match'&&this.configs.url_match_val){var window_location=window.location.origin+window.location.pathname;switch(this.configs.url_match_type){case'starts':url_match=window_location.indexOf(this.configs.url_match_val)===0;break;case'ends':var regexp=new RegExp(Lib.escapeRegExp(this.configs.url_match_val)+'$');url_match=regexp.test(window_location)?true:false;break;case'contains':url_match=window_location.indexOf(this.configs.url_match_val)!==-1;break;case'matches':url_match=window_location===this.configs.url_match_val;break;case'not':url_match=window_location!==this.configs.url_match_val;break;case'regex':var regexp=new RegExp(this.configs.url_match_val);url_match=regexp.test(window_location)?true:false;break;}}return device_match&&url_match?true:false;},isMobile:function(){var temp_element=$('<div>').addClass('userback-mobile-only').appendTo($(document.body));var is_mobile=temp_element.is(':visible')?true:false;temp_element.remove();return is_mobile;},isAutoHide:function(){if(Feedback.load_type==='chrome_extension'||Feedback.load_type==='firefox_extension'||Feedback.load_type==='edge_extension'||this.configs.trigger_type==='api'||this.configs.trigger_type==='widget_url'||this.canvas_mode){return true;}return false;},// add css file
addCSS:function(callback){// CSS file
var parent_node=document.head||document.body;$('<link>').attr({'rel':'stylesheet','class':'userback-css','crossorigin':'','href':this.widget_css}).appendTo($(parent_node));var self=this;var _interval_id=setInterval(function(){var detector=$('<div>').addClass('userback-load-detector').appendTo($(document.body));if(detector.css('z-index')==1999){callback.call(self);clearInterval(_interval_id);}detector.remove();},10);// Branding CSS
var branding_css=':root {'+'--widget-button-bg: '+this.configs.main_button_background_colour+' !important;'+'--widget-button-text: '+this.configs.main_button_text_colour+' !important;'+'}';$('<style>').html(branding_css).appendTo($(document.body));},// add the feedback button
addButton:function(){if(this.ui.button){this.ui.button.remove();}// container
this.ui.element=$('<ubdiv>').addClass('userback-button-container').attr({'loadtype':this.load_type,'id':'userback_button_container','data-html2canvas-ignore':'true'}).appendTo($(document.body));if(Lib.isIE()){this.ui.element.attr('msie','true');}this.ui.button=$('<ubdiv>').addClass('userback-button userback-button-'+this.configs.position);if(this.configs.trigger_type==='api'||this.configs.use_modal){this.ui.element.attr('modal','true');}var icon_svg='';switch(this.configs.icon){case 1:icon_svg=Svg_Icons.widget_chat;break;case 2:icon_svg=Svg_Icons.widget_comment_smile;break;case 3:icon_svg=Svg_Icons.widget_video;break;case 4:icon_svg=Svg_Icons.widget_question;break;case 5:icon_svg=Svg_Icons.widget_stars;break;case 6:icon_svg=Svg_Icons.widget_bug;break;}var widget_style=this.configs.style;if(icon_svg&&this.configs.style==='text'){widget_style='text_icon';}// something is wrong
if(!icon_svg&&this.configs.style==='circle'){icon_svg=Svg_Icons.widget_chat;}this.ui.button.attr('wstyle',widget_style).attr('wicon',this.configs.icon);if(this.isAutoHide()){this.ui.button.hide();}if(widget_style==='circle'){this.ui.button.attr('title',this.configs.main_button_text);this.ui.button.html(icon_svg);}else if(widget_style==='text_icon'){this.ui.button.html(icon_svg+Lib.htmlEntities(this.configs.main_button_text));}else{this.ui.button.text(this.configs.main_button_text);}this.ui.button.appendTo(this.ui.element);this.ui.button.on('click',this.openControls.bind(this));// fix half pixel
if(!this.isAutoHide()&&this.configs.style==='text'&&(this.configs.position==='e'||this.configs.position==='w')){if(navigator.userAgent.indexOf('Chrome')||navigator.userAgent.indexOf('chrome')){var button_width=this.ui.button.outerWidth();if(button_width%2===1){button_width++;}this.ui.button.css('min-width',button_width);}}this.ui.button.on('click mouseup mousedown',function(e){e.stopPropagation();});if(Lib.getQueryString('ubwo')==1){Userback_Api.open();}$(window).on('beforeunload',e=>{if(this.hasUnsavedChanges()||this.is_posting){e.returnValue='Are you sure you want to leave the page?';return'Are you sure you want to leave the page?';}});},setScreenStatus:function(message){if(!this.ui.screen_status){this.ui.screen_status=$('<ubdiv>').addClass('userback-screen-status').attr('data-html2canvas-ignore','true');this.ui.screen_status.appendTo($(document.body));}this.ui.screen_status.text(message);},clearScreenStatus:function(){if(this.ui.screen_status){this.ui.screen_status.remove();this.ui.screen_status=false;}},modalMessage:function(message){var modal_overlay=$('umodal');if(!modal_overlay.length){modal_overlay=$('<umodal>').appendTo($(document.body));}modal_overlay.empty();var modal=$('<ubdiv>').html(message).appendTo(modal_overlay);var modal_close=$('<uclose>').addClass('userback-modal-close').html(Svg_Icons.times).appendTo(modal);var _documentKeyup=e=>{if(e.which===27){this.modalClose();$(document).off('keyup',_documentKeyup);}};$(document).on('keyup',_documentKeyup);modal_close.on('click',this.modalClose);$(document.body).addClass('userback-modal-open');return modal_overlay;},modalConfirm:function(message,confirm_func,button_text){button_text=button_text||Lang.get('discard');var buttons='<div class="userback-modal-buttons">'+'<btn>'+Lang.get('cancel')+'</btn>'+'<btn class="userback-button-input">'+button_text+'</btn>'+'</div>';var modal_overlay=this.modalMessage(message+buttons);modal_overlay.find('.userback-modal-buttons btn:first').on('click',this.modalClose);modal_overlay.find('.userback-modal-buttons btn:last').on('click',confirm_func);},modalClose:function(){$('umodal').remove();$(document.body).removeClass('userback-modal-open');},addNativeScreenshot:function(image_data_uri){this.native_image_data_uri=image_data_uri;this.addOverlay(image_data_uri);},// add the overlay
addOverlay:function(image_data_uri){if(this.ui.overlay){return;}this.checkLive();this.ui.element.attr('drawing','true');// hide widget
this.hideControls();var dpr=typeof window.devicePixelRatio==='undefined'?1:window.devicePixelRatio;// create overlay
this.ui.overlay=$('<ubdiv>').addClass('userback-overlay').html('<ubdiv class="userback-overlay-boundary-top"></ubdiv>'+'<ubdiv class="userback-overlay-boundary-bottom"></ubdiv>'+'<ubdiv class="userback-overlay-boundary-left"></ubdiv>'+'<ubdiv class="userback-overlay-boundary-right"></ubdiv>').attr('data-html2canvas-ignore','true').attr('lang',Feedback.configs.language).attr('dpr',dpr.toFixed(2)).attr('tooltype',this.Tools.type);if(this.canvas_mode){this.ui.overlay.attr('canvas','true');}this.ui.overlay.appendTo($(document.body));this.setOverlaySize();if(image_data_uri){this.ui.overlay.append('<ubdiv id="native_screenshot"><img src="'+image_data_uri+'"></ubdiv>');}this.ui.overlay.append('<svg id="snap_svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"></svg>');// svg
this.Tools.init();this.removeComments();// destroy the hidden comments
this.ui.overlay.on('click mouseup mousedown mouseout mousemove mouseenter mouseleave touchstart touchmove touchcancel touchend',e=>{if(this.Tools.dragging_obj||this.Tools.draw_started){return;}e.stopPropagation();});// reset to false
this.overlay_hint_tooltip_added=false;var _setTooltipPos=e=>{if(!this.ui.overlay_hint_tooltip){return;}if(this.canvas_mode){this.ui.overlay_hint_tooltip.css({top:e.offsetY,left:e.offsetX+5});}else{this.ui.overlay_hint_tooltip.css({top:e.clientY,left:e.clientX+5});}};this.ui.overlay.on('mouseenter',e=>{if(!this.ui.overlay.attr('screenshot-capturing')&&!this.ui.overlay_hint_tooltip&&!this.overlay_hint_tooltip_added){this.ui.overlay_hint_tooltip=$('<div>').addClass('userback-overlay-hint-cursor');_setTooltipPos(e);this.ui.overlay_hint_tooltip.appendTo(this.ui.overlay);}});this.ui.overlay.on('mousemove',e=>{_setTooltipPos(e);});this.ui.overlay.on('mouseleave',()=>{if(this.ui.overlay_hint_tooltip){this.ui.overlay_hint_tooltip.remove();}this.ui.overlay_hint_tooltip=false;});$(window).on('resize',this.windowResize.bind(this));},setOverlaySize:function(){if(!this.canvas_mode){return;}if(!this.ui.overlay){return;}var canvas_target=$(this.canvas_target);var canvas_target_offset=canvas_target.offset();var canvas_target_width=canvas_target.width();var canvas_target_height=canvas_target.height();this.ui.overlay.css({top:canvas_target_offset.top,left:canvas_target_offset.left,width:canvas_target_width,height:canvas_target_height});},Tools:{type:'square',// arrow, square, line, path, comment
colour:{options:['#E80000','#FF7E42','#FFD042','#84FF42','#42FFE6','#2878F0','#7828F0','#FF42F9','#FFFFFF','#000000'],value:Lib.storage.get('userback_tool_colour')||'#E80000'},start_x:0,start_y:0,stop_x:0,stop_y:0,path_min_x:0,path_min_y:0,path_max_x:0,path_max_y:0,svg_delete_icons:[],annotation_count:0,// cut outs
cut_outs:[],// base path
svg_obj_base_path:false,// arrow
svg_obj_arrow_group:false,svg_obj_new_arrow:false,svg_obj_new_arrow_top:false,// line
svg_obj_line:false,// square
svg_obj_rectangular:false,// path
svg_obj_path:false,draw_started:false,dragging_obj:false,toolbar:null,min_drag_distance:10,toolbar_is_hidden:false,init:function(){this.snap=Snap('#snap_svg');this.svg_obj_base_path=this.snap.path();this.svg_obj_base_path.attr({'fill':'rgb(128, 144, 160)','fill-opacity':Feedback.canvas_mode?0:0.3,'fill-rule':'evenodd'});this.setBasePathSize();// mouse
this.snap.drag(this.dragMove.bind(this),this.dragStart.bind(this),this.dragStop.bind(this));// touch
this.snap.touchstart(this.dragStart.bind(this));this.snap.touchmove(this.dragMove.bind(this));this.snap.touchcancel(this.dragStop.bind(this));this.snap.touchend(this.dragStop.bind(this));this.addTools();},setBasePathSize:function(){if(!this.svg_obj_base_path){return;}var base_width=$('#snap_svg').width();var base_height=$('#snap_svg').height();var path='M0 0 h'+base_width+' v'+base_height+' h-'+base_width+' Z';for(var i=0;i<this.cut_outs.length;i++){path+=' M'+this.cut_outs[i].x+' '+this.cut_outs[i].y+' h'+this.cut_outs[i].w+' v'+this.cut_outs[i].h+' h-'+this.cut_outs[i].w+' Z';}this.svg_obj_base_path.attr('path',path);},addTools:function(){if(Lib.isTouch()){Feedback.disableScroll();}if(this.toolbar){return;}var tool_colour_indicator='';tool_colour_indicator+='<ubdiv class="userback-toolbar-tool-colour-indicator">';tool_colour_indicator+='<ubcolourpicker>';$.each(this.colour.options,function(index,colour){tool_colour_indicator+='<ubdiv class="userback-toolbar-tool-colour-indicator-option" data-colour="'+colour+'">'+'<span style="background-color:'+colour+';"'+(colour==='#FFFFFF'?' hasborder="1"':'')+'></span>'+'</ubdiv>';});tool_colour_indicator+='</ubcolourpicker>';tool_colour_indicator+='</ubdiv>';var display_tutorial=false;if(Feedback.configs.display_tutorial==1){display_tutorial=true;// always
}else if(Feedback.configs.display_tutorial==2){display_tutorial=Lib.storage.get('userback_tool_tutorial')?false:true;// first time
}var tools='<btn class="userback-toolbar-tool userback-toolbar-tool-square" data-type="square" title="'+Lang.get('highlight',false)+'">'+Svg_Icons.square+'</btn>'+'<btn class="userback-toolbar-tool userback-toolbar-tool-path" data-type="path" title="'+Lang.get('pencil',false)+'">'+Svg_Icons.highlighter+'</btn>'+'<btn class="userback-toolbar-tool userback-toolbar-tool-line" data-type="line" title="'+Lang.get('line',false)+'">'+Svg_Icons.line+'</btn>'+'<btn class="userback-toolbar-tool userback-toolbar-tool-arrow" data-type="arrow" title="'+Lang.get('arrow',false)+'">'+Svg_Icons.arrow+'</btn>'+'<btn class="userback-toolbar-tool userback-toolbar-tool-blackout" data-type="blackout" title="'+Lang.get('blackout',false)+'">'+Svg_Icons.blackout+'</btn>'+'<btn class="userback-toolbar-tool userback-toolbar-tool-text" data-type="text" title="'+Lang.get('text',false)+'">'+Svg_Icons.text+'</btn>'+'<btn class="userback-toolbar-tool userback-toolbar-tool-colour" data-type="colour">'+tool_colour_indicator+'</btn>'+'<btn class="userback-toolbar-tool-done'+(Feedback.canvas_mode?' userback-toolbar-tool-done-active':'')+'" title="'+Lang.get('capture_screenshot',false)+'">'+Svg_Icons.tick+'<span>'+(Lang.get('next')?Lang.get('next'):Lang.get('save'))+'</span>'+'</btn>'+(Feedback.canvas_mode?'':'<btn class="userback-toolbar-close" title="'+Lang.get('close')+'">'+Svg_Icons.close+'</btn>')+(display_tutorial?'<btn class="userback-toolbar-help">'+Svg_Icons.widget_question+'</btn>':'');this.toolbar=$('<utoolbar>').attr('data-html2canvas-ignore','true').attr('lang',Feedback.configs.language);this.toolbar.html(tools);this.setToolColour();this.toolbar.appendTo($(document.body));this.toolbar.on('mouseenter',()=>{if(this.draw_started||this.dragging_obj){this.toolbar.css('opacity','0.5');}});this.toolbar.on('mouseleave',()=>{this.toolbar.css('opacity','');});// set default tool
this.toolbar.find('.userback-toolbar-tool[data-type="'+this.type+'"]').addClass('userback-toolbar-tool-active');this.toolbar.find('.userback-toolbar-tool').on('click',e=>{var tool_type=$(e.currentTarget).data('type');if(tool_type==='colour'){return;}else if(tool_type==='blackout'){this.colour.value='#000000';this.setToolColour();}else{this.colour.value=Lib.storage.get('userback_tool_colour')||this.colour.value;this.setToolColour();}Feedback.closeEmptyComment();this.type=tool_type;this.toolbar.find('.userback-toolbar-tool').removeClass('userback-toolbar-tool-active');$(e.currentTarget).addClass('userback-toolbar-tool-active');Feedback.ui.overlay.attr('tooltype',this.type);});this.toolbar.find('.userback-toolbar-tool-done').on('click',e=>{// debugger;
e.stopPropagation();e.preventDefault();if(!Feedback.configs.is_live_checked){Feedback.check_live_callback=function(){Feedback.Tools.submitAnnotation();};Feedback.closeEmptyComment();Feedback.Tools.removeTools();Feedback.hideComments();Feedback.setScreenStatus('Taking screenshot...');return;}Feedback.Tools.submitAnnotation();Session_Recorder.addCustomEvent('widget_open',{type:'widget_interaction',name:'Capture Screenshot'});});this.toolbar.find('.userback-toolbar-close').on('click',e=>{e.stopPropagation();e.preventDefault();this.cancelAnnotation();});this.toolbar.find('.userback-toolbar-help').on('click',function(e){Lib.storage.set('userback_tool_tutorial',1);Feedback.videoFullscreen(e,'https://static.userback.io/video/widget_tutorial_v2.mp4');});this.toolbar.find('.userback-toolbar-tool-colour-indicator-option').on('click',e=>{var colour=$(e.currentTarget).data('colour');var tool_type=$(e.currentTarget).parents('.userback-toolbar-tool:first').data('type');this.colour.value=colour;Lib.storage.set('userback_tool_colour',colour);this.setToolColour();});this.toolbar.on('click',function(e){e.stopPropagation();});},cancelVideoCapture:function(){this.cancelRoutingOption();},submitVideoCapture:function(video_blob,annotations){Feedback.removeScreenshotData();Feedback.video_blob=video_blob;Feedback.video_url=window.URL.createObjectURL(video_blob);Feedback.video_annotation=annotations;Feedback.controls_step=2;if(typeof Feedback.on_toolbar_submit==='function'){const propagate_ui=Feedback.on_toolbar_submit({video_url:Feedback.video_url,video_annotation:Feedback.video_annotation});if(propagate_ui!==false){Feedback.showControls(true);}}else{Feedback.showControls(true);}Feedback.addScreenshotBadge();Feedback.renderAttachment(true);// attachment got reset, so update it again
},cancelAnnotation:function(e){this.cancelRoutingOption();},autoScreenshot:function(callback){Feedback.capture(function(data_uri){if(Feedback.canvas_mode){Feedback.screenshot_data_uri.push({data_uri:Lib.replaceUnpairedSurrogates(data_uri),window_x:window.innerWidth,window_y:document.body.scrollHeight,window_top:0,window_left:0});}else{Feedback.screenshot_data_uri.push({data_uri:Lib.replaceUnpairedSurrogates(data_uri),window_x:window.innerWidth,window_y:window.innerHeight,window_top:$(window).scrollTop()||$(document).scrollTop(),window_left:$(window).scrollLeft()||$(document).scrollLeft()});}callback();});},submitAnnotation:function(){Feedback.removeVideoData();// don't capture the overlay when there is no annotations
if(Feedback.Tools.annotation_count===0){if(Feedback.ui.overlay){Feedback.ui.overlay.addClass('_userback-blank');}}Feedback.submitUnsavedComment();Feedback.closeEmptyComment();Feedback.Tools.removeTools();Feedback.hideComments();if(!Userback.screen_capture&&!Feedback.configs.is_live){Feedback.setScreenStatus('Taking screenshot...');}Feedback.ui.overlay.attr('screenshot-capturing','true');// extension
if(Userback.screen_capture){Feedback.ui.overlay.attr('extension-capturing','true');}// Cache window parameters
Feedback.screenshot_window_x=window.innerWidth;Feedback.screenshot_window_y=window.innerHeight;Feedback.screenshot_window_top=$(window).scrollTop()||$(document).scrollTop();Feedback.screenshot_window_left=$(window).scrollLeft()||$(document).scrollLeft();setTimeout(function(){Feedback.capture(function(data_uri){Feedback.clearScreenStatus();Feedback.controls_step=2;if(Feedback.canvas_mode){Feedback.screenshot_data_uri.push({data_uri:Lib.replaceUnpairedSurrogates(data_uri),window_x:window.innerWidth,window_y:document.body.scrollHeight,window_top:0,window_left:0});}else{Feedback.screenshot_data_uri.push({data_uri:Lib.replaceUnpairedSurrogates(data_uri),window_x:window.innerWidth,window_y:window.innerHeight,window_top:$(window).scrollTop()||$(document).scrollTop(),window_left:$(window).scrollLeft()||$(document).scrollLeft()});}Feedback.checkScreenshotLimit();const cancel_ui=Feedback.on_toolbar_submit?.(Feedback.screenshot_data_uri[Feedback.screenshot_data_uri.length-1]);if(cancel_ui!==false){Feedback.showControls(true);}Feedback.addScreenshotBadge();Feedback.renderAttachment(true);// attachment got reset, so update it again
Feedback.removeOverlay();Feedback.Tools.annotation_count=0;// TODO: chrome extension && retina or zommed
if(Userback.screen_capture&&(Feedback.load_type==='chrome_extension'||Feedback.load_type==='firefox_extension'||Feedback.load_type==='edge_extension')){Lib.getImageSize(data_uri,function(image_width,image_height){if(Math.abs(image_width-$(window).width())>30){Lib.resizeImage(data_uri,$(window).width(),'image/png',function(data){Feedback.screenshot_data_uri[Feedback.screenshot_data_uri.length-1].data_uri=data;});}});}});},Userback.screen_capture?20:0);},// when the close button is clicked
cancelRoutingOption:function(){if(Feedback.controls_step){Feedback.showControls();Feedback.removeOverlay();Feedback.removeComments();this.removeTools();}else{Feedback.removeOverlay();Feedback.removeComments();this.removeTools();Feedback.reset();}Feedback.on_toolbar_close?.();},removeTools:function(){Feedback.enableScroll();if(!this.toolbar){return;}this.toolbar.remove();this.toolbar=null;this.svg_obj_base_path=null;this.cut_outs=[];},removeDeleteIcons:function(){$(this.svg_delete_icons).each(function(){this.remove();});this.svg_delete_icons=[];},setToolColour:function(){this.toolbar.find('.userback-toolbar-tool-colour-indicator').css('background-color',this.colour.value);if(this.colour.value==='#FFFFFF'){this.toolbar.find('.userback-toolbar-tool-colour-indicator').attr('hasborder',1);}else{this.toolbar.find('.userback-toolbar-tool-colour-indicator').removeAttr('hasborder');}},dragStart:function(){var x,y,event;if(typeof arguments[0]==='object'){event=arguments[0];}else{event=arguments[2];}if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].clientX;y=event.changedTouches[0].clientY;}else{x=event.clientX;y=event.clientY;}if(Feedback.canvas_mode){x=event.offsetX;y=event.offsetY;}// avoid half pixel issue
x=parseInt(x,10);y=parseInt(y,10);if(this.dragging_obj){// start
if(this.dragging_obj.data('drag_started')){return;}this.dragging_obj.appendTo(self.snap);this.dragging_obj.data('drag_started',true);this.dragging_obj.data('original_x',x);this.dragging_obj.data('original_y',y);if(!this.dragging_obj.data('transform_x')){this.dragging_obj.data('transform_x',0);this.dragging_obj.data('transform_y',0);}if(this.dragging_obj.data('type')==='square'){var cut_out_x=this.dragging_obj[0].attr('x');var cut_out_y=this.dragging_obj[0].attr('y');var cut_out_index=false;for(var i=0;i<this.cut_outs.length;i++){if(this.cut_outs[i].x==cut_out_x&&this.cut_outs[i].y==cut_out_y){cut_out_index=i;break;}}if(cut_out_index!==false){this.dragging_obj.data('cut_out_index',cut_out_index);this.dragging_obj.data('cut_out_original_x',this.cut_outs[cut_out_index].x);this.dragging_obj.data('cut_out_original_y',this.cut_outs[cut_out_index].y);}}}else{// start
if(this.draw_started){return;}this.draw_started=true;var cut_out_id=new Date().getTime();switch(this.type){case'arrow':this.svg_obj_new_arrow=this.snap.line(x,y,x,y);this.svg_obj_new_arrow.attr({'stroke':this.colour.value,'stroke-width':6,'stroke-linecap':'round','stroke-linejoin':'round'});var point1=x+' '+y;var point2=x+' '+y;var point3=x+' '+y;this.svg_obj_new_arrow_top=this.snap.polyline(point1+','+point2+','+point3);this.svg_obj_new_arrow_top.attr({fill:this.colour.value});this.svg_obj_arrow_group=this.snap.group(this.svg_obj_new_arrow,this.svg_obj_new_arrow_top);this.svg_obj_arrow_group.attr({'opacity':0.5});break;case'line':this.svg_obj_line=this.snap.line(x,y,x,y);this.svg_obj_line.attr({'stroke':this.colour.value,'stroke-width':4,'stroke-linecap':'round','stroke-linejoin':'round','opacity':0.5});break;case'square':this.svg_obj_rectangular=this.snap.rect(x,y,1,1,3,3);this.svg_obj_rectangular.attr({'stroke':this.colour.value,'stroke-width':4,'stroke-linecap':'round','stroke-linejoin':'round','fill':'transparent','opacity':0.5});this.cut_outs.push({id:cut_out_id,x:x,y:y,w:0,h:0});break;case'blackout':this.svg_obj_rectangular=this.snap.rect(x,y,1,1,3,3);this.svg_obj_rectangular.attr({'fill':this.colour.value,'class':'blackout','opacity':0.5});break;case'path':this.svg_obj_path=this.snap.path('M'+x+','+y);this.svg_obj_path.attr({'stroke':this.colour.value,'stroke-width':15,'stroke-linecap':'round','stroke-linejoin':'round','fill':'transparent','opacity':0.8});break;}}this.start_x=x;this.start_y=y;this.stop_x=x;this.stop_y=y;this.path_min_x=x;this.path_min_y=y;this.path_max_x=x;this.path_max_y=y;this.toolbar_left=this.toolbar.offset().left-30;this.toolbar_right=this.toolbar_left+this.toolbar.outerWidth()+60;this.toolbar_top=this.toolbar.position().top-30;this.toolbar_bottom=this.toolbar_top+this.toolbar.outerHeight()+60;},dragStop:function(event){var x,y;if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].clientX;y=event.changedTouches[0].clientY;}else{x=event.clientX;y=event.clientY;}if(Feedback.canvas_mode){x=event.pageX-Feedback.ui.overlay.offset().left;y=event.pageY-Feedback.ui.overlay.offset().top;}// when dragging is stopped
if(this.dragging_obj){if(!this.dragging_obj.data('drag_started')){return;}// update data so that they can be dragged again
this.dragging_obj.data('drag_started',false);this.dragging_obj.data('transform_x',this.dragging_obj.data('transform_x_temp'));this.dragging_obj.data('transform_y',this.dragging_obj.data('transform_y_temp'));// add comment inside box
var movement_x=Math.abs(this.start_x-x);var movement_y=Math.abs(this.start_y-y);if(!$(event.target).hasClass('userback-svg-delete')&&movement_x<=2&&movement_y<=2){Feedback.commentStart.call(Feedback,event);}// reset
this.dragging_obj=false;this.start_x=0;this.start_y=0;this.stop_x=0;this.stop_y=0;this.path_min_x=0;this.path_min_y=0;this.path_max_x=0;this.path_max_y=0;}else{// stop
if(!this.draw_started){return;}this.toolbar.removeClass('userback-toolbar-slide-out');var direction_x=x-this.start_x>0?'right':'left';var direction_y=y-this.start_y>0?'down':'up';if(this.type==='text'||Math.abs(this.path_max_x-this.path_min_x)<this.min_drag_distance&&Math.abs(this.path_max_y-this.path_min_y)<this.min_drag_distance){// do not draw when distance is too short
switch(this.type){case'arrow':this.svg_obj_arrow_group.remove();break;case'line':this.svg_obj_line.remove();break;case'square':case'blackout':this.svg_obj_rectangular.remove();break;case'path':this.svg_obj_path.remove();break;}if(this.cut_outs.length){var last_cut_out=this.cut_outs[this.cut_outs.length-1];if(last_cut_out.w<this.min_drag_distance&&last_cut_out.h<this.min_drag_distance){this.cut_outs.splice(this.cut_outs.length-1,1);}}this.setBasePathSize();Feedback.commentStart.call(Feedback,event);// remove the tooltip
Feedback.ui.overlay.trigger('mouseleave');}else{// ok, we are ready to draw now
var icon_x=x-12;var icon_y=y-12;if(this.type==='square'||this.type==='blackout'){icon_x=parseInt(this.svg_obj_rectangular.attr('x'),10)+parseInt(this.svg_obj_rectangular.attr('width'),10)-12;icon_y=parseInt(this.svg_obj_rectangular.attr('y'),10)-12;}var icon=this.snap.image(Svg_Icons.delete_icon,icon_x,icon_y,24,24).attr({cursor:'pointer',display:'none'}).addClass('_userback-blank userback-svg-delete');this.svg_delete_icons.push(icon);switch(this.type){case'arrow':this.svg_obj_arrow_group.attr({'opacity':1});this.svg_obj_arrow_group=this.snap.group(this.svg_obj_arrow_group,icon);this.hoverable(this.svg_obj_arrow_group,icon,this.type);this.draggable(this.svg_obj_arrow_group,this.type);break;case'line':this.svg_obj_line.attr({'opacity':1});this.svg_obj_line=this.snap.group(this.svg_obj_line,icon);this.hoverable(this.svg_obj_line,icon,this.type);this.draggable(this.svg_obj_line,this.type);break;case'square':this.svg_obj_rectangular.attr({'opacity':1});this.svg_obj_rectangular=this.snap.group(this.svg_obj_rectangular,icon);this.hoverable(this.svg_obj_rectangular,icon,this.type,this.cut_outs[this.cut_outs.length-1].id);this.draggable(this.svg_obj_rectangular,this.type);break;case'blackout':this.svg_obj_rectangular.attr({'opacity':1});this.svg_obj_rectangular=this.snap.group(this.svg_obj_rectangular,icon);this.hoverable(this.svg_obj_rectangular,icon,this.type);this.draggable(this.svg_obj_rectangular,this.type);break;case'path':this.svg_obj_path=this.snap.group(this.svg_obj_path,icon);this.hoverable(this.svg_obj_path,icon,this.type);this.draggable(this.svg_obj_path,this.type);break;}}this.draw_started=false;this.start_x=0;this.start_y=0;this.stop_x=0;this.stop_y=0;this.svg_obj_arrow_group=false;this.svg_obj_new_arrow_top=false;this.svg_obj_new_arrow=false;this.svg_obj_line=false;this.svg_obj_rectangular=false;this.svg_obj_path=false;this.toolbar.find('.userback-toolbar-tool-done').addClass('userback-toolbar-tool-done-active');}Feedback.overlay_hint_tooltip_added=true;if(Feedback.ui.overlay_hint_tooltip){Feedback.ui.overlay_hint_tooltip.remove();Feedback.ui.overlay_hint_tooltip=false;}Feedback.disableScroll();},dragMove:function(){var x,y,event;if(typeof arguments[0]==='object'){event=arguments[0];}else{event=arguments[4];}if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].clientX;y=event.changedTouches[0].clientY;}else{x=event.clientX;y=event.clientY;}if(Feedback.canvas_mode){x=event.pageX-Feedback.ui.overlay.offset().left;y=event.pageY-Feedback.ui.overlay.offset().top;}if(this.dragging_obj){if(!this.dragging_obj.data('drag_started')){return;}var t=new Snap.Matrix();var mouse_movement_x=x-this.dragging_obj.data('original_x');var mouse_movement_y=y-this.dragging_obj.data('original_y');var transform_x=mouse_movement_x+this.dragging_obj.data('transform_x');var transform_y=mouse_movement_y+this.dragging_obj.data('transform_y');this.dragging_obj.data('transform_x_temp',transform_x);this.dragging_obj.data('transform_y_temp',transform_y);// move square
t.translate(transform_x,transform_y);this.dragging_obj.transform(t);if(this.dragging_obj.data('type')==='square'){var cut_out_index=this.dragging_obj.data('cut_out_index');this.cut_outs[cut_out_index].x=this.dragging_obj.data('cut_out_original_x')+transform_x;this.cut_outs[cut_out_index].y=this.dragging_obj.data('cut_out_original_y')+transform_y;this.setBasePathSize();}}else{// move
if(!this.draw_started){return;}var direction_x=x-this.start_x>0?'right':'left';var direction_y=y-this.start_y>0?'down':'up';this.stop_x=x;this.stop_y=y;// don't draw off the screen
this.stop_x=Math.max(6,this.stop_x);this.stop_y=Math.max(6,this.stop_y);this.stop_x=Math.min(this.snap.node.clientWidth-6,this.stop_x);this.stop_y=Math.min(this.snap.node.clientHeight-6,this.stop_y);// update min/max path
this.path_min_x=Math.min(this.path_min_x,x);this.path_min_y=Math.min(this.path_min_y,y);this.path_max_x=Math.max(this.path_max_x,x);this.path_max_y=Math.max(this.path_max_y,y);switch(this.type){case'arrow':this.svg_obj_new_arrow.attr({x2:this.stop_x,y2:this.stop_y});var x_length=Math.abs(this.stop_x-this.start_x);var y_length=Math.abs(this.stop_y-this.start_y);var y_amount=40;if(x_length<y_amount&&y_length<y_amount){y_amount=Math.max(x_length,y_length);}var x_amount=y_amount/2.5;var point1=this.stop_x+' '+this.stop_y;var point2;var point3;var point4;var translate_y=0;if(this.stop_y>=this.start_y){point2=this.stop_x-x_amount+' '+(this.stop_y-y_amount);point3=this.stop_x+' '+(this.stop_y-y_amount+5);point4=this.stop_x+x_amount+' '+(this.stop_y-y_amount);translate_y=8;}else{point2=this.stop_x-x_amount+' '+(this.stop_y+y_amount);point3=this.stop_x+' '+(this.stop_y+y_amount-5);point4=this.stop_x+x_amount+' '+(this.stop_y+y_amount);translate_y=-8;}this.svg_obj_new_arrow_top.attr({points:point1+','+point2+','+point3+','+point4+','+point1});var deg=Math.atan((this.stop_x-this.start_x)/(this.stop_y-this.start_y))*180/Math.PI;// NaN
if(!deg){deg=0;}var arrow_2_matrix=new Snap.Matrix();arrow_2_matrix.rotate(deg*-1,this.stop_x,this.stop_y);arrow_2_matrix.translate(0,translate_y);this.svg_obj_new_arrow_top.transform(arrow_2_matrix);break;case'line':this.svg_obj_line.attr({x2:this.stop_x,y2:this.stop_y});break;case'square':var square_x=direction_x==='right'?this.start_x:this.stop_x;var square_y=direction_y==='down'?this.start_y:this.stop_y;var square_w=Math.abs(this.stop_x-this.start_x);var square_h=Math.abs(this.stop_y-this.start_y);this.svg_obj_rectangular.attr({x:square_x,y:square_y,width:square_w,height:square_h});this.cut_outs[this.cut_outs.length-1].x=square_x;this.cut_outs[this.cut_outs.length-1].y=square_y;this.cut_outs[this.cut_outs.length-1].w=square_w;this.cut_outs[this.cut_outs.length-1].h=square_h;this.setBasePathSize();break;case'blackout':this.svg_obj_rectangular.attr({x:direction_x==='right'?this.start_x:this.stop_x,y:direction_y==='down'?this.start_y:this.stop_y,width:Math.abs(this.stop_x-this.start_x),height:Math.abs(this.stop_y-this.start_y)});break;case'path':var current_path=this.svg_obj_path.attr('path');var new_path=current_path+'L'+this.stop_x+','+this.stop_y;this.svg_obj_path.attr('path',new_path);break;}if(Math.abs(this.stop_x-this.start_x)>this.min_drag_distance||Math.abs(this.stop_y-this.start_y)>this.min_drag_distance){if(this.stop_x>this.toolbar_left&&this.stop_x<this.toolbar_right&&this.stop_y>this.toolbar_top&&this.stop_y<this.toolbar_bottom){this.toolbar.addClass('userback-toolbar-slide-out');this.toolbar_is_hidden=true;}else if(this.toolbar_is_hidden){this.toolbar.removeClass('userback-toolbar-slide-out');this.toolbar_is_hidden=false;}}}},hoverable:function(obj,delete_icon,type,cut_out_id){var shadow_filter=this.snap.filter(Snap.filter.shadow(0,0,5,'black',0.5));var timeout_id=false;this.annotation_count++;var _doRemove=()=>{obj.remove();if(type==='square'){var cut_out_index=false;for(var i=0;i<this.cut_outs.length;i++){if(this.cut_outs[i].id===cut_out_id){cut_out_index=i;break;}}if(cut_out_index!==false){this.cut_outs.splice(cut_out_index,1);this.setBasePathSize();}}};delete_icon.click(e=>{_doRemove();this.annotation_count--;if(this.annotation_count===0){Feedback.enableScroll();}});obj.mouseover(()=>{Feedback.ui.overlay.attr('hidecursor','true');if(this.draw_started){return;}clearTimeout(timeout_id);delete_icon.attr('display','');obj.attr({filter:shadow_filter});});obj.mouseout(()=>{Feedback.ui.overlay.removeAttr('hidecursor');timeout_id=setTimeout(()=>{delete_icon.attr('display','none');obj.attr({filter:''});},200);});if(Feedback.has_touch){delete_icon.touchend(function(){// let the other dragging touch event finish first
setTimeout(function(){_doRemove();},0);});obj.touchstart(function(){if(delete_icon.attr('display')==='none'){delete_icon.attr('display','');}else{delete_icon.attr('display','none');}});}},draggable:function(obj,type){var dragStart=function(event,x,y){this.dragging_obj=obj;this.dragging_obj.data('type',type);};obj.attr({cursor:'move'});obj.mousedown(dragStart.bind(this));obj.touchstart(dragStart.bind(this));}},// remove the overlay
removeOverlay:function(){if(!this.ui.overlay){return;}this.ui.element.removeAttr('drawing');if(this.ui.overlay.overlay_hint_tooltip){this.ui.overlay.overlay_hint_tooltip.remove();this.ui.overlay.overlay_hint_tooltip=null;}this.ui.overlay.remove();this.ui.overlay=null;$(window).off('resize',this.windowResize.bind(this));},windowResize:function(e){if(this.ui.overlay){this.setOverlaySize();this.Tools.setBasePathSize.call(this.Tools);}},_mouseScroll:function(e){if($(e.target).hasClass('ubmousescroll')){}else{e.preventDefault();}},_scrollKeyDown:function(e){if($(e.target).hasClass('ubmousescroll')){return;}if($(e.target).prop('tagName')==='TEXTAREA'){return;}var keys={37:1,38:1,39:1,40:1};if(keys[e.keyCode]){e.preventDefault();}},_scrollWindow:function(e){$(window).scrollTop(this._scroll_top);},disableScroll:function(){if(this._scroll_disabled){return;}if(this.canvas_mode){return;}this._scroll_top=$(window).scrollTop();this._scroll_disabled=true;$('html').addClass('ub-noscroll');$(window).on('scroll.lock',this._scrollWindow.bind(this));window.addEventListener('wheel',this._mouseScroll,{passive:false});window.addEventListener('mousewheel',this._mouseScroll,{passive:false});window.addEventListener('DOMMouseScroll',this._mouseScroll,{passive:false});window.addEventListener('touchmove',this._mouseScroll,{passive:false});$(document).on('keydown',this._scrollKeyDown);},enableScroll:function(){this._scroll_disabled=false;$('html').removeClass('ub-noscroll');$(window).off('scroll.lock');window.removeEventListener('wheel',this._mouseScroll,{passive:false});window.removeEventListener('mousewheel',this._mouseScroll,{passive:false});window.removeEventListener('DOMMouseScroll',this._mouseScroll,{passive:false});window.removeEventListener('touchmove',this._mouseScroll,{passive:false});$(document).off('keydown',this._scrollKeyDown);},addComment:function(x,y){this.closeEmptyComment();var screenshot_num=this.screenshot_data_uri.length;var counter=0;$.each(this.comments,function(index,comment){if(comment.screenshot_num===screenshot_num){counter++;}});var comment=new Comment({x:x,y:y,scroll_l:this.canvas_mode?0:$(window).scrollLeft(),scroll_t:this.canvas_mode?0:$(window).scrollTop(),offset_x:this.canvas_mode?this.ui.overlay.offset().left:0,offset_y:this.canvas_mode?this.ui.overlay.offset().top:0,screenshot_num:screenshot_num,counter:counter,onOpen:counter=>{$.each(this.comments,function(index,comment){if(comment.screenshot_num===screenshot_num&&comment.counter!==counter){comment.hideForm();}});},onDelete:counter=>{var index_lookup=false;$.each(this.comments,function(index,comment){if(comment.screenshot_num===screenshot_num&&counter===comment.counter){index_lookup=index;}});if(index_lookup!==false){this.comments.splice(index_lookup,1);}// update labels
var new_counter=0;$.each(this.comments,function(index,comment){if(comment.screenshot_num===screenshot_num){comment.setCounter(new_counter);new_counter++;}});}});comment.add();this.comments.push(comment);},hideComments:function(){$.each(this.comments,function(index,comment){comment.hide();});},removeComments:function(){var screenshot_num=this.screenshot_data_uri.length;var new_comments=[];$.each(this.comments,function(index,comment){if(comment.screenshot_num===screenshot_num){comment.destroy();}else{new_comments.push(comment);}});this.comments=new_comments;},feedbackHTML:function(feedback){var feedback_title=feedback.title?feedback.title:feedback.page;if(feedback.video_url){return'<ubdiv class="userback-feedback userback-feedback-video">'+'<a href="'+feedback.url+'" target="viewer">'+Svg_Icons.play+'<video src="'+feedback.video_url+'" preload="metadata" muted></video>'+'<ubdiv>'+'<ubdiv class="userback-feedback-description">'+Lib.htmlEntities(feedback.description,true)+'</ubdiv>'+'</ubdiv>'+'</a>'+'<div class="userback-feedback-page" title="'+Lib.htmlEntities(feedback_title)+'">'+Lib.htmlEntities(feedback_title)+'</div>'+'</ubdiv>';}else{return'<ubdiv class="userback-feedback'+(feedback.screenshot?'':' userback-feedback-general')+'">'+'<a href="'+feedback.url+'" target="viewer"'+(feedback.screenshot?' style="background-image:url(\''+Lib.htmlEntities(feedback.screenshot)+'\');"':'')+'>'+'<ubdiv>'+'<ubdiv class="userback-feedback-description">'+Lib.htmlEntities(feedback.description,true)+'</ubdiv>'+'</ubdiv>'+'</a>'+'<ubdiv class="userback-feedback-page" title="'+Lib.htmlEntities(feedback_title)+'">'+Lib.htmlEntities(feedback_title)+'</ubdiv>'+'</ubdiv>';}},addFeedbackPortal:function(){if(this.ui.feedback_portal){return;}var use_modal=this.isAutoHide()||this.configs.use_modal;this.ui.feedback_portal=$('<ubdiv>').addClass('userback-feedback-portal').attr('data-position',this.configs.position).attr('data-wstyle',this.configs.style).attr('data-modal',use_modal?1:0).html('<uclose class="userback-feedback-portal-close">'+Svg_Icons.times+'</uclose>'+'<iframe src="'+this.getPortalUrl(true)+'"></iframe>');this.ui.feedback_portal.appendTo($(document.body));if(use_modal||this.configs.position==='e'||this.configs.position==='w'){this.ui.button.hide();}this.bindEvents();},addFeedbackView:function(){if(this.ui.feedback_view){return;}var html='';html+='<ubdiv class="userback-feedback-view-title">'+'<uclose class="userback-feedback-view-close userback-button-close-light">'+Svg_Icons.times+'</uclose>'+'<ubdiv class="userback-feedback-view-search">'+Svg_Icons.search+'</ubdiv>'+'<ubdiv class="userback-feedback-view-search-total">'+'<span>'+Lang.get('feedback_type_all')+'</span>'+Svg_Icons.angle_down+'<ubdropdown>'+'<uboption class="feedback-filter-type active" data-val="all">'+Svg_Icons.tick+Lang.get('feedback_type_all')+'</uboption>'+'<uboption class="feedback-filter-type" data-val="general">'+Svg_Icons.tick+Lang.get('feedback_type_general')+'</uboption>'+'<uboption class="feedback-filter-type" data-val="bug">'+Svg_Icons.tick+Lang.get('feedback_type_bug')+'</uboption>'+'<uboption class="feedback-filter-type" data-val="feature_request">'+Svg_Icons.tick+Lang.get('feedback_type_feature_request')+'</uboption>'+'<uboptionline></uboptionline>'+'<uboption class="feedback-filter-page active" data-val="page">'+Svg_Icons.tick+Lang.get('this_page_only')+'</uboption>'+'</ubdropdown>'+'</ubdiv>'+'</ubdiv>';html+='<ubdiv class="userback-feedback-view-scroller userback-feedback-view-scroller-loading"></ubdiv>';html+='<form class="userback-feedback-view-search-form">'+'<input type="text" placeholder="'+Lang.get('search')+'">'+'<a href="#">'+Lang.get('cancel')+'</a>'+'</form>';this.ui.feedback_view=$('<div>').addClass('userback-feedback-view userback-feedback-view-'+this.configs.position);this.ui.feedback_view.html(html);this.ui.feedback_view.appendTo($(document.body));// wait for animation to finish
setTimeout(()=>{this.searchFeedbackView();},200);this.bindEvents();},bindEvents:function(){if(this.feedback_view_events_binded){return;}$(document).on('click','.userback-feedback-view-close',e=>{this.removeFeedbackView();Feedback.Tools.cancelRoutingOption.call(Feedback.Tools);});$(document).on('click','.userback-feedback-portal-close',e=>{this.removeFeedbackPortal();Feedback.Tools.cancelRoutingOption.call(Feedback.Tools);});$(document).on('click','.userback-feedback-view-search-total',e=>{e.stopPropagation();this.ui.feedback_view.find('.userback-feedback-view-search-form').hide();this.ui.feedback_view.find('ubdropdown').toggleClass('isopen');});$(document).on('click',e=>{if(this.ui.feedback_view){this.ui.feedback_view.find('ubdropdown').removeClass('isopen');}});$(document).on('click','.userback-feedback-view-search-form a',e=>{e.preventDefault();this.ui.feedback_view.find('.userback-feedback-view-search-form').hide();});$(document).on('submit','.userback-feedback-view-search-form',e=>{e.preventDefault();this.ui.feedback_view.find('.userback-feedback-view-search-form').hide();this.searchFeedbackView();});$(document).on('click','uboption.feedback-filter-type',e=>{this.ui.feedback_view.find('uboption.feedback-filter-type').removeClass('active');$(e.currentTarget).addClass('active');this.ui.feedback_view.find('.userback-feedback-view-search-total > span').html($(e.currentTarget).text());this.searchFeedbackView();});$(document).on('click','uboption.feedback-filter-page',e=>{$(e.currentTarget).toggleClass('active');this.searchFeedbackView();});this.feedback_view_events_binded=true;},searchFeedbackView:function(){this.ui.feedback_view.find('.userback-feedback-view-scroller').addClass('userback-feedback-view-scroller-loading');this.ui.feedback_view.find('.userback-feedback-view-scroller').html('');var search_string=this.ui.feedback_view.find('.userback-feedback-view-search-form input').val().trim();var feedback_type=this.ui.feedback_view.find('uboption.feedback-filter-type').filter('.active').data('val');var page=this.ui.feedback_view.find('uboption.feedback-filter-page').hasClass('active')?window.location.href.replace(window.location.search,'').replace(/\/$/,''):'';if(feedback_type==='all'){feedback_type='';}$.ajax(this.request_url+'/?loadWidgetFeedback',{data:{action:'widget/loadFeedback',domain:document.domain||'',load_type:this.load_type,access_token:this.access_token,search:search_string,type:feedback_type,page:page,demo:this.demo_mode},crossDomain:true,dataType:'json',type:'POST',context:this,success:function(response){var feedback_html='';var result_count=0;if(response){this.configs.feedback=response;if(response.length){$.each(response,(index,feedback)=>{feedback_html+=this.feedbackHTML(feedback);});result_count=response.length;}}if(!result_count){feedback_html+='<div class="userback-feedback-view-empty">'+Svg_Icons.file_search+Lang.get('feedback_not_found')+'</div>';}this.ui.feedback_view.find('.userback-feedback-view-scroller').html(feedback_html);this.ui.feedback_view.find('.userback-feedback-view-search').on('click',e=>{this.ui.feedback_view.find('.userback-feedback-view-search-form').show().find('input').focus();});},complete:function(){this.ui.feedback_view.find('.userback-feedback-view-scroller').removeClass('userback-feedback-view-scroller-loading');}});},removeFeedbackPortal:function(){if(!this.ui.feedback_portal){return;}this.ui.feedback_portal.remove();this.ui.feedback_portal=null;},removeFeedbackView:function(){if(!this.ui.feedback_view){return;}this.ui.feedback_view.remove();this.ui.feedback_view=null;},// add the control panel
addControls:function(){if(this.ui.controls){return;}this.ui.controls=$('<div>').addClass('userback-controls userback-controls-'+this.configs.position);this.ui.controls.attr('wstyle',this.configs.style);if(this.configs.display_powered_by){this.ui.controls.attr('poweredby',1);}if(this.isAutoHide()||this.configs.use_modal){this.ui.controls.attr('modal','true');}this.setControls();this.ui.controls.appendTo(this.ui.element);this.ui.controls.on('click','.userback-controls-close',this.closeWidget.bind(this));this.ui.controls.on('click','.userback-feedback-type-draw',this.attachScreenshot.bind(this));this.ui.controls.on('click','.userback-feedback-type-video',this.startVideo.bind(this));this.ui.controls.on('click','.userback-feedback-type-form',this.menuItemClick.bind(this));this.ui.controls.on('click','.userback-feedback-type-help',this.openHelp.bind(this));this.ui.controls.on('click','.userback-feedback-type-other',this.viewOtherFeedback.bind(this));this.ui.controls.on('click','.userback-controls-add-attachment',this.selectAttachment.bind(this));this.ui.controls.on('click','.userback-controls-remove-attachment',this.removeAttachment.bind(this));this.ui.controls.on('click','ubrating > ubdiv',this.selectRating.bind(this));this.ui.controls.on('mouseenter','ubrating > ubdiv',this.previewRating.bind(this));this.ui.controls.on('mouseleave','ubrating > ubdiv',this.unPreviewRating.bind(this));this.ui.controls.on('change','.userback-controls-attachment',this.uploadAttachment.bind(this));this.ui.controls.on('submit','.userback-controls-options',this.send.bind(this));this.ui.controls.on('change','select[name="category"]',this.changeCategory.bind(this));this.ui.controls.on('change','select[name="priority"]',this.changePriority.bind(this));this.ui.controls.on('change','select[name="assignee"]',this.changeAssignee.bind(this));this.ui.controls.on('click','.userback-controls-video',this.startVideo.bind(this));this.ui.controls.on('click','.userback-controls-screenshot',this.attachScreenshot.bind(this));this.ui.controls.on('click','.userback-controls-add-screenshot',this.attachScreenshot.bind(this));this.ui.controls.on('click','.userback-controls-remove-screenshot',this.removeScreenshot.bind(this));this.ui.controls.on('click','.userback-controls-video-thumbnail',this.videoFullscreen.bind(this));this.ui.controls.on('click','.userback-controls-remove-video',this.removeVideo.bind(this));this.ui.controls.on('click','.userback-checkbox-container > ubdiv',this.checkboxToggle.bind(this));this.ui.controls.on('keyup','textarea[name="description"]',this.rememberFormData.bind(this));this.ui.controls.on('keyup','textarea[name="custom_field_1"]',this.rememberFormData.bind(this));this.ui.controls.on('keyup','input[name="name"]',this.rememberFormData.bind(this));this.ui.controls.on('keyup','input[name="email"]',this.rememberFormData.bind(this));this.ui.controls.on('keyup','input[name="title"]',this.rememberFormData.bind(this));this.ui.controls.on('keyup','input[name="custom_field_1"]',this.rememberFormData.bind(this));this.ui.controls.on('change','select[name="category"]',this.rememberFormData.bind(this));this.ui.controls.on('change','select[name="priority"]',this.rememberFormData.bind(this));this.ui.controls.on('change','select[name="assignee"]',this.rememberFormData.bind(this));this.ui.controls.on('click mouseup mousedown',function(e){e.stopPropagation();});},rememberFormData:function(e){var field_name=$(e.currentTarget).attr('name');if(field_name&&typeof this.form_data[field_name]!=='undefined'){this.form_data[field_name]=$(e.currentTarget).val();}},// remove the control panel
removeControls:function(){if(!this.ui.controls){return;}this.ui.controls.remove();this.ui.controls=null;},setControls:function(){var routing_items={};routing_items.screenshot=this.configs.workflow_type.indexOf('capture')===-1?'':'<ubroutemenu class="userback-feedback-type-draw">'+Svg_Icons.feedback_screenshot+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_screenshot)||Lang.get('draw_on_the_screen'))+'</ubdiv>'+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_screenshot_help)||Lang.get('draw_on_the_screen_help'))+'</ubdiv>'+'</ubroutemenu>';routing_items.video=this.configs.workflow_type.indexOf('video')===-1||!this.configs.has_video||Lib.isMobile()||Lib.isTablet()?'':'<ubroutemenu class="userback-feedback-type-video">'+Svg_Icons.feedback_video+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_video)||Lang.get('capture_video',true))+'</ubdiv>'+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_video_help)||Lang.get('capture_video_help',true))+'</ubdiv>'+'</ubroutemenu>';routing_items.bug=this.configs.workflow_type.indexOf('bug')===-1?'':'<ubroutemenu class="userback-feedback-type-form" data-type="bug">'+Svg_Icons.feedback_bug+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_report_bug)||Lang.get('report_bug',true))+'</ubdiv>'+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_report_bug_help)||Lang.get('report_bug_help',true))+'</ubdiv>'+'</ubroutemenu>';routing_items.feature_request=this.configs.workflow_type.indexOf('feature_request')===-1?'':'<ubroutemenu class="userback-feedback-type-form" data-type="feature_request">'+Svg_Icons.feedback_feature_request+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_feature_request)||Lang.get('feature_request',true))+'</ubdiv>'+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_feature_request_help)||Lang.get('feature_request_help',true))+'</ubdiv>'+'</ubroutemenu>';routing_items.general=this.configs.workflow_type.indexOf('general')===-1?'':'<ubroutemenu class="userback-feedback-type-form" data-type="general">'+Svg_Icons.feedback_general+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_general)||Lang.get('general_feedback'))+'</ubdiv>'+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_general_help)||Lang.get('general_feedback_help'))+'</ubdiv>'+'</ubroutemenu>';routing_items.view_other=this.configs.display_feedback?'<ubroutemenu class="userback-feedback-type-other">'+Svg_Icons.feedback_other+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_view_other)||Lang.get('view_other_feedback'))+'</ubdiv>'+'<ubdiv>'+(Lib.htmlEntities(this.configs.text_view_other_help)||Lang.get('view_other_feedback_help',true))+'</ubdiv>'+'</ubroutemenu>':'';routing_items.help=this.configs.help_link?'<ubroutemenu class="userback-feedback-type-help">'+Svg_Icons.feedback_help+'<ubdiv>'+(this.configs.help_title?Lib.htmlEntities(this.configs.help_title):Lang.get('contact_us'))+'</ubdiv>'+'<ubdiv>'+(this.configs.help_message?Lib.htmlEntities(this.configs.help_message):Lang.get('contact_us_help'))+'</ubdiv>'+'</ubroutemenu>':'';// routing_item_order
var item_order=this.configs.routing_item_order.split(',');var routing_item_options='';$.each(routing_items,function(item_type,item){if(item_order.indexOf(item_type)===-1){routing_item_options+=item;}});item_order.forEach(function(item_type){if(typeof routing_items[item_type]){routing_item_options+=routing_items[item_type]||'';}});var html='';html+='<uclose class="userback-controls-close" title="'+Lang.get('close')+'">'+Svg_Icons.times+'</uclose>';html+=this.configs.logo?'<img class="userback-controls-logo" src="'+Lib.htmlEntities(this.configs.logo)+'">':'';// routing screen
html+='<ubdiv class="userback-controls-step" data-step="1">'+routing_item_options+'</ubdiv>';html+='<ubdiv class="userback-controls-step" data-step="2"></ubdiv>';if(this.configs.display_powered_by){html+='<ubfooter>'+'<a href="https://www.userback.io?utm_source=application&utm_medium=feedback_widget&utm_campaign=powered_by">'+'<span>Powered by</span>'+'<span>'+Svg_Icons.logo+'</span>'+'</a>'+'</ubfooter>';}this.ui.controls.html(html);this.setFormHTML();var has_help=this.configs.help_link?true:false;var has_one_type=(this.configs.workflow_type==='capture'||this.configs.workflow_type==='video'||this.configs.workflow_type==='general'||this.configs.workflow_type==='bug'||this.configs.workflow_type==='feature_request')&&!this.configs.display_feedback;if(has_one_type&&!has_help){// skip the first step when a single workflow type is selected
this.ui.controls.find('.userback-controls-step[data-step="1"]').hide();this.ui.controls.find('.userback-controls-step[data-step="2"]').show();}else{this.ui.controls.find('.userback-controls-step[data-step="1"]').show();this.ui.controls.find('.userback-controls-step[data-step="2"]').hide();}},addScreenshotBadge:function(){if(this.video_url){this.ui.controls.find('.userback-controls-video-preview').show();this.ui.controls.find('.userback-controls-screenshot, .userback-controls-video').attr('disabled','disabled');this.ui.controls.find('.userback-controls-video .userback-screenshot-preview-checkmark').show();this.ui.controls.find('.userback-controls-screenshot-preview').hide();}else{this.ui.controls.find('.userback-controls-screenshot-preview').show();this.ui.controls.find('.userback-controls-screenshot, .userback-controls-video').attr('disabled','disabled');this.ui.controls.find('.userback-controls-screenshot .userback-screenshot-preview-checkmark').show();this.ui.controls.find('.userback-controls-video-preview').hide();this.ui.controls.find('.userback-controls-screenshot-counter span').text(this.screenshot_data_uri.length);if(Userback.screen_capture||this.configs.native_screenshot){this.ui.controls.find('.userback-screenshot-preview img').remove();$(this.screenshot_data_uri).each((index,screenshot_data)=>{var preview_img=$('<img>').addClass('screenshot-preview').attr('src',screenshot_data.data_uri);this.ui.controls.find('.userback-screenshot-preview').append(preview_img);});}}this.toggleAttachButtons();},setFormHTML:function(){var form_settings=this.getFormSettings(this.form_type);var display_screenshot=form_settings.allow_screenshot;var display_video=form_settings.allow_video&&this.configs.has_video&&!Lib.isMobile()&&!Lib.isTablet()&&!this.canvas_mode;var display_attachment=form_settings.allow_attachment&&this.features.widget_attachment&&typeof FileReader!=='undefined';var data_item=0;data_item+=display_screenshot?1:0;data_item+=display_video?1:0;data_item+=display_attachment?1:0;var default_name=this.form_data.name||Userback.name||Feedback.name||Lib.storage.get('ubw_name');var default_email=this.form_data.email||Userback.email||Feedback.email||Lib.storage.get('ubw_email');var default_title=this.form_data.title||'';var default_description=this.form_data.description||'';var default_category=this.form_data.category||Userback.categories||Feedback.categories||'';var default_priority=this.form_data.priority||Userback.priority||Feedback.priority||'';var default_assignee=this.form_data.assignee||'';var default_rating=this.form_data.rating||'';var default_custom_field_1=this.form_data.custom_field_1||'';var priority_options='<option value="urgent">Urgent</option>'+'<option value="high">High</option>'+'<option value="neutral">Neutral</option>'+'<option value="low">Low</option>';var category_options='';if(form_settings.display_category){this.configs.categories.forEach(category=>{category_options+='<option>'+category+'</option>';});}var assignee_options='';if(form_settings.display_assignee){this.configs.assignee.forEach(function(data){assignee_options+='<option value="'+Lib.htmlEntities(data.id)+'">'+Lib.htmlEntities(data.name)+'</option>';});}var rating_icons='';if(form_settings.rating_type==='emoji'){rating_icons+='<ubdiv data-rating="hate" class="inactive">'+Svg_Icons.face_hate+'</ubdiv>'+'<ubdiv data-rating="dislike" class="inactive">'+Svg_Icons.face_dislike+'</ubdiv>'+'<ubdiv data-rating="neutral" class="inactive">'+Svg_Icons.face_neutral+'</ubdiv>'+'<ubdiv data-rating="like" class="inactive">'+Svg_Icons.face_like+'</ubdiv>'+'<ubdiv data-rating="love" class="inactive">'+Svg_Icons.face_love+'</ubdiv>';}else if(form_settings.rating_type==='star'){rating_icons+='<ubdiv data-rating="star_1" class="inactive">'+Svg_Icons.star+'</ubdiv>'+'<ubdiv data-rating="star_2" class="inactive">'+Svg_Icons.star+'</ubdiv>'+'<ubdiv data-rating="star_3" class="inactive">'+Svg_Icons.star+'</ubdiv>'+'<ubdiv data-rating="star_4" class="inactive">'+Svg_Icons.star+'</ubdiv>'+'<ubdiv data-rating="star_5" class="inactive">'+Svg_Icons.star+'</ubdiv>';}else if(form_settings.rating_type==='heart'){rating_icons+='<ubdiv data-rating="heart_1" class="inactive">'+Svg_Icons.heart+'</ubdiv>'+'<ubdiv data-rating="heart_2" class="inactive">'+Svg_Icons.heart+'</ubdiv>'+'<ubdiv data-rating="heart_3" class="inactive">'+Svg_Icons.heart+'</ubdiv>'+'<ubdiv data-rating="heart_4" class="inactive">'+Svg_Icons.heart+'</ubdiv>'+'<ubdiv data-rating="heart_5" class="inactive">'+Svg_Icons.heart+'</ubdiv>';}else if(form_settings.rating_type==='thumb'){rating_icons+='<ubdiv data-rating="thumb_up" class="inactive">'+Svg_Icons.thumb_up+'</ubdiv>'+'<ubdiv data-rating="thumb_down" class="inactive">'+Svg_Icons.thumb_down+'</ubdiv>';}var html='';html+='<form class="userback-controls-options">'+(form_settings.rating_help_message?'<div class="userback-controls-help-message">'+Lib.htmlEntities(form_settings.rating_help_message)+'</div>':'')+(form_settings.rating_type?'<ubrating>'+rating_icons+'</ubrating>':'')+'<ubdiv class="userback-controls-form"'+(form_settings.rating_type&&form_settings.rating_mandatory?' style="display:none;"':'')+'>'+(form_settings.name_field?'<input type="text" name="name" placeholder="'+Lang.get('your_name')+'"'+(form_settings.name_field_mandatory?' required':'')+'>':'')+(form_settings.email_field?'<input type="email" name="email" placeholder="'+Lang.get('your_email_address')+'"'+(form_settings.email_field_mandatory?' required':'')+'>':'')+(form_settings.display_category?'<select name="category"'+(form_settings.category_field_mandatory?' required':'')+'><option value="">'+Lang.get('select_a_category')+'</option>'+category_options+'</select>':'')+(form_settings.display_priority?'<select name="priority"'+(form_settings.priority_field_mandatory?' required':'')+'><option value="">'+Lang.get('select_a_priority')+'</option>'+priority_options+'</select>':'')+(form_settings.display_assignee?'<select name="assignee"'+(form_settings.assignee_field_mandatory?' required':'')+'><option value="">'+Lang.get('assign_to')+'</option>'+assignee_options+'</select>':'')+(form_settings.custom_field_1_type==='short_answer'?'<input name="custom_field_1" type="text" placeholder="'+Lib.htmlEntities(form_settings.custom_field_1_label)+'" name=""'+(form_settings.custom_field_1_mandatory?' required':'')+'>':'')+(form_settings.custom_field_1_type==='long_answer'?'<textarea name="custom_field_1" placeholder="'+Lib.htmlEntities(form_settings.custom_field_1_label)+'" name=""'+(form_settings.custom_field_1_mandatory?' required':'')+'></textarea>':'')+(form_settings.title_field?'<input type="text" name="title" maxlength="80" data-gramm_editor="false" placeholder="'+(Lib.htmlEntities(form_settings.title_field_placeholder)||Lang.get('feedback_title',true))+'"'+(form_settings.title_field_mandatory?' required':'')+'>':'')+(form_settings.comment_field?'<textarea name="description" data-gramm_editor="false" placeholder="'+(Lib.htmlEntities(form_settings.comment_field_placeholder)||Lang.get('leave_us_your_comment'))+'"'+(form_settings.comment_field_mandatory?' required':'')+'></textarea>':'')+(display_screenshot||display_video||display_attachment?'<ubdiv class="userback-controls-attach-actions" data-item="'+data_item+'">'+'<ubdiv>'+(display_screenshot?'<btn class="userback-controls-screenshot">'+Svg_Icons.feedback_screenshot+'<ubdiv>'+Lang.get('attach_a_screenshot')+'</ubdiv>'+'<utooltip>'+Lang.get('attach_a_screenshot')+'</utooltip>'+'<div class="userback-screenshot-preview-checkmark">'+Svg_Icons.checkmark+'</div>'+'</btn>':'')+(display_video?'<btn class="userback-controls-video">'+Svg_Icons.feedback_video+'<ubdiv>'+Lang.get('capture_video')+'</ubdiv>'+'<utooltip>'+Lang.get('capture_video')+'</utooltip>'+'<div class="userback-screenshot-preview-checkmark">'+Svg_Icons.checkmark+'</div>'+'</btn>':'')+(display_attachment?'<btn class="userback-controls-add-attachment">'+Svg_Icons.paperclip+'<ubdiv>'+Lang.get('attach_a_file')+'</ubdiv>'+'<utooltip>'+Lang.get('attach_a_file')+'</utooltip>'+'<div class="userback-screenshot-preview-checkmark">'+Svg_Icons.checkmark+'</div>'+'</btn>':'')+'</ubdiv>'+'<input type="file" class="userback-controls-attachment">'+'</ubdiv>':'')+'<ubdiv class="userback-controls-screenshot-preview">'+'<btn class="userback-controls-remove-screenshot">'+Svg_Icons.trash+'</btn>'+(this.features.multiple_screenshots&&!this.canvas_mode?'<btn class="userback-controls-add-screenshot">'+Svg_Icons.plus+'</btn>':'')+'<ubadge class="userback-controls-screenshot-thumbnail">'+Svg_Icons.photo+'<span>'+Lang.get('screenshot_attached')+'</span>'+'<div class="userback-screenshot-preview"></div>'+'</ubadge>'+(this.features.multiple_screenshots&&!this.canvas_mode?'<div class="userback-controls-screenshot-counter">'+Svg_Icons.times_l+' <span>'+this.screenshot_data_uri.length+'</span></div>':'')+'</ubdiv>'+'<ubdiv class="userback-controls-video-preview">'+'<btn class="userback-controls-remove-video">'+Svg_Icons.trash+'</btn>'+'<ubadge class="userback-controls-video-thumbnail">'+Svg_Icons.play+'<span>'+Lang.get('screen_recording')+'</span>'+'</ubadge>'+'</ubdiv>'+'<ubdiv class="userback-controls-attachment-name">'+Svg_Icons.paperclip+'<span></span>'+'<btn class="userback-controls-remove-attachment">'+Svg_Icons.trash+'</btn>'+'</ubdiv>'+(form_settings.custom_field_1_type==='disclaimer'&&form_settings.custom_field_1_label?'<ubdiv class="userback-disclaimer">'+Lib.htmlEntitiesWithA(form_settings.custom_field_1_label,true)+'</ubdiv>':'')+(form_settings.custom_field_1_type==='checkbox'?'<ubdiv class="userback-checkbox-container">'+'<input name="custom_field_1" type="checkbox"'+(form_settings.custom_field_1_mandatory?' required':'')+'>'+'<ubdiv class="userback-checkbox">'+Svg_Icons.check+'</ubdiv>'+'<ubdiv class="userback-checkbox-label">'+Lib.htmlEntitiesWithA(form_settings.custom_field_1_label,true)+'</ubdiv>'+'</ubdiv>':'')+'<button class="userback-controls-send userback-button-input">'+'<span class="userback-controls-send-progress"></span>'+'<span class="userback-controls-send-text">'+(Lib.htmlEntities(form_settings.send_button_text)||Lang.get('send'))+'</span>'+'</button>'+'</ubdiv>'+'</form>';this.ui.controls.find('.userback-controls-step[data-step="2"]').html(html);if(default_rating){this.ui.controls.find('ubrating ubdiv[data-rating="'+default_rating+'"]').click();}if(default_name){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('input[name="name"]').val(default_name);}if(default_email){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('input[name="email"]').val(default_email);}if(default_title){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('input[name="title"]').val(default_title);}if(default_description){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('textarea[name="description"]').val(default_description);}if(default_category){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('select[name="category"]').val(default_category);}if(default_priority){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('select[name="priority"]').val(default_priority);}if(default_assignee){this.ui.controls.find('.userback-controls-step[data-step="2"]').find('select[name="assignee"]').val(default_assignee);}if(form_settings.custom_field_1_type&&default_custom_field_1){switch(form_settings.custom_field_1_type){case'short_answer':this.ui.controls.find('.userback-controls-step[data-step="2"]').find('input[name="custom_field_1"]').val(default_custom_field_1);break;case'long_answer':this.ui.controls.find('.userback-controls-step[data-step="2"]').find('textarea[name="custom_field_1"]').val(default_custom_field_1);break;case'checkbox':this.ui.controls.find('.userback-controls-step[data-step="2"]').find('input[name="custom_field_1"]').prop('checked',default_custom_field_1);break;}}},menuItemClick:function(e){this.form_type=$(e.currentTarget).data('type');var direct_to='form';if(this.form_type==='bug'){direct_to=this.configs.direct_to_bug;}else if(this.form_type==='feature_request'){direct_to=this.configs.direct_to_feature_request;}else{direct_to=this.configs.direct_to_general;}if(direct_to==='screenshot'){this.attachScreenshot();}else if(direct_to==='video'){this.startVideo();}else if(direct_to==='portal'){if(this.configs.portal_target==='redirect'){window.location.href=this.getPortalUrl();}else if(this.configs.portal_target==='window'){window.open(this.getPortalUrl());}else{this.openPortal();}}else{this.openForm(this.form_type);}},getPortalUrl:function(embed){var session_info;if(Feedback.name&&Feedback.email){session_info=btoa(JSON.stringify({email:Feedback.email,name:Feedback.name}));}var portal_url=this.configs.portal_url;var params=[];if(embed){params.push('embed=widget');}if(session_info){params.push('sso_gl='+encodeURIComponent(session_info));}return portal_url+(params.length?'?'+params.join('&'):'');},// when people select to open form
openForm:function(form_type){this.form_type=form_type;this.setFormHTML();this.ui.controls.find('.userback-controls-step[data-step="1"]').hide();this.ui.controls.find('.userback-controls-step[data-step="2"]').show();this.focusControls();this.controls_step=2;},// open custom help link
openHelp:function(){if(this.configs.help_link.toLowerCase().indexOf('javascript:')===0){eval(this.configs.help_link.replace('javascript:',''));Feedback.reset();}else{window.location=this.configs.help_link;}},openPortal:function(){this.ui.element.attr('isopen','true');if(this.ui.controls){this.ui.controls.hide();}this.ui.button.hide();this.addFeedbackPortal();},// when attach screnshot link/button is clicked
attachScreenshot:function(e){if(typeof e!=='undefined'&&$(e.currentTarget).attr('disabled')){return;}if(this.configs.native_screenshot){if(window.location.protocol==='http:'){Feedback.modalConfirm('<div class="userback-modal-title">HTTPS required</div><div class="userback-modal-info-text">A secure HTTPS connection is required for native browser screenshot.</div>',function(){Feedback.modalClose();},Lang.get('ok',true));return;}// hide widget
this.hideControls();Screenshot_Capture.start({onSubmit:image_data_uri=>{this.addNativeScreenshot(image_data_uri);},onCancel:()=>{this.Tools.cancelRoutingOption();}});}else{if(this.screenshot_data_uri.length<this.screenshot_limit){this.addOverlay();}}},startVideo:function(e){if(typeof e!=='undefined'&&$(e.currentTarget).attr('disabled')){return;}if(window.location.protocol==='http:'){Feedback.modalConfirm('<div class="userback-modal-title">'+Lang.get('video_not_supported',true)+'</div><div class="userback-modal-info-text">'+Lang.get('video_requires_https',true)+'</div>',function(){Feedback.modalClose();},Lang.get('ok',true));return;}this.hideControls();Video_Capture.start({onSubmit:this.Tools.submitVideoCapture,onCancel:this.Tools.cancelVideoCapture.bind(this.Tools),timer:this.configs.video_time});},toggleAttachButtons:function(){this.ui.controls.find('.userback-controls-attach-actions').toggle(this.ui.controls.find('.userback-controls-attach-actions btn[disabled]').length!==this.ui.controls.find('.userback-controls-attach-actions btn').length);},checkScreenshotLimit:function(){if(this.screenshot_data_uri.length<this.screenshot_limit){this.ui.controls.find('.userback-controls-add-screenshot').removeAttr('disabled');}else{this.ui.controls.find('.userback-controls-add-screenshot').attr('disabled','disabled');}},videoFullscreen:function(e,video_url){video_url=video_url||this.video_url;var video_overlay=$('<div id="userback_video_player"><div></div></div>');var video=$('<video preload="auto" controls src="'+video_url+'"></video>');var video_close=$('<btn id="userback_video_player_close">').html(Svg_Icons.close);video.appendTo(video_overlay.children('div'));video_close.appendTo(video_overlay);video_overlay.appendTo($(document.body));video_close.on('click',function(){video_overlay.remove();});},removeVideoData:function(){this.video_blob=null;this.video_url='';this.video_annotation=[];this.ui.controls.find('.userback-controls-video-preview').hide();this.ui.controls.find('.userback-controls-screenshot, .userback-controls-video').removeAttr('disabled');this.ui.controls.find('.userback-controls-screenshot, .userback-controls-video').find('.userback-screenshot-preview-checkmark').hide();this.toggleAttachButtons();},removeScreenshotData:function(){this.screenshot_data_uri=[];this.comments=[];this.ui.controls.find('.userback-controls-screenshot-preview').hide();this.ui.controls.find('.userback-controls-screenshot, .userback-controls-video').removeAttr('disabled');this.ui.controls.find('.userback-controls-screenshot, .userback-controls-video').find('.userback-screenshot-preview-checkmark').hide();this.toggleAttachButtons();},removeVideo:function(e){e.stopPropagation();this.removeVideoData();},removeScreenshot:function(e){e.stopPropagation();if(this.feedback_url){this.feedback_url='';}else{this.removeScreenshotData();}this.checkScreenshotLimit();},hideControls:function(){this.ui.button.hide();this.ui.controls.hide();this.ui.element.removeAttr('isopen');},showControls:function(force_show_form){if(!this.isAutoHide()){this.ui.button.show();}if(this.controls_step===2){// go straight to the form step
this.setFormHTML();this.ui.controls.find('.userback-controls-step[data-step="1"]').hide();this.ui.controls.find('.userback-controls-step[data-step="2"]').show();if(force_show_form){this.ui.controls.find('.userback-controls-form').show();}if(this.screenshot_data_uri.length){this.ui.controls.find('.userback-controls-screenshot-preview').show();}}this.ui.controls.show();this.focusControls();this.ui.element.attr('isopen','true');},// open the control panel
openControls:function(e){Session_Recorder.addCustomEvent('widget_open',{type:'widget_interaction',name:'Widget Open'});this.checkLive();this.addControls();// open widget form
var has_help=this.configs.help_link?true:false;var open_tool=false;this.controls_step=1;// step: routing screen
if(!has_help&&!this.configs.display_feedback){if(this.configs.workflow_type==='capture'||this.configs.workflow_type==='video'||this.configs.workflow_type==='general'&&this.configs.direct_to_general!=='form'||this.configs.workflow_type==='bug'&&this.configs.direct_to_bug!=='form'||this.configs.workflow_type==='feature_request'&&this.configs.direct_to_feature_request!=='form'){// step: screenshot or video tool
this.controls_step=0;}else if(this.configs.workflow_type==='general'||this.configs.workflow_type==='bug'||this.configs.workflow_type==='feature_request'){// step: form
this.controls_step=2;}if(this.configs.workflow_type==='capture'||this.configs.workflow_type==='general'&&this.configs.direct_to_general==='screenshot'||this.configs.workflow_type==='bug'&&this.configs.direct_to_bug==='screenshot'||this.configs.workflow_type==='feature_request'&&this.configs.direct_to_feature_request==='screenshot'){if(this.configs.workflow_type==='capture'){this.form_type='general';}else{this.form_type=this.configs.workflow_type;}// screenshot
this.hideControls();this.addOverlay();open_tool=true;}else if(this.configs.workflow_type==='video'||this.configs.workflow_type==='general'&&this.configs.direct_to_general==='video'||this.configs.workflow_type==='bug'&&this.configs.direct_to_bug==='video'||this.configs.workflow_type==='feature_request'&&this.configs.direct_to_feature_request==='video'){if(this.configs.workflow_type==='capture'){this.form_type='general';}else{this.form_type=this.configs.workflow_type;}// video
this.startVideo();open_tool=true;}}if(!open_tool){this.ui.element.attr('isopen','true');}if(this.on_open){this.on_open.call(Userback_Api);}// stop Bootstrap from stealing focus
var page_jquery=window.$||window.jQuery;if(page_jquery&&page_jquery()&&page_jquery().off){page_jquery(document).off('focusin.bs.modal');}},focusControls:function(e){this.ui.controls.find('input[type="text"],input[type="email"],textarea').filter(':visible').each(function(){if($(this).val()===''){$(this).focus();return false;}});},viewOtherFeedback:function(e){this.ui.element.attr('isopen','true');this.ui.controls.hide();this.addFeedbackView();},changeCategory:function(e){this.categories=this.ui.controls.find('select[name="category"]').val();},changePriority:function(e){this.priority=this.ui.controls.find('select[name="priority"]').val();},changeAssignee:function(e){this.assignee=this.ui.controls.find('select[name="assignee"]').val();},checkboxToggle:function(e){if($(e.currentTarget).attr('disabled')){return;}var is_checked=this.ui.controls.find('.userback-checkbox-container input[type="checkbox"]').prop('checked');this.ui.controls.find('.userback-checkbox-container input[type="checkbox"]').prop('checked',!is_checked);var field_name=this.ui.controls.find('.userback-checkbox-container input[type="checkbox"]').attr('name');if(field_name&&typeof this.form_data[field_name]!=='undefined'){this.form_data[field_name]=!is_checked;}},// onclick paperclip icon
selectAttachment:function(e){if($(e.currentTarget).attr('disabled')){return;}this.ui.controls.find('.userback-controls-attachment').click();},selectRating:function(e){var form_settings=this.getFormSettings(this.form_type);this.ui.controls.find('ubrating > ubdiv').addClass('inactive');if(form_settings.rating_type==='emoji'||form_settings.rating_type==='thumb'){$(e.currentTarget).removeClass('inactive');}else if(form_settings.rating_type==='star'||form_settings.rating_type==='heart'){$(e.currentTarget).prevAll().removeClass('inactive');$(e.currentTarget).removeClass('inactive');}var rating='';if(form_settings.rating_type){var selected_icon=this.ui.controls.find('ubrating > ubdiv:not(.inactive):last');if(selected_icon.length){rating=selected_icon.data('rating');}this.form_data.rating=rating;}this.ui.controls.find('.userback-controls-form').show();this.focusControls();},previewRating:function(e){var form_settings=this.getFormSettings(this.form_type);if(form_settings.rating_type==='star'||form_settings.rating_type==='heart'){this.ui.controls.find('ubrating > ubdiv').removeClass('highlight').addClass('preview');$(e.currentTarget).prevAll().addClass('highlight');$(e.currentTarget).addClass('highlight');}else if(form_settings.rating_type==='emoji'||form_settings.rating_type==='thumb'){this.ui.controls.find('ubrating > ubdiv').removeClass('highlight').addClass('preview');$(e.currentTarget).addClass('highlight');}},unPreviewRating:function(e){this.ui.controls.find('ubrating > ubdiv').removeClass('highlight preview');},renderAttachment:function(is_update){if(is_update){this.ui.controls.find('.userback-controls-add-attachment .ub-checkmark').addClass('ub-checkmark-fixed');}if(this.attachment_file_name){this.ui.controls.find('.userback-controls-attachment-name').show().children('span').text(Lib.baseName(this.attachment_file_name));this.ui.controls.find('.userback-controls-add-attachment').attr('disabled','disabled');this.ui.controls.find('.userback-controls-add-attachment .userback-screenshot-preview-checkmark').show();}else{this.ui.controls.find('.userback-controls-attachment').val('');this.ui.controls.find('.userback-controls-attachment-name').hide();this.ui.controls.find('.userback-controls-add-attachment').removeAttr('disabled');this.ui.controls.find('.userback-controls-add-attachment .userback-screenshot-preview-checkmark').hide();}},removeAttachment:function(e){this.attachment_data_uri='';this.attachment_file_name='';this.renderAttachment();this.toggleAttachButtons();},uploadAttachment:function(e){if(!e.target.files||!e.target.files.length){return;}var file=e.target.files[0];var reader=new FileReader();var size_limit=Feedback.configs.attachment_size||5;// file size limit: 5MB
var error=false;var block_list=['ade','adp','apk','appx','appxbundle','bat','cab','chm','cmd','com','cpl','dll','dmg','ex','ex_','exe','hta','ins','isp','iso','jar','js','jse','lib','lnk','mde','msc','msi','msix','msixbundle','msp','mst','nsh','pif','ps1','scr','sct','shb','sys','vb','vbe','vbs','vxd','wsc','wsf','wsh'];if(block_list.indexOf(Lib.fileExtension(file.name).toLowerCase())!==-1){error=Lang.get('file_format_not_supported');}if(file.size>size_limit*1024*1024){error=Lang.get('max')+': '+size_limit+'MB';}if(error){this.ui.controls.find('.userback-controls-attachment-name').show().children('span').text(error);}else{reader.onload=()=>{this.attachment_data_uri=reader.result;this.attachment_file_name=file.name;this.renderAttachment();this.toggleAttachButtons();};reader.readAsDataURL(file);}},// get data
getData:function(){var form_settings=this.getFormSettings(this.form_type);var comments=[];$.each(this.comments,function(key,comment){comments.push(comment.getData());});var rating='';if(form_settings.rating_type){var selected_icon=this.ui.controls?.find('ubrating > ubdiv:not(.inactive):last');if(selected_icon?.length){rating=selected_icon.data('rating');}}if(!this.screenshot_window_x){this.screenshot_window_x=window.innerWidth;this.screenshot_window_y=window.innerHeight;this.screenshot_window_top=$(window).scrollTop()||$(document).scrollTop();this.screenshot_window_left=$(window).scrollLeft()||$(document).scrollLeft();}var custom_field_data=[];if(form_settings.custom_field_1_type==='checkbox'&&form_settings.custom_field_1_label){custom_field_data.push({type:'checkbox',label:form_settings.custom_field_1_label,value:this.ui.controls?.find('.userback-checkbox-container input[type="checkbox"]').prop('checked')?'Yes':''});}else if(form_settings.custom_field_1_type==='disclaimer'&&form_settings.custom_field_1_label){custom_field_data.push({type:'disclaimer',label:form_settings.custom_field_1_label,value:'Yes'});}else if(form_settings.custom_field_1_type==='short_answer'||form_settings.custom_field_1_type==='long_answer'){custom_field_data.push({type:form_settings.custom_field_1_type,label:form_settings.custom_field_1_label,value:this.ui.controls?.find('[name="custom_field_1"]').val()});}return{action:'feedback/new',load_type:this.load_type,form_type:this.form_type,access_token:this.access_token,domain:this.session_data.domain||document.domain||'',pathname:this.session_data.pathname||window.location.pathname,page:this.session_data.page||window.location.href,page_title:this.session_data.page_title||document.title||'',http_header:this.http_header,demo:this.demo_mode,is_live:this.configs.is_live,is_auto_screenshot:this.is_auto_screenshot,name:this.ui.controls?.find('input[name="name"]').length?this.ui.controls.find('input[name="name"]').val():this.name||'',email:this.ui.controls?.find('input[name="email"]').length?this.ui.controls.find('input[name="email"]').val():this.email||'',title:this.ui.controls?.find('input[name="title"]').length?this.ui.controls.find('input[name="title"]').val():'',description:this.ui.controls?.find('textarea[name="description"]').length?this.ui.controls.find('textarea[name="description"]').val():'',comments:comments,has_video:this.video_url?true:false,video_annotation:this.video_annotation,screenshot:this.screenshot_data_uri,attachment:this.attachment_data_uri||'',attachment_file_name:this.attachment_file_name||'',ua_data:JSON.stringify(Lib.getUAData()),user_agent:window.navigator.userAgent,window_x:this.session_data.window_x||this.screenshot_window_x,window_y:this.session_data.window_y||this.screenshot_window_y,window_top:this.screenshot_window_top,window_left:this.screenshot_window_left,resolution_x:this.session_data.resolution_x||window.screen.width,resolution_y:this.session_data.resolution_y||window.screen.height,dpi:this.session_data.dpi||window.devicePixelRatio||0,colour_depth:this.session_data.colour_depth||window.screen.colorDepth||0,categories:this.categories,priority:this.priority,assignee:this.assignee,user_data:this.user_data,custom_data:this.custom_data,custom_field:custom_field_data,rating:rating,console_logs:Userback.Console_Recorder.getAll(),events:Userback.Event_Recorder.getAll(),session_recording_events:!this.video_url&&form_settings.allow_session_recording?Session_Recorder.getAll():undefined};},closeWidget:function(e){var _doClose=()=>{clearTimeout(this.close_timeout);this.reset();if(this.on_close){this.on_close.call(Userback_Api);}this.modalClose();};// ask for confirm
if(this.hasUnsavedChanges()){this.modalConfirm('<div class="userback-modal-title">'+Lang.get('want_to_leave',true)+'</div><div class="userback-modal-info-text">'+Lang.get('changes_not_saved',true)+'</div>',_doClose);}else{_doClose();}},hasUnsavedChanges:function(e){if(!this.ui.controls){return false;}var widget_data=this.getData();// ask for confirm
if((widget_data.description||widget_data.rating||widget_data.screenshot.length||widget_data.attachment)&&this.controls_step===2){return true;}else{return false;}},// reset everything
reset:function(e){if(e&&e.type==='click'){e.preventDefault();}if(!this.isAutoHide()){if(this.ui.button){this.ui.button.show();}}if(this.ui.element){this.ui.element.removeAttr('isopen');}if(Video_Capture.isOpen()){Video_Capture.stopCapture();}this.comments=[];this.screenshot_data_uri=[];this.attachment_data_uri='';this.attachment_file_name='';this.local_styles=[];this.video_blob=null;this.video_url='';this.video_annotation=[];this.form_data={rating:'',name:'',email:'',title:'',description:'',category:'',priority:'',assignee:'',custom_field_1:''};this.removeOverlay();this.removeControls();this.removeFeedbackView();this.removeFeedbackPortal();this.Tools.removeTools();this.controls_step=0;},// send data to server
send:function(e){e.preventDefault();if(this.before_send){this.before_send.call(Userback_Api);}var form_settings=this.getFormSettings(this.form_type);var post_data=this.getData();var total_size=0;post_data.screenshot.forEach(function(screenshot_data){total_size+=screenshot_data.data_uri.length/1024/1024;});var send_button=this.ui.controls.find('.userback-controls-send');send_button.prop('disabled',true);if(post_data.has_video){send_button.addClass('userback-controls-send-uploading');}else{send_button.addClass('userback-controls-send-loading');}this.ui.controls.find('.userback-controls-send-error').remove();var post_success_timeout;var _post_success=post_data=>{if(post_success_timeout){clearTimeout(post_success_timeout);post_success_timeout=null;}if(this.controls_step===3){return;}send_button.removeClass('userback-controls-send-loading');send_button.removeClass('userback-controls-send-uploading');var outro_icon='';switch(form_settings.outro_icon){case 1:outro_icon=Svg_Icons.checkmark;break;case 2:outro_icon=Svg_Icons.outro_message_check;break;case 3:outro_icon=Svg_Icons.outro_hand_clapping;break;case 4:outro_icon=Svg_Icons.outro_thumb_up;break;case 5:outro_icon=Svg_Icons.widget_stars;break;case 10:outro_icon='<ubdiv class="emoji-icon"></ubdiv>';break;}var success_icon=$('<ubdiv class="userback-controls-send-success">').html('<style>'+':root {'+'--widget-outro-icon: '+form_settings.outro_icon_colour+' !important;'+'}'+'</style>'+'<ubdiv data-icon="'+form_settings.outro_icon+'">'+outro_icon+'<ubspan>'+Lib.htmlEntities(form_settings.outro_headline)+'</ubspan>'+'<p>'+Lib.htmlEntitiesWithA(form_settings.outro_paragraph,true)+'</p>'+'</ubdiv>'+(this.configs.display_powered_by?'<ubfooter>'+'<a href="https://www.userback.io?utm_source=widget&utm_medium=power_by_link&utm_campaign=widget_code">'+'<span>Powered by</span>'+'<span>'+Svg_Icons.logo+'</span>'+'</a>'+'</ubfooter>':''));this.ui.controls.append(success_icon);this.controls_step=3;var outro_has_link=this.ui.controls.find('.userback-controls-send-success p a').length?true:false;var reset=()=>{if(this.is_posting){return;}this.reset.call(this);if(this.after_send){var callback_data=$.extend({},post_data);delete callback_data.action;delete callback_data.access_token;if(!Userback.screen_capture&&this.configs.is_live){delete callback_data.screenshot;}this.after_send.call(Userback_Api,callback_data);}};this.close_timeout=setTimeout(reset,outro_has_link||this.is_posting?10000:3000);// dismiss in 10 seconds
};var _post_error=error_msg=>{error_msg=error_msg||'Submit error, please try again.';if(post_success_timeout){clearTimeout(post_success_timeout);post_success_timeout=null;}if(this.controls_step===2){send_button.removeClass('userback-controls-send-loading');send_button.removeClass('userback-controls-send-uploading');send_button.prop('disabled',false);$('<ubdiv>').addClass('userback-controls-send-error').text(error_msg).insertAfter(send_button);}else if(this.controls_step===3){$('<ubdiv>').addClass('userback-controls-send-error-2').text(error_msg).insertAfter($('.userback-controls-send-success'));}};var _post_complete=()=>{if(this.hasSessionRecording()){Session_Recorder.startRecording();}};var _post=()=>{this.ui.controls.find('input[type="text"],input[type="email"],textarea,select').prop('disabled',true);this.ui.controls.find('.userback-controls-attach-actions btn, .userback-checkbox-container > ubdiv').attr('disabled','disabled');this.is_posting=true;// when posting large session recording
// wait for 3 seconds
if(post_data.session_recording_events){post_success_timeout=setTimeout(()=>{_post_success(post_data);},5000);}$.ajax(this.request_url+'/?postWidget',{data:post_data,crossDomain:true,dataType:'json',type:'POST',context:this,success:function(response){if(!this.video_blob||!response.url){this.is_posting=false;if(response===true){_post_success(post_data);}else if(response.error&&response.error==='ip_limit'){_post_error('Too many requests submitted from the same IP address. Please wait...');}else{_post_error();}return;}// upload video
$.ajax(response.url,{type:'PUT',data:this.video_blob,crossDomain:true,context:this,processData:false,xhr:function(){var xhr=new window.XMLHttpRequest();if(xhr.upload){send_button.width(send_button.width());xhr.upload.addEventListener('progress',function(evt){if(evt.lengthComputable){var percent=parseInt(evt.loaded/evt.total*100,10);send_button.find('.userback-controls-send-text').text(percent+'%');send_button.find('.userback-controls-send-progress').width(percent+'%');}},false);}return xhr;},complete:function(){this.is_posting=false;_post_success(post_data);}});},error:function(){this.is_posting=false;_post_error();this.ui.controls.find('input[type="text"],input[type="email"],textarea,select,.userback-controls-attach-actions btn').prop('disabled',false);this.ui.controls.find('.userback-controls-attach-actions btn, .userback-checkbox-container > ubdiv').removeAttr('disabled');},complete:function(){_post_complete();}});if(post_data.access_token){if(post_data.name){Lib.storage.set('ubw_name',post_data.name);}if(post_data.email){Lib.storage.set('ubw_email',post_data.email);}}};var _send=()=>{if(this.configs.auto_screenshot&&post_data.screenshot.length===0&&!post_data.has_video&&!this.configs.native_screenshot){// auto screenshot
Feedback.Tools.autoScreenshot(()=>{post_data.is_auto_screenshot=true;_post();});}else{_post();}};// too large
if(total_size>50){// > 50MB
_post_error('Error: page size is too large.');}else{_send();}Session_Recorder.stopRecording();},// remove the last open empty comment
closeEmptyComment:function(){if(this.comments.length&&this.comments[this.comments.length-1].isEmpty()){this.comments[this.comments.length-1].destroy();this.comments.splice(this.comments.length-1,1);}},submitUnsavedComment:function(){this.comments.forEach(function(comment){if(comment.isOpen()){comment.submit();}});},commentStart:function(e){var pin_x,pin_y;if(e.changedTouches&&e.changedTouches.length){pin_x=e.changedTouches[0].pageX;pin_y=e.changedTouches[0].pageY;}else{pin_x=e.pageX;pin_y=e.pageY;}if(this.comments.length&&this.comments[this.comments.length-1].isOpen()){this.comments[this.comments.length-1].setPosition(pin_x,pin_y);}else{$.each(this.comments,function(index,comment){comment.hideForm();});this.addComment(pin_x,pin_y);Feedback.disableScroll();}},capture:function(callback){if(Userback.screen_capture){// chrome extension
Userback.screen_capture(callback.bind(this));}else if(this.configs.native_screenshot){this.nativeScreenshotCapture(callback.bind(this));}else if(this.configs.is_live){// html2image
this.html2imageCapture(callback.bind(this));}else{if(typeof html2canvas==='undefined'){this.loadScripts([this.scripts.html2canvas],()=>{this.html2canvasCapture(callback.bind(this));});}else{this.html2canvasCapture(callback.bind(this));}}},addLocalStyles:function(){if(!this.configs.is_live){return;}if(!document.styleSheets||!document.styleSheets.length){return;}this.local_styles=[];for(var i=0;i<document.styleSheets.length;i++){var style_sheet=document.styleSheets[i];if(!style_sheet.ownerNode){continue;}var add_style=false;var replace_style=false;if(style_sheet.ownerNode.tagName==='LINK'&&style_sheet.ownerNode.getAttribute('href')){if(style_sheet.ownerNode.getAttribute('href').substr(0,5)==='blob:'){add_style=true;}if(style_sheet.href){style_sheet.ownerNode.setAttribute('ubhref',style_sheet.href);}}else if(style_sheet.ownerNode.tagName==='LINK'&&style_sheet.ownerNode.integrity){add_style=true;}else if(style_sheet.ownerNode.tagName==='STYLE'){// inline style tag
replace_style=true;}if(!add_style&&!replace_style){continue;}if(!style_sheet.cssRules||!style_sheet.cssRules.length){continue;}var styles='';for(var j=0;j<style_sheet.cssRules.length;j++){styles+=style_sheet.cssRules[j].cssText;}if(styles){if(add_style){$('<style data-ub-local-style-append="'+this.local_styles.length+'">').insertAfter(style_sheet.ownerNode);}else{$(style_sheet.ownerNode).attr('data-ub-local-style-replace',this.local_styles.length);}this.local_styles.push({type:add_style?'append':'replace',styles:styles});}}},html2imageCapture:function(callback){var doctype='';var node=document.doctype;// local styles (blob styles, hidden inline style tag)
try{this.addLocalStyles();}catch(e){}if(node){doctype="<!DOCTYPE "+node.name+(node.publicId?' PUBLIC "'+node.publicId+'"':'')+(!node.publicId&&node.systemId?' SYSTEM':'')+(node.systemId?' "'+node.systemId+'"':'')+'>';}var iframe_data='';var iframe_count=0;$('body *').add('svg').each(function(){var element=$(this);var tag_name=element.prop('tagName').toUpperCase();var scroll_top=element.scrollTop();var scroll_left=element.scrollLeft();var messure_height=element.hasClass('userback-lazy-load');if(scroll_top>0){element.attr('data-scrolltop',scroll_top);}if(scroll_left>0){element.attr('data-scrollleft',scroll_left);}if(tag_name==='SELECT'||tag_name==='TEXTAREA'||tag_name==='INPUT'){element.attr('data-value',element.val());if(element.prop('type')==='checkbox'||element.prop('type')==='radio'){if(element.prop('checked')===true){element.attr('data-checked','true');}}}if(messure_height||tag_name==='VIDEO'||tag_name==='SELECT'||tag_name==='SVG'){if(element.css('box-sizing')==='border-box'){element.attr('data-ubheight',element.outerHeight());}else{element.attr('data-ubheight',element.height());}}else if(tag_name==='BASE'){element.attr('href',element.get(0).href);}// iframe
if(tag_name==='IFRAME'&&!element.attr('srcdoc')){try{var iframe_window=element.get(0).contentWindow;var iframe_document=iframe_window.document;if(iframe_document){var node=iframe_document.doctype;var doctype="<!DOCTYPE "+node.name+(node.publicId?' PUBLIC "'+node.publicId+'"':'')+(!node.publicId&&node.systemId?' SYSTEM':'')+(node.systemId?' "'+node.systemId+'"':'')+'>';var base_url=element.attr('src');if(typeof URL!=='undefined'){base_url=new URL(element.attr('src'),window.location.href).href;}var iframe_content=doctype+iframe_document.documentElement.outerHTML;var base_tag='<base href="'+base_url+'" target="_blank">';iframe_content=iframe_content.replace(/<head>/i,'<head>'+base_tag);element.attr('userback_iframe_count',iframe_count);iframe_data+='<span style="display:none;" class="iframedata_'+iframe_count+'">'+Lib.b64EncodeUnicode(iframe_content)+'</span>';iframe_count++;}}catch(e){}}});if($(document).scrollTop()>0){$('body').attr('data-scrolltop',$(document).scrollTop());}else if($(document.body).scrollTop()>0){$('body').attr('data-scrolltop',$(document.body).scrollTop());}$(document.head).find('iframe').hide();// add ignore class
this.configs.recording_rules.screenshot.forEach(function(selector){try{$(selector).addClass('_userback-ignore');}catch(e){// catch invalid selectors
}});var document_html=doctype+"\r\n"+document.documentElement.outerHTML;if(iframe_data){document_html=document_html.replace(/userback_iframe_count/g,'scrolling="no" userback_iframe_count');}var scrollbar_size=Lib.getScrollbarSize();var scrollbar_styles='<style>'+'::-webkit-scrollbar {'+'width:'+scrollbar_size+'px;'+'height:'+scrollbar_size+'px;'+'}'+'</style>';document_html=document_html.replace(/(<head[^>]*>)/gi,'$1'+scrollbar_styles);this.local_styles.forEach(function(opt,index){var regex;if(opt.type==='replace'){regex=new RegExp('(<style[^>]*data-ub-local-style-replace="'+index+'"[^>]*>)([^<>]*)(<\/style>)','gi');}else if(opt.type==='append'){regex=new RegExp('(<style[^>]*data-ub-local-style-append="'+index+'"[^>]*>)([^<>]*)(<\/style>)','gi');}document_html=document_html.replace(regex,'$1'+opt.styles+'$3');});this.local_styles=[];$('[userback_iframe_count]').removeAttr('userback_iframe_count');$('[data-scrolltop]').removeAttr('data-scrolltop');$('[data-scrollleft]').removeAttr('data-scrollleft');$('[data-value]').removeAttr('data-value');$('[data-checked]').removeAttr('data-checked');$('[data-ubheight]').removeAttr('data-ubheight');$('[data-ub-local-style-append]').remove();$('[data-ub-local-style-replace]').removeAttr('data-ub-local-style-replace');$('._userback-ignore').removeClass('_userback-ignore');var canvas_data='';var canvas_array=document.getElementsByTagName('canvas');for(var i=0;i<canvas_array.length;i++){var canvas_data_url;if($(canvas_array[i]).is(':visible')){try{canvas_data_url=canvas_array[i].toDataURL('image/png',1.0);}catch(e){canvas_data_url='';}}else{canvas_data_url='';}// greater than 10MB?
if(canvas_data_url>10*1024*1024){canvas_data_url='';}canvas_data+='<span style="display:none;" class="canvasdata_'+i+'">'+canvas_data_url+'</span>';}var video_data='';var video_array=document.getElementsByTagName('video');for(var i=0;i<video_array.length;i++){var poster=video_array[i].getAttribute('poster');video_data+='<span style="display:none;" class="videodata_'+i+'">'+(poster?poster:'')+'</span>';}// find the last body tag to bypass iframe with srcdoc containing body
var last_index=document_html.lastIndexOf('</body>');if(last_index&&(canvas_data||video_data||iframe_data)){document_html=document_html.substring(0,last_index)+canvas_data+video_data+iframe_data+'</body></html>';}document_html=document_html.replace(/<!--(.|\s)*?-->/g,'');// remove html comments
document_html=document_html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'');// remove script tags
callback(document_html);},nativeScreenshotCapture:function(callback){var canvas=$('<canvas>').get(0);var context=canvas.getContext('2d');canvas.width=this.ui.overlay.width();canvas.height=this.ui.overlay.height();var screen_img=new Image();var snap_img=new Image();screen_img.onload=()=>{var image_ratio=screen_img.width/screen_img.height;var dwidth=Math.min(screen_img.width,canvas.width);var dheight=Math.min(screen_img.height,canvas.height);if(dwidth/dheight>image_ratio){dwidth=dheight*image_ratio;}else{dheight=dwidth/image_ratio;}var dx=(canvas.width-dwidth)/2;var dy=(canvas.height-dheight)/2;// center image
context.drawImage(screen_img,dx,dy,dwidth,dheight);var snap_svg=this.ui.overlay.find('#snap_svg');// svg must have width and height attributes for image to be rendered in canvas in firefox
snap_svg.attr('width',canvas.width);snap_svg.attr('height',canvas.height);// draw svg
var serializedSVG=new XMLSerializer().serializeToString(snap_svg.get(0));snap_img.src='data:image/svg+xml;base64,'+window.btoa(serializedSVG);};snap_img.onload=()=>{context.drawImage(snap_img,0,0);callback(canvas.toDataURL(this.mime_type,this.compression_rate));};screen_img.src=this.ui.overlay.find('#native_screenshot img').attr('src');},// capture a screnshot and update it in the controls
html2canvasCapture:function(callback){var svg_image_onload=svg_img_load_success=>{if(this.Tools.snap){this.Tools.snap.remove();}try{html2canvas(document.body,{scale:1,logging:false,proxy:this.proxy_url}).then(page_canvas=>{// control closed before callback
if(!this.ui.controls){return;}var error_count=0;// merge html2canvas with our canvas
var imageOnload=function(){var canvas=$('<canvas>').get(0);canvas.width=page_canvas.width;canvas.height=page_canvas.height;var context=canvas.getContext('2d');// full size canvas created by html2canvas
context.drawImage(html2canvas_image,0,0);// crop image to current viewport
try{var image_data_uri=canvas.toDataURL(this.mime_type,this.compression_rate);}catch(e){if(error_count>0){this.html2imageCapture(callback.bind(this));return;}error_count++;// IE10/11 Blob image in canvas can't be decoded to data url
var canvg_canvas=$(canvas).clone().hide().appendTo($(document.body)).get(0);canvg(canvg_canvas,svg_string);var canvg_data_url=canvg_canvas.toDataURL('image/png',1);$(canvg_canvas).remove();svg_img=new Image();svg_img.onload=e=>{imageOnload.call(this,true);};svg_img.onerror=e=>{imageOnload.call(this,false);};svg_img.src=canvg_data_url;}var temp_canvas=$('<canvas>').get(0);var context=temp_canvas.getContext('2d');var image=new Image();var image_height=$(window).height();temp_canvas.width=canvas.width;temp_canvas.height=image_height;image.onload=function(){// draw cropped image
var sourceX=0;var sourceY=$(window).scrollTop();var sourceWidth=canvas.width;var sourceHeight=image_height;var destWidth=canvas.width;var destHeight=image_height;var destX=0;var destY=0;context.drawImage(image,sourceX,sourceY,sourceWidth,sourceHeight,destX,destY,destWidth,destHeight);if(svg_img_load_success){context.drawImage(svg_annotation_img,0,0);}callback(temp_canvas.toDataURL(this.mime_type,this.compression_rate));};image.src=image_data_uri;};var imageOnError=()=>{this.html2imageCapture(callback.bind(this));};var html2canvas_image=new Image();html2canvas_image.onload=imageOnload;html2canvas_image.onerror=imageOnError;html2canvas_image.src=page_canvas.toDataURL(this.mime_type,this.compression_rate);}).catch(()=>{// something went wrong, use live
this.html2imageCapture(callback.bind(this));});}catch(e){this.html2imageCapture(callback.bind(this));}};// remove icons from svg, otherwise svg will have parsing problems in some browsers
this.Tools.removeDeleteIcons();// when use auto screenshot, snap is not created
if(this.Tools.snap){// set svg container size so image created from URL.createObjectURL will have a size
$('#snap_svg').attr({width:$('#snap_svg').width(),height:$('#snap_svg').height()});// SVG to Canvas
var svg_string=this.Tools.snap.outerSVG();// parse string using browser's internal api
svg_string=$('<div>').html(svg_string).html();// load the annotation svg first
// it will be added to the canvas later
var svg_annotation_img=new Image();var url='data:image/svg+xml;base64,'+btoa(svg_string);svg_annotation_img.onload=e=>{svg_image_onload.call(this,true);};svg_annotation_img.onerror=(e,b,c,d)=>{svg_image_onload.call(this,false);};svg_annotation_img.src=url;}else{svg_image_onload.call(this,false);}}};var callapi=function(){if(!Feedback.features.javascript_api){console.warn('JavaScript API is not available on your plan. https://www.userback.io/pricing');return false;}return true;};var Userback_Api={isLoaded:function(){return Feedback.is_loaded;},init:function(access_token,options){Userback.auto_start=false;Feedback.removeAPIHooks();Userback.access_token=access_token;if(typeof options==='object'){Object.keys(options).forEach(function(key){if(Feedback.validateAPIHook(key,options)){Userback[key]=options[key];}});}Userback_Api.destroy(true,true);// destroy UI only, keep the recorders
Feedback.init.call(Feedback);},start:function(){if(!callapi()){return;}Feedback.init.call(Feedback);console.warn('The start() method will be deprecated soon. Please use init() instead. For more details, please see https://support.userback.io/en/articles/5209252-javascript-api');},destroy:function(keep_instance,keep_recorder){Feedback.reset();// remove the widget button
if(Feedback.ui&&Feedback.ui.element){Feedback.ui.element.remove();}if(!keep_recorder){Userback.Event_Recorder.stop();Userback.Console_Recorder.stop();Session_Recorder.stopRecording();}if(!keep_instance){$('link.userback-css').remove();delete window.Userback;}// Ensure intercom observer is removed
if(typeof Feedback.IntercomObserver!=='undefined'){Feedback.IntercomObserver.disconnect();delete Feedback.IntercomObserver;}},open:function(mode,direct_to,callback){if(!Feedback.extension_domain_match){Feedback.modalMessage('The <b>account key</b> used is invalid. Please enter the correct key in extension option.');return;}if(!callapi()&&Feedback.load_type!=='chrome_extension'&&Feedback.load_type!=='firefox_extension'&&Feedback.load_type!=='edge_extension'){return;}if(!Feedback.isTargetingMatched()){console.warn('Couldn\'t open widget. Check widget target settings.');return;}if(!Userback.isLoaded()){console.warn('Widget code not loaded. Delay the open() call and check your project domain settings.');return;}Feedback.reset();Feedback.openControls();if(mode==='capture'||mode==='video'){Feedback.form_type='general';}else if(mode==='general'||mode==='form'){Feedback.form_type='general';}else if(mode==='bug'){Feedback.form_type='bug';}else if(mode==='feature_request'){Feedback.form_type='feature_request';}if(mode==='capture'||direct_to==='screenshot'){// old
Feedback.attachScreenshot();Feedback.controls_step=0;}else if(mode==='video'||direct_to==='video'){// old
Feedback.startVideo();Feedback.controls_step=0;}else if(mode==='general'||mode==='form'){Feedback.openForm('general');Feedback.controls_step=0;}else if(mode==='bug'){Feedback.openForm('bug');Feedback.controls_step=0;}else if(mode==='feature_request'){Feedback.openForm('feature_request');Feedback.controls_step=0;}else if(mode==='feedback'){Feedback.viewOtherFeedback();Feedback.controls_step=0;}},openPortal:function(){if(!callapi()){return;}Feedback.openPortal();},close:function(){if(!callapi()){return;}Feedback.reset();},show:function(){if(!callapi()){return;}if(Feedback.isTargetingMatched()){Feedback.ui.button.show();Feedback.ui.element.css('display','');}else{console.warn('Couldn\'t show widget. Check widget target settings.');}},hide:function(){if(!callapi()){return;}Feedback.reset();Feedback.ui.element.hide();},setEmail:function(email){if(!callapi()){return;}if(typeof email==='string'){Feedback.email=$.trim(email);}},setName:function(name){if(!callapi()){return;}if(typeof name==='string'){Feedback.name=$.trim(name);}},setCategories:function(categories){if(!callapi()){return;}if(typeof categories==='string'){Feedback.categories=$.trim(categories);}},setPriority:function(priority){if(!callapi()){return;}if(typeof priority==='string'){Feedback.priority=$.trim(priority).toLowerCase();}},identify:function(user_id,user_info){if(!callapi()){return;}if(typeof user_info==='undefined'){Feedback.user_data={id:user_id,info:{}};}else if(typeof user_info==='object'){if(Object.keys(user_info).length>100){return;}var data_copy=$.extend({},user_info);$.each(data_copy,function(key,value){if(typeof value!=='number'&&typeof value!=='string'&&typeof value!=='boolean'){delete data_copy[key];}});Feedback.user_data={id:user_id,info:$.extend({},data_copy)};if(typeof user_info.email==='string'){this.setEmail(user_info.email);}if(typeof user_info.name==='string'){this.setName(user_info.name);}}else{return false;}},setData:function(data){if(!callapi()){return;}if(typeof data!=='object'){return false;}var data_copy=$.extend({},data);$.each(data_copy,function(key,value){if(typeof value!=='number'&&typeof value!=='string'&&typeof value!=='boolean'){delete data_copy[key];}});Feedback.custom_data=$.extend({},data_copy);return data_copy;},setWidgetSettings:function(settings){// deprecated
return true;},// addHeader("EX: 123")
addHeader:function(key,val){if(!callapi()){return;}var index_found=false;Feedback.http_header.forEach(function(header,index){if(header.key==key){index_found=index;}});if(index_found!==false){Feedback.http_header.splice(index_found,1);}Feedback.http_header.push({key:key,value:val});return true;}};var Screenshot_Capture={device_list:{videoinput:[],videooutput:[]},options:{onSubmit:null,onCancel:null},start:function(options){this.options.onSubmit=options.onSubmit||null;this.options.onCancel=options.onCancel||null;this.getDevice(this.startCapture.bind(this));},getDevice:function(callback){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){callback();return;}navigator.mediaDevices.enumerateDevices().then(devices=>{devices.forEach(device=>{switch(device.kind){case'videoinput':this.device_list.videoinput.push(device);break;case'videooutput':this.device_list.videooutput.push(device);break;}});callback();}).catch(function(error){});},startCapture:function(){var displayMediaOptions={video:{cursor:false},audio:false};try{navigator.mediaDevices.getDisplayMedia(displayMediaOptions).then(stream=>{stream.getTracks()[0].onended=()=>{this.stopCapture();};var video_element=document.createElement('video');video_element.setAttribute('autoplay',1);video_element.srcObject=stream;video_element.addEventListener('play',()=>{var track=stream.getVideoTracks()[0];var track_settings=track.getSettings();var canvas=document.createElement('canvas');var context=canvas.getContext('2d');canvas.width=track_settings.width;canvas.height=track_settings.height;// wait for the screen select prompt screen to minimize
setTimeout(()=>{context.drawImage(video_element,0,0);var image_data_uri=canvas.toDataURL('image/png',1);stream.getTracks().forEach(function(track){track.stop();});this.options.onSubmit(image_data_uri);},500);});}).catch(this.handleCaptureError.bind(this));}catch(e){this.handleCaptureError(e);}},stopCapture:function(){this.options.onCancel();},handleCaptureError:function(e){console.log(e.name);console.log(e.message);console.log(e.toString());if(typeof e.name!=='undefined'&&e.name==='NotAllowedError'){if(e.message.toLowerCase()==='permission denied by system'){Feedback.modalConfirm('<div style="margin-bottom: 8px;"><b>Permission denied</b></div><div class="userback-modal-info-text">Please allow screen recording permission for the browser.</div>',function(){Feedback.modalClose();},'OK');}// browser permission is not allowed
this.stopCapture();}else{// when video recording (browser API) is not supported in the browser
Feedback.modalConfirm('<div style="margin-bottom: 8px;"><b>Native browser screenshot is not supported in your browser</b></div><div class="userback-modal-info-text">Please download the latest version of <a href="https://www.google.com/chrome/">Chrome</a>, <a href="https://www.mozilla.org/firefox/download/thanks/">Firefox</a> or <a href="http://microsoft.com/en-us/edge">Microsoft Edge</a>.</div>',function(){Feedback.modalClose();},'OK');}}};var Video_Capture={device_list:{audioinput:[],videoinput:[],audiooutput:[],videooutput:[]},recorded_blobs:[],recorder:null,audio_script_processor:null,screen_stream:null,voice_stream:null,combined_stream:null,options:{onSubmit:null,onCancel:null},timer_timeout:null,// 2 min timer
timer:180,// 180 seconds it decreases as time goes
timer_total:180,// does not change
count_down_timeout:null,// 3 second count down
count_down:3,// 3 seconds
is_muted:false,draw_mode:false,annotations:[],annotation_timeline:[],snap:null,// snap svg
mime_type:'video/webm; codecs="vp8, opus"',// this is the codecs supported in both Chrome and Firefox
isOpen:function(){return this.controls?true:false;},start:function(options){this.options.onSubmit=options.onSubmit||null;this.options.onCancel=options.onCancel||null;this.timer=options.timer||180;this.timer=Math.min(300,this.timer);// max: 5 mins
this.timer=Math.max(60,this.timer);// min: 1 min
this.timer_total=this.timer;this.reset();this.getDevice(this.createControls.bind(this));},reset:function(){this.recorded_blobs=[];this.recorder=null;this.audio_script_processor=null;this.screen_stream=null;this.voice_stream=null;this.combined_stream=null;this.is_muted=false;this.draw_mode=false;if(this.controls){this.pause_btn.html(Svg_Icons.pause);}this.snap=null;},getDevice:function(callback){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){callback();return;}navigator.mediaDevices.enumerateDevices().then(devices=>{devices.forEach(device=>{switch(device.kind){case'audioinput':this.device_list.audioinput.push(device);break;case'videoinput':this.device_list.videoinput.push(device);break;case'audiooutput':this.device_list.audiooutput.push(device);break;case'videooutput':this.device_list.videooutput.push(device);break;}});callback();}).catch(function(error){});},createControls:function(){this.controls_overlay=$('<ubdiv>').attr('id','userback_video_container').appendTo($(document.body));this.controls=$('<ubvideotoolbar>').appendTo($(document.body));this.mute_btn=$('<btn>').addClass('userback-video-controls-mute userback-video-controls-active').html('<btn-tooltip>'+'<btn-name>'+Lang.get('recording_mute',true)+'</btn-name>'+'<btn-shortcut>Shift + M</btn-shortcut>'+'</btn-tooltip>'+'<btn-tooltip-arrow></btn-tooltip-arrow>'+Svg_Icons.mic).appendTo(this.controls);this.draw_btn=$('<btn>').addClass('userback-video-controls-draw').html('<btn-tooltip>'+'<btn-name>'+Lang.get('recording_draw',true)+'</btn-name>'+'<btn-shortcut>Shift + D</btn-shortcut>'+'</btn-tooltip>'+'<btn-tooltip-arrow></btn-tooltip-arrow>'+Svg_Icons.highlighter).appendTo(this.controls);this.pause_btn=$('<btn>').addClass('userback-video-controls-pause').attr('disabled',true).html('<btn-tooltip>'+'<btn-name>'+Lang.get('recording_pause',true)+'</btn-name>'+'<btn-shortcut>Shift + P</btn-shortcut>'+'</btn-tooltip>'+'<btn-tooltip-arrow></btn-tooltip-arrow>'+Svg_Icons.pause).appendTo(this.controls);this.start_btn=$('<btn>').addClass('userback-video-controls-start').html('<btn-tooltip>'+'<btn-name>'+Lang.get('start_recording',true)+'</btn-name>'+'<btn-shortcut>Shift + S</btn-shortcut>'+'</btn-tooltip>'+'<btn-tooltip-arrow></btn-tooltip-arrow>'+'<btn-record></btn-record>').appendTo(this.controls);this.stop_btn=$('<btn>').addClass('userback-video-controls-stop').html('<btn-tooltip>'+'<btn-name>'+Lang.get('recording_finish',true)+'</btn-name>'+'<btn-shortcut>Shift + S</btn-shortcut>'+'</btn-tooltip>'+'<btn-tooltip-arrow></btn-tooltip-arrow>'+'<btn-timer><btn-timer-mask></btn-timer-mask></btn-timer>'+Svg_Icons.stop).appendTo(this.controls);this.timer_btn=$('<btn>').addClass('userback-video-controls-timer').text(this.getTimerText()).appendTo(this.controls);this.close_btn=$('<btn>').addClass('userback-video-controls-close').html('<btn-tooltip>'+'<btn-name>'+Lang.get('cancel',true)+'</btn-name>'+'<btn-shortcut>Esc</btn-shortcut>'+'</btn-tooltip>'+'<btn-tooltip-arrow></btn-tooltip-arrow>'+Svg_Icons.times).appendTo(this.controls);this.mic_volume=$('<ubvolume>'+'<ubdiv></ubdiv>'+'<ubdiv></ubdiv>'+'<ubdiv></ubdiv>'+'</ubvolume>').appendTo(this.mute_btn);if(!this.device_list.audioinput.length){this.is_muted=true;this.mute_btn.removeClass('userback-video-controls-active').attr('disabled',true);}this.stop_btn.find('btn-timer, btn-timer-mask').css('animation-duration',this.timer+'s');this.start_btn.on('click',this.startCapture.bind(this));this.stop_btn.on('click',this.stopCapture.bind(this));this.close_btn.on('click',this.cancelCapture.bind(this));this.pause_btn.on('click',this.pauseRecording.bind(this));this.mute_btn.on('click',this.muteVoice.bind(this));this.draw_btn.on('click',this.toggleDrawMode.bind(this));// Tooltip
this.mute_btn.on('mouseenter',this.showBtnTooltip.bind(this));this.mute_btn.on('mouseleave',this.hideBtnTooltip.bind(this));this.draw_btn.on('mouseenter',this.showBtnTooltip.bind(this));this.draw_btn.on('mouseleave',this.hideBtnTooltip.bind(this));this.pause_btn.on('mouseenter',this.showBtnTooltip.bind(this));this.pause_btn.on('mouseleave',this.hideBtnTooltip.bind(this));this.start_btn.on('mouseenter',this.showBtnTooltip.bind(this));this.stop_btn.on('mouseleave',this.hideBtnTooltip.bind(this));this.stop_btn.on('mouseenter',this.showBtnTooltip.bind(this));this.start_btn.on('mouseleave',this.hideBtnTooltip.bind(this));this.close_btn.on('mouseenter',this.showBtnTooltip.bind(this));this.close_btn.on('mouseleave',this.hideBtnTooltip.bind(this));this.controls.on('mousedown.videodrag',this.events.toolbarMouseDown.bind(this));$(document).on('mousemove.videodrag',this.events.documentMouseMove.bind(this));$(document).on('mouseup.videodrag',this.events.documentMouseUp.bind(this));$(document).on('mousedown.video',this.events.documentMouseDown.bind(this));$(document).on('keydown.video',this.events.documentKeyDown.bind(this));},events:{toolbarMouseDown:function(e){if($(e.target).prop('tagName').toLowerCase()!=='ubvideotoolbar'){return;}this.toolbar_drag_start=true;this.toolbar_drag_x=e.pageX;this.toolbar_drag_y=e.pageY;this.toolbar_left=parseInt(this.controls.css('left'),10);this.toolbar_bottom=parseInt(this.controls.css('bottom'),10);},documentMouseMove:function(e){if(!this.toolbar_drag_start){return;}var left=this.toolbar_left+(e.pageX-this.toolbar_drag_x);var bottom=this.toolbar_bottom-(e.pageY-this.toolbar_drag_y);left=Math.max(12,left);left=Math.min($(window).width()-12-this.controls.innerWidth(),left);bottom=Math.max(12,bottom);bottom=Math.min($(window).height()-12-this.controls.innerHeight(),bottom);this.controls.css({left:left,bottom:bottom});},documentMouseDown:function(e){if(!this.recorder){return;}if(this.draw_mode){return;}if($(e.target).parents('ubvideotoolbar').length||$(e.target).prop('tagName').toLowerCase()==='ubvideotoolbar'){return;}var mouse_click=$('<ubmouseclick>').appendTo($(document.body));mouse_click.css({top:e.pageY-$(window).scrollTop(),left:e.pageX-$(window).scrollLeft()});setTimeout(function(){mouse_click.remove();},500);},documentMouseUp:function(e){this.toolbar_drag_start=false;},documentKeyDown:function(e){var tag_name=$(e.target).prop('tagName').toLowerCase();if(['input','textarea'].indexOf(tag_name)!==-1){return;}switch(e.which){case 27:// ESC
this.close_btn.trigger('click');break;case 68:// d
if(e.shiftKey){this.draw_btn.trigger('click');}break;case 77:// m
if(e.shiftKey){this.mute_btn.trigger('click');}break;case 80:// p
if(e.shiftKey){this.pause_btn.trigger('click');}break;case 83:// s
if(e.shiftKey){if(this.start_btn.is(':visible')){this.start_btn.trigger('click');}else{this.stop_btn.trigger('click');}}break;}}},showBtnTooltip:function(e){if(this.toolbar_drag_start){return;}$(e.currentTarget).find('btn-tooltip, btn-tooltip-arrow').show();var left=$(e.currentTarget).find('btn-tooltip').offset().left;var right=parseInt(left,10)+parseInt($(e.currentTarget).find('btn-tooltip').outerWidth(),10);if(left<0){$(e.currentTarget).find('btn-tooltip').css('margin-left',Math.ceil(left)*-1+5);}else if(right>$(window).width()){$(e.currentTarget).find('btn-tooltip').css('margin-left',(right-$(window).width())*-1-5);}},hideBtnTooltip:function(e){$(e.currentTarget).find('btn-tooltip, btn-tooltip-arrow').hide();$(e.currentTarget).find('btn-tooltip').css('margin-left','');},removeControls:function(){this.controls_overlay.remove();this.controls.remove();this.controls_overlay=null;this.controls=null;// remove mic analyser
if(this.audio_script_processor&&typeof this.audio_script_processor._disconnect!=='undefined'){this.audio_script_processor._disconnect();}$('ubmouseclick').remove();$(document).off('mousedown.video');$(document).off('keydown.video');$(document).off('mousedown.videodrag');$(document).off('mousemove.videodrag');},muteVoice:function(){if(this.mute_btn.attr('disabled')){return;}this.is_muted=!this.is_muted;if(this.is_muted){this.mute_btn.removeClass('userback-video-controls-active');this.mute_btn.find('btn-name').text(Lang.get('recording_unmute',true));}else{this.mute_btn.addClass('userback-video-controls-active');this.mute_btn.find('btn-name').text(Lang.get('recording_mute',true));}this.toggleAudio();},toggleDrawMode:function(){if(this.draw_btn.attr('disabled')){return;}this.draw_mode=!this.draw_mode;this.draw_btn.toggleClass('userback-video-controls-active');if(this.draw_mode){this.addOverlay();}else{this.removeOverlay();}},toggleAudio:function(){if(!this.combined_stream){return;}var audio_tracks=this.combined_stream.getAudioTracks();if(audio_tracks.length){audio_tracks.forEach(audio_track=>{audio_track.enabled=!this.is_muted;});}},addOverlay:function(){var dpr=typeof window.devicePixelRatio==='undefined'?1:window.devicePixelRatio;$('ubvideooverlay').remove();this.overlay=$('<ubvideooverlay>');this.overlay.attr({dpr:dpr.toFixed(2),recording:this.recorder?'true':'false'});this.overlay.append('<svg id="snap_svg_video" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"></svg>');this.overlay.css('height',$(document).height());this.overlay.appendTo($(document.body));this.snap=Snap('#snap_svg_video');// mouse
this.snap.drag(this.dragMove.bind(this),this.dragStart.bind(this),this.dragStop.bind(this));// touch
this.snap.touchstart(this.dragStart.bind(this));this.snap.touchmove(this.dragMove.bind(this));this.snap.touchcancel(this.dragStop.bind(this));this.snap.touchend(this.dragStop.bind(this));$(window).on('resize.video',()=>{if(this.overlay){this.overlay.css('height',0);this.overlay.css('height',$(document).height());}});$(window).on('scroll.video',()=>{if(this.annotation_clear_timeout){return;}this.annotation_clear_timeout=setTimeout(()=>{this.annotations.forEach(function(obj){obj.animate({opacity:0},1000);});this.annotations=[];this.annotation_clear_timeout=null;},2000);});},removeOverlay:function(){$('ubvideooverlay').remove();$(window).off('scroll.video');$(window).off('resize.video');},dragStart:function(){if(!this.recorder){return;}if(this.draw_started){return;}clearTimeout(this.annotation_clear_timeout);this.annotation_clear_timeout=null;var x,y,event;if(typeof arguments[0]==='object'){event=arguments[0];}else{event=arguments[2];}// avoid half pixel issue
x=parseInt(event.offsetX,10);y=parseInt(event.offsetY,10);this.draw_started=true;this.svg_obj_path=this.snap.path('M'+x+','+y);this.svg_obj_path.attr({'stroke':'#E80000','stroke-width':15,'stroke-linecap':'round','stroke-linejoin':'round','fill':'transparent','opacity':0.8});this.stop_x=x;this.stop_y=y;this.annotation_timeline.push(this.timer_total-this.timer);},dragMove:function(){if(!this.recorder){return;}if(!this.draw_started){return;}var x,y,event;if(typeof arguments[0]==='object'){event=arguments[0];}else{event=arguments[4];}x=event.pageX-this.overlay.offset().left;y=event.pageY-this.overlay.offset().top;this.stop_x=x;this.stop_y=y;// don't draw off the screen
this.stop_x=Math.max(6,this.stop_x);this.stop_y=Math.max(6,this.stop_y);this.stop_x=Math.min(this.snap.node.clientWidth-6,this.stop_x);this.stop_y=Math.min(this.snap.node.clientHeight-6,this.stop_y);var current_path=this.svg_obj_path.attr('path');var new_path=current_path+'L'+this.stop_x+','+this.stop_y;this.svg_obj_path.attr('path',new_path);},dragStop:function(event){if(!this.recorder){return;}if(!this.draw_started){return;}var bbox=this.svg_obj_path.getBBox();if(bbox.width===0||bbox.height===0){this.annotation_timeline.pop();}this.annotations.push(this.svg_obj_path);this.draw_started=false;this.stop_x=0;this.stop_y=0;this.svg_obj_path=false;},startCapture:function(){var displayMediaOptions={video:{cursor:'always'},audio:false};var userMediaOptions={audio:true,video:false};try{var _afterGetVideoStream=()=>{// when clicking the stop share button
this.screen_stream.getTracks()[0].onended=()=>{this.stopCapture();};var count_down=this.count_down;var _timer=function(){if(count_down===0){this.controls_overlay.hide();$('.userback-video-count-down').remove();this.startRecording();}else{$('<utimer>').addClass('userback-video-count-down').text(count_down).appendTo($(document.body));count_down--;this.count_down_timeout=setTimeout(_timer.bind(this),1000);}};_timer.call(this);this.stop_btn.show();this.timer_btn.show();this.start_btn.hide();this.close_btn.hide();};var _afterGetVoiceStream=()=>{if(this.voice_stream){navigator.mediaDevices.getDisplayMedia(displayMediaOptions).then(stream=>{this.screen_stream=stream;var screen_tracks=this.screen_stream.getTracks();var voice_tracks=this.voice_stream.getTracks();this.combined_stream=new MediaStream(screen_tracks.concat(voice_tracks));_afterGetVideoStream();}).catch(this.handleCaptureError.bind(this));}else{navigator.mediaDevices.getDisplayMedia(displayMediaOptions).then(stream=>{this.screen_stream=stream;this.combined_stream=this.screen_stream;// disabled mic button
this.is_muted=true;this.mute_btn.removeClass('userback-video-controls-active').attr('disabled',true);_afterGetVideoStream();}).catch(this.handleCaptureError.bind(this));}};if(this.device_list.audioinput.length){navigator.mediaDevices.getUserMedia(userMediaOptions).then(stream=>{this.voice_stream=stream;_afterGetVoiceStream();try{var audio_context=new AudioContext();var analyser=audio_context.createAnalyser();var microphone=audio_context.createMediaStreamSource(stream);this.audio_script_processor=audio_context.createScriptProcessor(2048,1,1);analyser.smoothingTimeConstant=0.8;analyser.fftSize=1024;microphone.connect(analyser);analyser.connect(this.audio_script_processor);this.audio_script_processor.connect(audio_context.destination);this.audio_script_processor._disconnect=()=>{this.audio_script_processor.disconnect(audio_context.destination);};this.audio_script_processor.onaudioprocess=()=>{var values=0;var array=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(array);for(var i=0;i<array.length;i++){values+=array[i];}var average=values/array.length;var volume=Math.floor(average/150*10);// max 150
this.mic_volume.toggleClass('hasvolume',volume>0);};}catch(e){// api is not supported: ignore
}}).catch(()=>{// cant get microphone: DOMException: Permission denied
_afterGetVoiceStream();});}else{_afterGetVoiceStream();}}catch(e){this.handleCaptureError(e);}},stopCapture:function(){if(this.recorder){this.submitRecording();}else{this.stopRecording();this.removeControls();this.removeOverlay();this.reset();if(this.options.onCancel){this.options.onCancel();}}},cancelCapture:function(){this.stopRecording();this.removeControls();this.removeOverlay();this.reset();if(this.options.onCancel){this.options.onCancel();}},handleCaptureError:function(e){if(typeof e.name!=='undefined'&&e.name==='NotAllowedError'){if(e.message.toLowerCase()==='permission denied by system'){Feedback.modalConfirm('<div style="margin-bottom: 8px;"><b>Permission denied</b></div><div class="userback-modal-info-text">Please allow screen recording permission for the browser.</div>',function(){Feedback.modalClose();},'OK');}// browser permission is not allowed
this.stopCapture();}else{// when video recording (browser API) is not supported in the browser
Feedback.modalConfirm('<div style="margin-bottom: 8px;"><b>Video recording is not supported in your browser</b></div><div class="userback-modal-info-text">Please download the latest version of <a href="https://www.google.com/chrome/">Chrome</a>, <a href="https://www.mozilla.org/firefox/download/thanks/">Firefox</a> or <a href="http://microsoft.com/en-us/edge">Microsoft Edge</a>.</div>',function(){Feedback.modalClose();},'OK');}},getTimerText:function(){var min=Math.floor(this.timer/60);var sec=this.timer-min*60;if(min<10){min='0'+min;}if(sec<10){sec='0'+sec;}return min+':'+sec;},startTimer:function(){this.stop_btn.find('btn-timer, btn-timer-mask').css('animation-play-state','running');this.timer_timeout=setInterval(()=>{var timer_text=this.getTimerText();this.timer_btn.text(timer_text);this.timer--;if(timer_text==='00:00'){clearInterval(this.timer_timeout);this.submitRecording();}},1000);},stopTimer:function(){clearInterval(this.timer_timeout);},stopCountDown:function(){clearTimeout(this.count_down_timeout);},startRecording:function(){try{// vp8 and opus are supported by Chrome and Firefox
this.recorder=new MediaRecorder(this.combined_stream,{mimeType:this.mime_type});}catch(e){return;}this.toggleAudio();this.recorder.addEventListener('dataavailable',this.handleDataAvailable.bind(this));this.recorder.start(10);// collect 10ms of data in each blob
this.pause_btn.removeAttr('disabled');this.draw_btn.removeAttr('disabled');if(this.overlay){this.overlay.attr('recording',this.recorder?'true':'false');}this.startTimer();window.addEventListener('beforeunload',e=>{if(!this.recorder){return;}// Cancel the event
e.preventDefault();// If you prevent default behavior in Mozilla Firefox prompt will always be shown
// Chrome requires returnValue to be set
e.returnValue='';});},stopRecording:function(){if(this.recorder){this.recorder.stop();}if(this.combined_stream){this.combined_stream.getTracks().forEach(function(track){track.stop();});}this.stopTimer();this.stopCountDown();},pauseRecording:function(){if(this.pause_btn.attr('disabled')){return;}if(!this.recorder){return;}switch(this.recorder.state){case'recording':this.pause_btn.html('<btn-tooltip><btn-name>'+Lang.get('recording_resume',true)+'</btn-name><btn-shortcut>Shift + P</btn-shortcut></btn-tooltip><btn-tooltip-arrow></btn-tooltip-arrow>'+Svg_Icons.resume);this.recorder.pause();this.stop_btn.find('btn-timer, btn-timer-mask').css('animation-play-state','paused');this.stopTimer();break;case'paused':this.pause_btn.html('<btn-tooltip><btn-name>'+Lang.get('recording_pause',true)+'</btn-name><btn-shortcut>Shift + P</btn-shortcut></btn-tooltip><btn-tooltip-arrow></btn-tooltip-arrow>'+Svg_Icons.pause);this.recorder.resume();this.stop_btn.find('btn-timer, btn-timer-mask').css('animation-play-state','running');this.startTimer();break;}},submitRecording:function(){this.stopRecording();if(this.options.onSubmit){var video_blob=new Blob(this.recorded_blobs,{type:'video/webm'});this.options.onSubmit(video_blob,this.annotation_timeline);}this.removeControls();this.removeOverlay();this.reset();},handleDataAvailable:function(e){if(e.data&&e.data.size>0){this.recorded_blobs.push(e.data);}}};var Comment=function(options){'use strict';this.x=options.x;this.y=options.y;this.scroll_t=options.scroll_t;this.scroll_l=options.scroll_l;this.offset_x=options.offset_x;this.offset_y=options.offset_y;this.counter=options.counter;this.screenshot_num=options.screenshot_num;this.onDelete=options.onDelete;this.onOpen=options.onOpen;this.is_new=true;var element=$('<div>').addClass('userback-comment').attr('data-html2canvas-ignore','true');var comment_message='';element.on('click mouseup mousedown',function(e){e.stopPropagation();});this._getHTML=function(){return'<div class="userback-comment-pin"><span>'+(this.counter+1)+'</span></div>'+'<form class="userback-comment-form">'+'<ubcomment class="ubmousescroll" contenteditable="true" data-ph="'+Lang.get('add_your_comment_here')+'" gramm_editor="false"></ubcomment>'+'<btn class="userback-button-input">'+Lang.get('save')+'</btn>'+'<btn class="userback-comment-form-delete" title="'+Lang.get('delete')+'">'+Svg_Icons.trash+'</btn>'+'<btn class="userback-comment-form-close" title="'+Lang.get('close')+'">'+Svg_Icons.times+'</btn>'+'</form>';};this.isOpen=function(){return element.find('.userback-comment-form').is(':visible');};this.isEmpty=function(){return comment_message?false:true;};this.setCounter=function(counter){this.counter=counter;element.find('.userback-comment-pin > span').text(counter+1);};this.submit=function(){element.find('.userback-button-input').click();},this.show=function(){element.show();};this.hide=function(){element.hide();};this.showForm=function(){element.find('.userback-comment-form').show();element.find('ubcomment').html(Lib.htmlEntities(comment_message,true)).focus();};this.hideForm=function(){element.find('.userback-comment-form-delete').show();element.find('.userback-comment-form').hide();};this.setPosition=function(x,y){this.x=x;this.y=y;this.setFormDirection();element.css({top:this.y,left:this.x});};this.setFormDirection=function(){var form_width=Lib.isMobile()?210:430;// 30 is the left position
var form_height=Lib.isMobile()?150:200;if(Lib.isMobile()){if(this.x>$(window).width()/2){element.find('.userback-comment-form').attr('xdirection','left');}else{element.find('.userback-comment-form').attr('xdirection','right');}if(this.y>140){element.find('.userback-comment-form').attr('ydirection','top');}else{element.find('.userback-comment-form').attr('ydirection','down');}}else{if($(window).scrollLeft()+$(window).width()-this.x>=form_width){element.find('.userback-comment-form').attr('xdirection','right');}else{element.find('.userback-comment-form').attr('xdirection','left');}if($(window).scrollTop()+$(window).height()-this.y>=form_height){element.find('.userback-comment-form').attr('ydirection','down');}else{element.find('.userback-comment-form').attr('ydirection','top');}}};this.add=function(){element.css({top:this.y,left:this.x});element.html(this._getHTML());this.setFormDirection();// open form
element.find('.userback-comment-pin').on('click',e=>{this.showForm();this.onOpen(this.counter);});// delete
element.find('.userback-comment-form-close').on('click',e=>{e.stopPropagation();if(this.is_new){this.destroy();this.onDelete(this.counter);return;}this.hideForm();});element.find('.userback-comment-form-delete').on('click',e=>{e.stopPropagation();this.destroy();this.onDelete(this.counter);});element.find('ubcomment').on('keydown',function(e){if(e.which===13){if(e.ctrlKey||e.metaKey){element.find('button[type="submit"]').click();}}});element.find('ubcomment').on('keyup',function(e){if($(this).html()==='<br>'){$(this).html('');};});element.find('ubcomment').on('paste',function(e){e.preventDefault();try{var text=(e.originalEvent||e).clipboardData.getData('text/plain');document.execCommand('insertText',false,text);}catch(e){}});// form submit
element.find('.userback-button-input').on('click',e=>{comment_message=element.find('ubcomment').html();comment_message=comment_message.replace(/<br\/?>/ig,'\n');comment_message=comment_message.replace(/(<([^>]+)>)/gi,'');comment_message=comment_message.replace(/&nbsp;/gi,' ');comment_message=comment_message.replace(/&lt;/gi,'<');comment_message=comment_message.replace(/&gt;/gi,'>');comment_message=comment_message.replace(/&amp;/gi,'&');comment_message=comment_message.replace(/&quot;/gi,'"');comment_message=comment_message.trim();if(!comment_message){return;}this.is_new=false;this.hideForm();});// add to the document
element.appendTo($(document.body));element.find('ubcomment').focus();};this.getData=function(){var screen_x=parseInt(this.x-this.scroll_l-this.offset_x,10);var screen_y=parseInt(this.y-this.scroll_t-this.offset_y,10);return{screen_x:screen_x,screen_y:screen_y,screen_number:this.counter+1,screenshot_num:this.screenshot_num,message:comment_message};};this.destroy=function(){element.remove();element=undefined;comment_message='';};};var Session_Recorder={events_chunk:[[]],time_limit:3,// 3 mins
recordFn:null,stopFn:null,last_event_time:0,session_key:'userback-recording',init:function(){this.sessionStart();Feedback.loadScripts([Feedback.scripts.rrweb],this.startRecording.bind(this));},sessionStart:function(){this.events_chunk=[[]];try{var recordings=window.sessionStorage.getItem(this.session_key);if(recordings){recordings=JSON.parse(recordings);if(recordings.payload&&recordings.timestamp){var now=new Date().getTime()/1000;// if within 1 min
if(now-recordings.timestamp<=1*60){this.events_chunk=recordings.payload;}}window.sessionStorage.removeItem(this.session_key);}}catch(e){}window.addEventListener('beforeunload',e=>{Session_Recorder.addCustomEvent('navigation',{type:'page_beforeunload'});try{window.sessionStorage.setItem(this.session_key,JSON.stringify({payload:this.events_chunk,timestamp:this.last_event_time}));}catch(e){}});},startRecording:function(){this.recordFn=typeof rrweb!=='undefined'?rrweb.record:rrwebRecord;var block_class='userback-block';var ignore_class='userback-ignore';if(Feedback.configs.recording_rules.block&&Feedback.configs.recording_rules.block.length){block_class=Feedback.configs.recording_rules.block[0].replace(/^./,'');}if(Feedback.configs.recording_rules.ignore&&Feedback.configs.recording_rules.ignore.length){ignore_class=Feedback.configs.recording_rules.ignore[0].replace(/^./,'');}var console_log_level=[];if(Feedback.configs.capture_console_log){console_log_level.push('log');}if(Feedback.configs.capture_console_info){console_log_level.push('info');}if(Feedback.configs.capture_console_warn){console_log_level.push('warn');}if(Feedback.configs.capture_console_debug){console_log_level.push('debug');}this.checkout_interval=setInterval(function(){try{var event=new Event('mousemove');document.body.dispatchEvent(event);}catch(e){}},this.time_limit*1000*60);this.stopFn=this.recordFn({recordLog:true,inlineStylesheet:true,checkoutEveryNms:this.time_limit*60*1000,collectFonts:false,blockClass:block_class,ignoreClass:ignore_class,maskInputOptions:{'email':Feedback.configs.recording_rules.mask.indexOf('input[type="email"]')!==-1,'password':Feedback.configs.recording_rules.mask.indexOf('input[type="password"]')!==-1,'color':Feedback.configs.recording_rules.mask.indexOf('input[type="color"]')!==-1,'date':Feedback.configs.recording_rules.mask.indexOf('input[type="date"]')!==-1,'datetime-local':Feedback.configs.recording_rules.mask.indexOf('input[type="datetime-local"]')!==-1,'month':Feedback.configs.recording_rules.mask.indexOf('input[type="month"]')!==-1,'number':Feedback.configs.recording_rules.mask.indexOf('input[type="number"]')!==-1,'range':Feedback.configs.recording_rules.mask.indexOf('input[type="range"]')!==-1,'search':Feedback.configs.recording_rules.mask.indexOf('input[type="search"]')!==-1,'tel':Feedback.configs.recording_rules.mask.indexOf('input[type="tel"]')!==-1,'text':Feedback.configs.recording_rules.mask.indexOf('input[type="text"]')!==-1,'time':Feedback.configs.recording_rules.mask.indexOf('input[type="time"]')!==-1,'url':Feedback.configs.recording_rules.mask.indexOf('input[type="url"]')!==-1,'week':Feedback.configs.recording_rules.mask.indexOf('input[type="week"]')!==-1,'textarea':Feedback.configs.recording_rules.mask.indexOf('textarea')!==-1,'select':Feedback.configs.recording_rules.mask.indexOf('select')!==-1},emit:(event,is_checkout)=>{this.last_event_time=new Date().getTime()/1000;if(is_checkout){this.events_chunk.push([]);// keep 2 events in the array
if(this.events_chunk.length>=2){this.events_chunk.splice(0,this.events_chunk.length-2);}}// push into the last event
this.events_chunk[this.events_chunk.length-1].push(event);},plugins:console_log_level.length?[rrwebConsoleRecord.getRecordConsolePlugin({logger:window.console,level:console_log_level,lengthThreshold:100,// 100 log items
stringifyOptions:{stringLengthLimit:1000,numOfKeysLimit:100,depthOfLimit:20}})]:undefined});},stopRecording:function(){this.events_chunk=[[]];if(this.stopFn){this.stopFn();this.stopFn=null;}clearInterval(this.checkout_interval);try{window.sessionStorage.removeItem(this.session_key);}catch(e){}},addCustomEvent:function(event_type,payload){if(!Feedback.features.session_recording){return;}if(!this.recordFn){return;}this.recordFn.addCustomEvent(event_type,payload);},getAll:function(){var length=this.events_chunk.length;var events;if(length>=2){events=this.events_chunk[length-2].concat(this.events_chunk[length-1]);}else{events=this.events_chunk[0];}return JSON.stringify(events);}};Userback.Console_Recorder={_track_type:['log','error','warn','debug','info'],data:[],init:function(){if(typeof console==='undefined'){return;}try{if(typeof window.console._std==='undefined'){window.console._std={log:window.console.log.bind(window.console),error:window.console.error.bind(window.console),warn:window.console.warn.bind(window.console),debug:window.console.debug.bind(window.console),info:window.console.info.bind(window.console)};}this.error_handler=function(e){if(!e){return;}if(Lib.isChrome()){if(typeof e.error!=='undefined'&&e.error&&typeof e.error.stack!=='undefined'){if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('error',[e.error.stack]);}}}else{if(typeof e.message!=='undefined'){if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('error',[e.message+(typeof e.filename!=='undefined'?"\r\n    "+e.filename+':'+e.lineno:'')]);}}}};// log
window.console.log=function(){window.console._std.log.apply(window.console,arguments);if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('log',Array.from(arguments));}};// error
window.console.error=function(){window.console._std.error.apply(window.console,arguments);if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('error',Array.from(arguments));}};window.addEventListener('error',this.error_handler);// warning
window.console.warn=function(){window.console._std.warn.apply(window.console,arguments);if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('warn',Array.from(arguments));}};// debug
window.console.debug=function(){window.console._std.debug.apply(window.console,arguments);if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('debug',Array.from(arguments));}};// info
window.console.info=function(){window.console._std.info.apply(window.console,arguments);if(typeof Userback!=='undefined'&&typeof Userback.Console_Recorder!=='undefined'){Userback.Console_Recorder.track('info',Array.from(arguments));}};}catch(e){}},stop:function(type){if(typeof type==='undefined'){// stop all
this._track_type=[];this.data=[];window.console.log=window.console._std.log;window.console.error=window.console._std.error;window.console.warn=window.console._std.warn;window.console.debug=window.console._std.debug;window.console.info=window.console._std.info;window.removeEventListener('error',this.error_handler);}else{var index=this._track_type.indexOf(type);if(index!==-1){this._track_type.splice(index,1);}var new_data=[];this.data.forEach(function(data){if(data.type!==type){new_data.push(data);}});this.data=new_data;switch(type){case'log':window.console.log=window.console._std.log;break;case'error':window.console.error=window.console._std.error;window.removeEventListener('error',this.error_handler);break;case'warn':window.console.warn=window.console._std.warn;break;case'debug':window.console.debug=window.console._std.debug;break;case'info':window.console.info=window.console._std.info;break;}}},track:function(type,data){if(this._track_type.indexOf(type)===-1){return;}var data=Userback.Console_Recorder.validate(data);if(data&&data.length){this.data.push({type:type,data:data});if(type==='error'){Session_Recorder.addCustomEvent('error',data);}}},getAll:function(){return this.data;},validate:function(data){var response=[];for(var i=0;i<data.length;i++){var raw_data=data[i];var new_data_value;var new_data_type;try{switch(typeof raw_data){case'number':new_data_value=raw_data;new_data_type='number';break;case'string':new_data_value=raw_data;new_data_type='string';break;case'boolean':new_data_value=raw_data;new_data_type='boolean';break;case'function':new_data_value='function'+(typeof raw_data.name==='string'?' '+raw_data.name+'() {...}':'');new_data_type='function';break;case'object':if(raw_data===null){new_data_value='null';new_data_type='null';}else if(raw_data instanceof HTMLElement){new_data_value='<'+raw_data.tagName.toLowerCase();for(var z=0;z<raw_data.attributes.length;z++){new_data_value+=' '+raw_data.attributes[z].nodeName;if(raw_data.attributes[z].nodeValue){new_data_value+='="'+raw_data.attributes[z].nodeValue+'"';}}new_data_value+='>...</'+raw_data.tagName.toLowerCase()+'>';new_data_type='dom';}else if(raw_data instanceof HTMLDocument){new_data_value='#document';new_data_type='dom';}else{new_data_value=JSON.stringify(raw_data);new_data_type='json';}break;case'undefined':new_data_value='undefined';new_data_type='undefined';break;}}catch(e){}if(new_data_value&&new_data_type){response.push({val:new_data_value.length>4000?new_data_value.substring(0,4000)+'...':new_data_value,type:new_data_type});}}return response;}};Userback.Event_Recorder={_started:false,_max_track_dom:5,_max_track_event:10,data:[],init:function(){this.bindEvent();},stop:function(){this.data=[];this.unbindEvent();},unbindEvent:function(elements){$(document).off('mousedown',this.trackEvent);},bindEvent:function(elements){$(document).on('mousedown',this.trackEvent);},trackEvent:function(e){var do_ignore=false;var ignore_class=['userback-button-container','userback-comment','userback-overlay','userback-feedback-view'];ignore_class.forEach(function(class_name){if($(e.target).parents('.'+class_name).length||$(e.target).hasClass(class_name)){do_ignore=true;}});if(do_ignore){return;}if($(e.target).parents('utoolbar').length||$(e.target).prop('tagName').toLowerCase()==='utoolbar'){return;}if($(e.target).parents('umodal').length||$(e.target).prop('tagName').toLowerCase()==='umodal'){return;}if($(e.target).prop('tagName').toLowerCase()==='body'){return;}Userback.Event_Recorder.data.push({type:'click',data:Userback.Event_Recorder.getEventData(e.target)});Userback.Event_Recorder.data=Userback.Event_Recorder.data.slice(0,Userback.Event_Recorder._max_track_event);},getEventData:function(element){var element_tree=[element];var parent=this.getParent(element);while(parent!==false){element_tree.push(parent);parent=this.getParent(parent);}element_tree=element_tree.slice(0,this._max_track_dom).reverse();var selector_names=[];element_tree.forEach(element=>{selector_names.push(this.getElementName(element));});return selector_names.join(' > ');},getElementName:function(element){var name=$(element).prop('tagName').toLowerCase();var id=$(element).attr('id');var class_name=$(element).attr('class');if(id){return name+'#'+id;}else if(class_name){return name+'.'+class_name.replace(/ /g,'.');}else{return name;}},getParent:function(element){var parent=$(element).parent();if(parent&&parent.length&&parent.prop('tagName')&&parent.prop('tagName').toLowerCase()!=='body'&&parent.prop('tagName').toLowerCase()!=='html'){return parent.get(0);}else{return false;}},getAll:function(){return this.data;}};window.Userback=$.extend(window.Userback,Userback_Api);$(document).ready(function(){if(window.Userback.auto_start!==false&&window.Userback.access_token){Feedback.init.call(Feedback);}});Userback.Console_Recorder.init();Userback.Event_Recorder.init();})(JQ);// set the jQuery and $ instances back to their previous values
if(typeof _temp_$!=='undefined'&&_temp_$){window.$=_temp_$;}if(typeof _temp_jQuery!=='undefined'&&_temp_jQuery){window.jQuery=_temp_jQuery;}}).call(window);
